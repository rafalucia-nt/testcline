{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Guille/Documents/Arquetype/node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js"],"sourcesContent":["/**\n * @license React\n * react-jsx-dev-runtime.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\n\"production\" !== process.env.NODE_ENV &&\n  (function () {\n    function getComponentNameFromType(type) {\n      if (null == type) return null;\n      if (\"function\" === typeof type)\n        return type.$$typeof === REACT_CLIENT_REFERENCE\n          ? null\n          : type.displayName || type.name || null;\n      if (\"string\" === typeof type) return type;\n      switch (type) {\n        case REACT_FRAGMENT_TYPE:\n          return \"Fragment\";\n        case REACT_PROFILER_TYPE:\n          return \"Profiler\";\n        case REACT_STRICT_MODE_TYPE:\n          return \"StrictMode\";\n        case REACT_SUSPENSE_TYPE:\n          return \"Suspense\";\n        case REACT_SUSPENSE_LIST_TYPE:\n          return \"SuspenseList\";\n        case REACT_ACTIVITY_TYPE:\n          return \"Activity\";\n      }\n      if (\"object\" === typeof type)\n        switch (\n          (\"number\" === typeof type.tag &&\n            console.error(\n              \"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"\n            ),\n          type.$$typeof)\n        ) {\n          case REACT_PORTAL_TYPE:\n            return \"Portal\";\n          case REACT_CONTEXT_TYPE:\n            return type.displayName || \"Context\";\n          case REACT_CONSUMER_TYPE:\n            return (type._context.displayName || \"Context\") + \".Consumer\";\n          case REACT_FORWARD_REF_TYPE:\n            var innerType = type.render;\n            type = type.displayName;\n            type ||\n              ((type = innerType.displayName || innerType.name || \"\"),\n              (type = \"\" !== type ? \"ForwardRef(\" + type + \")\" : \"ForwardRef\"));\n            return type;\n          case REACT_MEMO_TYPE:\n            return (\n              (innerType = type.displayName || null),\n              null !== innerType\n                ? innerType\n                : getComponentNameFromType(type.type) || \"Memo\"\n            );\n          case REACT_LAZY_TYPE:\n            innerType = type._payload;\n            type = type._init;\n            try {\n              return getComponentNameFromType(type(innerType));\n            } catch (x) {}\n        }\n      return null;\n    }\n    function testStringCoercion(value) {\n      return \"\" + value;\n    }\n    function checkKeyStringCoercion(value) {\n      try {\n        testStringCoercion(value);\n        var JSCompiler_inline_result = !1;\n      } catch (e) {\n        JSCompiler_inline_result = !0;\n      }\n      if (JSCompiler_inline_result) {\n        JSCompiler_inline_result = console;\n        var JSCompiler_temp_const = JSCompiler_inline_result.error;\n        var JSCompiler_inline_result$jscomp$0 =\n          (\"function\" === typeof Symbol &&\n            Symbol.toStringTag &&\n            value[Symbol.toStringTag]) ||\n          value.constructor.name ||\n          \"Object\";\n        JSCompiler_temp_const.call(\n          JSCompiler_inline_result,\n          \"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.\",\n          JSCompiler_inline_result$jscomp$0\n        );\n        return testStringCoercion(value);\n      }\n    }\n    function getTaskName(type) {\n      if (type === REACT_FRAGMENT_TYPE) return \"<>\";\n      if (\n        \"object\" === typeof type &&\n        null !== type &&\n        type.$$typeof === REACT_LAZY_TYPE\n      )\n        return \"<...>\";\n      try {\n        var name = getComponentNameFromType(type);\n        return name ? \"<\" + name + \">\" : \"<...>\";\n      } catch (x) {\n        return \"<...>\";\n      }\n    }\n    function getOwner() {\n      var dispatcher = ReactSharedInternals.A;\n      return null === dispatcher ? null : dispatcher.getOwner();\n    }\n    function UnknownOwner() {\n      return Error(\"react-stack-top-frame\");\n    }\n    function hasValidKey(config) {\n      if (hasOwnProperty.call(config, \"key\")) {\n        var getter = Object.getOwnPropertyDescriptor(config, \"key\").get;\n        if (getter && getter.isReactWarning) return !1;\n      }\n      return void 0 !== config.key;\n    }\n    function defineKeyPropWarningGetter(props, displayName) {\n      function warnAboutAccessingKey() {\n        specialPropKeyWarningShown ||\n          ((specialPropKeyWarningShown = !0),\n          console.error(\n            \"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)\",\n            displayName\n          ));\n      }\n      warnAboutAccessingKey.isReactWarning = !0;\n      Object.defineProperty(props, \"key\", {\n        get: warnAboutAccessingKey,\n        configurable: !0\n      });\n    }\n    function elementRefGetterWithDeprecationWarning() {\n      var componentName = getComponentNameFromType(this.type);\n      didWarnAboutElementRef[componentName] ||\n        ((didWarnAboutElementRef[componentName] = !0),\n        console.error(\n          \"Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.\"\n        ));\n      componentName = this.props.ref;\n      return void 0 !== componentName ? componentName : null;\n    }\n    function ReactElement(type, key, props, owner, debugStack, debugTask) {\n      var refProp = props.ref;\n      type = {\n        $$typeof: REACT_ELEMENT_TYPE,\n        type: type,\n        key: key,\n        props: props,\n        _owner: owner\n      };\n      null !== (void 0 !== refProp ? refProp : null)\n        ? Object.defineProperty(type, \"ref\", {\n            enumerable: !1,\n            get: elementRefGetterWithDeprecationWarning\n          })\n        : Object.defineProperty(type, \"ref\", { enumerable: !1, value: null });\n      type._store = {};\n      Object.defineProperty(type._store, \"validated\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: 0\n      });\n      Object.defineProperty(type, \"_debugInfo\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: null\n      });\n      Object.defineProperty(type, \"_debugStack\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: debugStack\n      });\n      Object.defineProperty(type, \"_debugTask\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: debugTask\n      });\n      Object.freeze && (Object.freeze(type.props), Object.freeze(type));\n      return type;\n    }\n    function jsxDEVImpl(\n      type,\n      config,\n      maybeKey,\n      isStaticChildren,\n      debugStack,\n      debugTask\n    ) {\n      var children = config.children;\n      if (void 0 !== children)\n        if (isStaticChildren)\n          if (isArrayImpl(children)) {\n            for (\n              isStaticChildren = 0;\n              isStaticChildren < children.length;\n              isStaticChildren++\n            )\n              validateChildKeys(children[isStaticChildren]);\n            Object.freeze && Object.freeze(children);\n          } else\n            console.error(\n              \"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\"\n            );\n        else validateChildKeys(children);\n      if (hasOwnProperty.call(config, \"key\")) {\n        children = getComponentNameFromType(type);\n        var keys = Object.keys(config).filter(function (k) {\n          return \"key\" !== k;\n        });\n        isStaticChildren =\n          0 < keys.length\n            ? \"{key: someKey, \" + keys.join(\": ..., \") + \": ...}\"\n            : \"{key: someKey}\";\n        didWarnAboutKeySpread[children + isStaticChildren] ||\n          ((keys =\n            0 < keys.length ? \"{\" + keys.join(\": ..., \") + \": ...}\" : \"{}\"),\n          console.error(\n            'A props object containing a \"key\" prop is being spread into JSX:\\n  let props = %s;\\n  <%s {...props} />\\nReact keys must be passed directly to JSX without using spread:\\n  let props = %s;\\n  <%s key={someKey} {...props} />',\n            isStaticChildren,\n            children,\n            keys,\n            children\n          ),\n          (didWarnAboutKeySpread[children + isStaticChildren] = !0));\n      }\n      children = null;\n      void 0 !== maybeKey &&\n        (checkKeyStringCoercion(maybeKey), (children = \"\" + maybeKey));\n      hasValidKey(config) &&\n        (checkKeyStringCoercion(config.key), (children = \"\" + config.key));\n      if (\"key\" in config) {\n        maybeKey = {};\n        for (var propName in config)\n          \"key\" !== propName && (maybeKey[propName] = config[propName]);\n      } else maybeKey = config;\n      children &&\n        defineKeyPropWarningGetter(\n          maybeKey,\n          \"function\" === typeof type\n            ? type.displayName || type.name || \"Unknown\"\n            : type\n        );\n      return ReactElement(\n        type,\n        children,\n        maybeKey,\n        getOwner(),\n        debugStack,\n        debugTask\n      );\n    }\n    function validateChildKeys(node) {\n      \"object\" === typeof node &&\n        null !== node &&\n        node.$$typeof === REACT_ELEMENT_TYPE &&\n        node._store &&\n        (node._store.validated = 1);\n    }\n    var React = require(\"next/dist/compiled/react\"),\n      REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n      REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n      REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n      REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n      REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n      REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n      REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n      REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n      REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n      REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n      REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n      REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n      REACT_ACTIVITY_TYPE = Symbol.for(\"react.activity\"),\n      REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\"),\n      ReactSharedInternals =\n        React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n      hasOwnProperty = Object.prototype.hasOwnProperty,\n      isArrayImpl = Array.isArray,\n      createTask = console.createTask\n        ? console.createTask\n        : function () {\n            return null;\n          };\n    React = {\n      react_stack_bottom_frame: function (callStackForError) {\n        return callStackForError();\n      }\n    };\n    var specialPropKeyWarningShown;\n    var didWarnAboutElementRef = {};\n    var unknownOwnerDebugStack = React.react_stack_bottom_frame.bind(\n      React,\n      UnknownOwner\n    )();\n    var unknownOwnerDebugTask = createTask(getTaskName(UnknownOwner));\n    var didWarnAboutKeySpread = {};\n    exports.Fragment = REACT_FRAGMENT_TYPE;\n    exports.jsxDEV = function (type, config, maybeKey, isStaticChildren) {\n      var trackActualOwner =\n        1e4 > ReactSharedInternals.recentlyCreatedOwnerStacks++;\n      return jsxDEVImpl(\n        type,\n        config,\n        maybeKey,\n        isStaticChildren,\n        trackActualOwner\n          ? Error(\"react-stack-top-frame\")\n          : unknownOwnerDebugStack,\n        trackActualOwner ? createTask(getTaskName(type)) : unknownOwnerDebugTask\n      );\n    };\n  })();\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 209, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Guille/Documents/Arquetype/node_modules/next/dist/compiled/react/jsx-dev-runtime.js"],"sourcesContent":["'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-dev-runtime.production.js');\n} else {\n  module.exports = require('./cjs/react-jsx-dev-runtime.development.js');\n}\n"],"names":[],"mappings":"AAEI;AAFJ;AAEA;;KAEO;IACL,OAAO,OAAO;AAChB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 220, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/dom-mutator/dist/dom-mutator.esm.js","sources":["file:///C:/Users/Guille/Documents/Arquetype/node_modules/dom-mutator/src/index.ts"],"sourcesContent":["export const validAttributeName = /^[a-zA-Z:_][a-zA-Z0-9:_.-]*$/;\nconst nullController: MutationController = {\n  revert: () => {},\n};\n\nconst elements: Map<Element, ElementRecord> = new Map();\nconst mutations: Set<Mutation> = new Set();\n\nfunction getObserverInit(attr: string): MutationObserverInit {\n  return attr === 'html'\n    ? {\n        childList: true,\n        subtree: true,\n        attributes: true,\n        characterData: true,\n      }\n    : {\n        childList: false,\n        subtree: false,\n        attributes: true,\n        attributeFilter: [attr],\n      };\n}\n\nfunction getElementRecord(element: Element): ElementRecord {\n  let record = elements.get(element);\n\n  if (!record) {\n    record = { element, attributes: {} };\n    elements.set(element, record);\n  }\n\n  return record;\n}\n\nfunction createElementPropertyRecord(\n  el: Element,\n  attr: string,\n  getCurrentValue: (el: Element) => any,\n  setValue: (el: Element, val: any) => void,\n  mutationRunner: (record: ElementPropertyRecord<any, any>) => void\n) {\n  const currentValue = getCurrentValue(el);\n  const record: ElementPropertyRecord<any, any> = {\n    isDirty: false,\n    originalValue: currentValue,\n    virtualValue: currentValue,\n    mutations: [],\n    el,\n    _positionTimeout: null,\n    observer: new MutationObserver(() => {\n      // enact a 1 second timeout that blocks subsequent firing of the\n      // observer until the timeout is complete. This will prevent multiple\n      // mutations from firing in quick succession, which can cause the\n      // mutation to be reverted before the DOM has a chance to update.\n      if (attr === 'position' && record._positionTimeout) return;\n      else if (attr === 'position')\n        record._positionTimeout = setTimeout(() => {\n          record._positionTimeout = null;\n        }, 1000);\n\n      const currentValue = getCurrentValue(el);\n      if (\n        attr === 'position' &&\n        currentValue.parentNode === record.virtualValue.parentNode &&\n        currentValue.insertBeforeNode === record.virtualValue.insertBeforeNode\n      )\n        return;\n      if (currentValue === record.virtualValue) return;\n      record.originalValue = currentValue;\n      mutationRunner(record);\n    }),\n    mutationRunner,\n    setValue,\n    getCurrentValue,\n  };\n  if (attr === 'position' && el.parentNode) {\n    record.observer.observe(el.parentNode, {\n      childList: true,\n      subtree: true,\n      attributes: false,\n      characterData: false,\n    });\n  } else {\n    record.observer.observe(el, getObserverInit(attr));\n  }\n  return record;\n}\n\nfunction queueIfNeeded(\n  val: string | null | ElementPositionWithDomNode,\n  record: ElementPropertyRecord<any, any>\n) {\n  const currentVal = record.getCurrentValue(record.el);\n  record.virtualValue = val;\n  if (val && typeof val !== 'string') {\n    if (\n      !currentVal ||\n      val.parentNode !== currentVal.parentNode ||\n      val.insertBeforeNode !== currentVal.insertBeforeNode\n    ) {\n      record.isDirty = true;\n      runDOMUpdates();\n    }\n  } else if (val !== currentVal) {\n    record.isDirty = true;\n    runDOMUpdates();\n  }\n}\n\nfunction htmlMutationRunner(record: HTMLRecord) {\n  let val = record.originalValue;\n  record.mutations.forEach(m => (val = m.mutate(val)));\n  queueIfNeeded(getTransformedHTML(val), record);\n}\nfunction classMutationRunner(record: ClassnameRecord) {\n  const val = new Set(record.originalValue.split(/\\s+/).filter(Boolean));\n  record.mutations.forEach(m => m.mutate(val));\n  queueIfNeeded(\n    Array.from(val)\n      .filter(Boolean)\n      .join(' '),\n    record\n  );\n}\n\nfunction attrMutationRunner(record: AttributeRecord) {\n  let val: string | null = record.originalValue;\n  record.mutations.forEach(m => (val = m.mutate(val)));\n  queueIfNeeded(val, record);\n}\n\nfunction _loadDOMNodes({\n  parentSelector,\n  insertBeforeSelector,\n}: ElementPosition): ElementPositionWithDomNode | null {\n  const parentNode = document.querySelector<HTMLElement>(parentSelector);\n  if (!parentNode) return null;\n  const insertBeforeNode = insertBeforeSelector\n    ? document.querySelector<HTMLElement>(insertBeforeSelector)\n    : null;\n  if (insertBeforeSelector && !insertBeforeNode) return null;\n  return {\n    parentNode,\n    insertBeforeNode,\n  };\n}\n\nfunction positionMutationRunner(record: PositionRecord) {\n  let val = record.originalValue;\n  record.mutations.forEach(m => {\n    const selectors = m.mutate();\n    const newNodes = _loadDOMNodes(selectors);\n    val = newNodes || val;\n  });\n  queueIfNeeded(val, record);\n}\n\nconst getHTMLValue = (el: Element) => el.innerHTML;\nconst setHTMLValue = (el: Element, value: string) => (el.innerHTML = value);\nfunction getElementHTMLRecord(element: Element): HTMLRecord {\n  const elementRecord = getElementRecord(element);\n  if (!elementRecord.html) {\n    elementRecord.html = createElementPropertyRecord(\n      element,\n      'html',\n      getHTMLValue,\n      setHTMLValue,\n      htmlMutationRunner\n    );\n  }\n  return elementRecord.html;\n}\n\nconst getElementPosition = (el: Element): ElementPositionWithDomNode => {\n  return {\n    parentNode: el.parentElement as HTMLElement,\n    insertBeforeNode: el.nextElementSibling as HTMLElement | null,\n  };\n};\nconst setElementPosition = (el: Element, value: ElementPositionWithDomNode) => {\n  if (\n    value.insertBeforeNode &&\n    !value.parentNode.contains(value.insertBeforeNode)\n  ) {\n    // skip position mutation - insertBeforeNode not a child of parent. happens\n    // when mutation observer for indvidual element fires out of order\n    return;\n  }\n  value.parentNode.insertBefore(el, value.insertBeforeNode);\n};\nfunction getElementPositionRecord(element: Element): PositionRecord {\n  const elementRecord = getElementRecord(element);\n  if (!elementRecord.position) {\n    elementRecord.position = createElementPropertyRecord(\n      element,\n      'position',\n      getElementPosition,\n      setElementPosition,\n      positionMutationRunner\n    );\n  }\n  return elementRecord.position;\n}\n\nconst setClassValue = (el: Element, val: string) =>\n  val ? (el.className = val) : el.removeAttribute('class');\nconst getClassValue = (el: Element) => el.className;\nfunction getElementClassRecord(el: Element): ClassnameRecord {\n  const elementRecord = getElementRecord(el);\n  if (!elementRecord.classes) {\n    elementRecord.classes = createElementPropertyRecord(\n      el,\n      'class',\n      getClassValue,\n      setClassValue,\n      classMutationRunner\n    );\n  }\n  return elementRecord.classes;\n}\n\nconst getAttrValue = (attrName: string) => (el: Element) =>\n  el.getAttribute(attrName) ?? null;\nconst setAttrValue = (attrName: string) => (el: Element, val: string | null) =>\n  val !== null ? el.setAttribute(attrName, val) : el.removeAttribute(attrName);\nfunction getElementAttributeRecord(el: Element, attr: string): AttributeRecord {\n  const elementRecord = getElementRecord(el);\n  if (!elementRecord.attributes[attr]) {\n    elementRecord.attributes[attr] = createElementPropertyRecord(\n      el,\n      attr,\n      getAttrValue(attr),\n      setAttrValue(attr),\n      attrMutationRunner\n    );\n  }\n  return elementRecord.attributes[attr];\n}\n\nfunction deleteElementPropertyRecord(el: Element, attr: string) {\n  const element = elements.get(el);\n  if (!element) return;\n  if (attr === 'html') {\n    element.html?.observer?.disconnect();\n    delete element.html;\n  } else if (attr === 'class') {\n    element.classes?.observer?.disconnect();\n    delete element.classes;\n  } else if (attr === 'position') {\n    element.position?.observer?.disconnect();\n    delete element.position;\n  } else {\n    element.attributes?.[attr]?.observer?.disconnect();\n    delete element.attributes[attr];\n  }\n}\n\nlet transformContainer: HTMLDivElement;\nfunction getTransformedHTML(html: string) {\n  if (!transformContainer) {\n    transformContainer = document.createElement('div');\n  }\n  transformContainer.innerHTML = html;\n  return transformContainer.innerHTML;\n}\n\nfunction setPropertyValue<T extends ElementPropertyRecord<any, any>>(\n  el: Element,\n  attr: string,\n  m: T\n) {\n  if (!m.isDirty) return;\n  m.isDirty = false;\n  const val = m.virtualValue;\n  if (!m.mutations.length) {\n    deleteElementPropertyRecord(el, attr);\n  }\n  m.setValue(el, val);\n}\n\nfunction setValue(m: ElementRecord, el: Element) {\n  m.html && setPropertyValue<HTMLRecord>(el, 'html', m.html);\n  m.classes && setPropertyValue<ClassnameRecord>(el, 'class', m.classes);\n  m.position && setPropertyValue<PositionRecord>(el, 'position', m.position);\n  Object.keys(m.attributes).forEach(attr => {\n    setPropertyValue<AttributeRecord>(el, attr, m.attributes[attr]);\n  });\n}\n\nfunction runDOMUpdates() {\n  elements.forEach(setValue);\n}\n\n// find or create ElementPropertyRecord, add mutation to it, then run\nfunction startMutating(mutation: Mutation, element: Element) {\n  let record: ElementPropertyRecord<any, any> | null = null;\n  if (mutation.kind === 'html') {\n    record = getElementHTMLRecord(element);\n  } else if (mutation.kind === 'class') {\n    record = getElementClassRecord(element);\n  } else if (mutation.kind === 'attribute') {\n    record = getElementAttributeRecord(element, mutation.attribute);\n  } else if (mutation.kind === 'position') {\n    record = getElementPositionRecord(element);\n  }\n  if (!record) return;\n  record.mutations.push(mutation);\n  record.mutationRunner(record);\n}\n\n// get (existing) ElementPropertyRecord, remove mutation from it, then run\nfunction stopMutating(mutation: Mutation, el: Element) {\n  let record: ElementPropertyRecord<any, any> | null = null;\n  if (mutation.kind === 'html') {\n    record = getElementHTMLRecord(el);\n  } else if (mutation.kind === 'class') {\n    record = getElementClassRecord(el);\n  } else if (mutation.kind === 'attribute') {\n    record = getElementAttributeRecord(el, mutation.attribute);\n  } else if (mutation.kind === 'position') {\n    record = getElementPositionRecord(el);\n  }\n  if (!record) return;\n  const index = record.mutations.indexOf(mutation);\n  if (index !== -1) record.mutations.splice(index, 1);\n  record.mutationRunner(record);\n}\n\n// maintain list of elements associated with mutation\nfunction refreshElementsSet(mutation: Mutation) {\n  // if a position mutation has already found an element to move, don't move\n  // any more elements\n  if (mutation.kind === 'position' && mutation.elements.size === 1) return;\n\n  const existingElements = new Set(mutation.elements);\n  const matchingElements = document.querySelectorAll(mutation.selector);\n\n  matchingElements.forEach(el => {\n    if (!existingElements.has(el)) {\n      mutation.elements.add(el);\n      startMutating(mutation, el);\n    }\n  });\n}\n\nfunction revertMutation(mutation: Mutation) {\n  mutation.elements.forEach(el => stopMutating(mutation, el));\n  mutation.elements.clear();\n  mutations.delete(mutation);\n}\n\nfunction refreshAllElementSets() {\n  mutations.forEach(refreshElementsSet);\n}\n\n// Observer for elements that don't exist in the DOM yet\nlet observer: MutationObserver;\nexport function disconnectGlobalObserver() {\n  observer && observer.disconnect();\n}\nexport function connectGlobalObserver() {\n  if (typeof document === 'undefined') return;\n\n  if (!observer) {\n    observer = new MutationObserver(() => {\n      refreshAllElementSets();\n    });\n  }\n\n  refreshAllElementSets();\n  observer.observe(document.documentElement, {\n    childList: true,\n    subtree: true,\n    attributes: false,\n    characterData: false,\n  });\n}\n\n// run on init\nconnectGlobalObserver();\n\nfunction newMutation(m: Mutation): MutationController {\n  // Not in a browser\n  if (typeof document === 'undefined') return nullController;\n  // add to global index of mutations\n  mutations.add(m);\n  // run refresh on init to establish list of elements associated w/ mutation\n  refreshElementsSet(m);\n  return {\n    revert: () => {\n      revertMutation(m);\n    },\n  };\n}\n\nfunction html(\n  selector: HTMLMutation['selector'],\n  mutate: HTMLMutation['mutate']\n) {\n  return newMutation({\n    kind: 'html',\n    elements: new Set(),\n    mutate,\n    selector,\n  });\n}\n\nfunction position(\n  selector: PositionMutation['selector'],\n  mutate: PositionMutation['mutate']\n) {\n  return newMutation({\n    kind: 'position',\n    elements: new Set(),\n    mutate,\n    selector,\n  });\n}\n\nfunction classes(\n  selector: ClassnameMutation['selector'],\n  mutate: ClassnameMutation['mutate']\n) {\n  return newMutation({\n    kind: 'class',\n    elements: new Set(),\n    mutate,\n    selector,\n  });\n}\n\nfunction attribute(\n  selector: AttrMutation['selector'],\n  attribute: AttrMutation['attribute'],\n  mutate: AttrMutation['mutate']\n) {\n  if (!validAttributeName.test(attribute)) return nullController;\n\n  if (attribute === 'class' || attribute === 'className') {\n    return classes(selector, classnames => {\n      const mutatedClassnames = mutate(Array.from(classnames).join(' '));\n      classnames.clear();\n      if (!mutatedClassnames) return;\n      mutatedClassnames\n        .split(/\\s+/g)\n        .filter(Boolean)\n        .forEach(c => classnames.add(c));\n    });\n  }\n\n  return newMutation({\n    kind: 'attribute',\n    attribute,\n    elements: new Set(),\n    mutate,\n    selector,\n  });\n}\n\nfunction declarative({\n  selector,\n  action,\n  value,\n  attribute: attr,\n  parentSelector,\n  insertBeforeSelector,\n}: DeclarativeMutation): MutationController {\n  if (attr === 'html') {\n    if (action === 'append') {\n      return html(selector, val => val + (value ?? ''));\n    } else if (action === 'set') {\n      return html(selector, () => value ?? '');\n    }\n  } else if (attr === 'class') {\n    if (action === 'append') {\n      return classes(selector, val => {\n        if (value) val.add(value);\n      });\n    } else if (action === 'remove') {\n      return classes(selector, val => {\n        if (value) val.delete(value);\n      });\n    } else if (action === 'set') {\n      return classes(selector, val => {\n        val.clear();\n        if (value) val.add(value);\n      });\n    }\n  } else if (attr === 'position') {\n    if (action === 'set' && parentSelector) {\n      return position(selector, () => ({\n        insertBeforeSelector,\n        parentSelector,\n      }));\n    }\n  } else {\n    if (action === 'append') {\n      return attribute(selector, attr, val =>\n        val !== null ? val + (value ?? '') : value ?? ''\n      );\n    } else if (action === 'set') {\n      return attribute(selector, attr, () => value ?? '');\n    } else if (action === 'remove') {\n      return attribute(selector, attr, () => null);\n    }\n  }\n  return nullController;\n}\n\nexport type MutationController = {\n  revert: () => void;\n};\n\nexport type DeclarativeMutation = {\n  selector: string;\n  attribute: string;\n  action: 'append' | 'set' | 'remove';\n  value?: string;\n  parentSelector?: string;\n  insertBeforeSelector?: string;\n};\n\nexport default {\n  html,\n  classes,\n  attribute,\n  position,\n  declarative,\n};\n"],"names":["validAttributeName","nullController","revert","elements","Map","mutations","Set","getObserverInit","attr","childList","subtree","attributes","characterData","attributeFilter","getElementRecord","element","record","get","set","createElementPropertyRecord","el","getCurrentValue","setValue","mutationRunner","currentValue","isDirty","originalValue","virtualValue","_positionTimeout","observer","MutationObserver","setTimeout","parentNode","insertBeforeNode","observe","queueIfNeeded","val","currentVal","runDOMUpdates","htmlMutationRunner","forEach","m","mutate","getTransformedHTML","classMutationRunner","split","filter","Boolean","Array","from","join","attrMutationRunner","_loadDOMNodes","parentSelector","insertBeforeSelector","document","querySelector","positionMutationRunner","selectors","newNodes","getHTMLValue","innerHTML","setHTMLValue","value","getElementHTMLRecord","elementRecord","html","getElementPosition","parentElement","nextElementSibling","setElementPosition","contains","insertBefore","getElementPositionRecord","position","setClassValue","className","removeAttribute","getClassValue","getElementClassRecord","classes","getAttrValue","attrName","getAttribute","setAttrValue","setAttribute","getElementAttributeRecord","deleteElementPropertyRecord","disconnect","transformContainer","createElement","setPropertyValue","length","Object","keys","startMutating","mutation","kind","attribute","push","stopMutating","index","indexOf","splice","refreshElementsSet","size","existingElements","matchingElements","querySelectorAll","selector","has","add","revertMutation","clear","refreshAllElementSets","disconnectGlobalObserver","connectGlobalObserver","documentElement","newMutation","test","classnames","mutatedClassnames","c","declarative","action"],"mappings":"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","debugId":null}},
    {"offset": {"line": 666, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@growthbook/growthbook/dist/esm/util.mjs","sources":["file:///C:/Users/Guille/Documents/Arquetype/node_modules/%40growthbook/growthbook/src/util.ts"],"sourcesContent":["import {\n  AutoExperiment,\n  AutoExperimentChangeType,\n  Polyfills,\n  UrlTarget,\n  UrlTargetType,\n  VariationRange,\n} from \"./types/growthbook\";\n\nconst polyfills: Polyfills = {\n  fetch: globalThis.fetch ? globalThis.fetch.bind(globalThis) : undefined,\n  SubtleCrypto: globalThis.crypto ? globalThis.crypto.subtle : undefined,\n  EventSource: globalThis.EventSource,\n};\nexport function getPolyfills(): Polyfills {\n  return polyfills;\n}\n\nfunction hashFnv32a(str: string): number {\n  let hval = 0x811c9dc5;\n  const l = str.length;\n\n  for (let i = 0; i < l; i++) {\n    hval ^= str.charCodeAt(i);\n    hval +=\n      (hval << 1) + (hval << 4) + (hval << 7) + (hval << 8) + (hval << 24);\n  }\n  return hval >>> 0;\n}\n\nexport function hash(\n  seed: string,\n  value: string,\n  version: number\n): number | null {\n  // New unbiased hashing algorithm\n  if (version === 2) {\n    return (hashFnv32a(hashFnv32a(seed + value) + \"\") % 10000) / 10000;\n  }\n  // Original biased hashing algorithm (keep for backwards compatibility)\n  if (version === 1) {\n    return (hashFnv32a(value + seed) % 1000) / 1000;\n  }\n\n  // Unknown hash version\n  return null;\n}\n\nexport function getEqualWeights(n: number): number[] {\n  if (n <= 0) return [];\n  return new Array(n).fill(1 / n);\n}\n\nexport function inRange(n: number, range: VariationRange): boolean {\n  return n >= range[0] && n < range[1];\n}\n\nexport function inNamespace(\n  hashValue: string,\n  namespace: [string, number, number]\n): boolean {\n  const n = hash(\"__\" + namespace[0], hashValue, 1);\n  if (n === null) return false;\n  return n >= namespace[1] && n < namespace[2];\n}\n\nexport function chooseVariation(n: number, ranges: VariationRange[]): number {\n  for (let i = 0; i < ranges.length; i++) {\n    if (inRange(n, ranges[i])) {\n      return i;\n    }\n  }\n  return -1;\n}\n\nexport function getUrlRegExp(regexString: string): RegExp | undefined {\n  try {\n    const escaped = regexString.replace(/([^\\\\])\\//g, \"$1\\\\/\");\n    return new RegExp(escaped);\n  } catch (e) {\n    console.error(e);\n    return undefined;\n  }\n}\n\nexport function isURLTargeted(url: string, targets: UrlTarget[]) {\n  if (!targets.length) return false;\n  let hasIncludeRules = false;\n  let isIncluded = false;\n\n  for (let i = 0; i < targets.length; i++) {\n    const match = _evalURLTarget(url, targets[i].type, targets[i].pattern);\n    if (targets[i].include === false) {\n      if (match) return false;\n    } else {\n      hasIncludeRules = true;\n      if (match) isIncluded = true;\n    }\n  }\n\n  return isIncluded || !hasIncludeRules;\n}\n\nfunction _evalSimpleUrlPart(\n  actual: string,\n  pattern: string,\n  isPath: boolean\n): boolean {\n  try {\n    // Escape special regex characters and change wildcard `_____` to `.*`\n    let escaped = pattern\n      .replace(/[*.+?^${}()|[\\]\\\\]/g, \"\\\\$&\")\n      .replace(/_____/g, \".*\");\n\n    if (isPath) {\n      // When matching pathname, make leading/trailing slashes optional\n      escaped = \"\\\\/?\" + escaped.replace(/(^\\/|\\/$)/g, \"\") + \"\\\\/?\";\n    }\n\n    const regex = new RegExp(\"^\" + escaped + \"$\", \"i\");\n    return regex.test(actual);\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _evalSimpleUrlTarget(actual: URL, pattern: string) {\n  try {\n    // If a protocol is missing, but a host is specified, add `https://` to the front\n    // Use \"_____\" as the wildcard since `*` is not a valid hostname in some browsers\n    const expected = new URL(\n      pattern.replace(/^([^:/?]*)\\./i, \"https://$1.\").replace(/\\*/g, \"_____\"),\n      \"https://_____\"\n    );\n\n    // Compare each part of the URL separately\n    const comps: Array<[string, string, boolean]> = [\n      [actual.host, expected.host, false],\n      [actual.pathname, expected.pathname, true],\n    ];\n    // We only want to compare hashes if it's explicitly being targeted\n    if (expected.hash) {\n      comps.push([actual.hash, expected.hash, false]);\n    }\n\n    expected.searchParams.forEach((v, k) => {\n      comps.push([actual.searchParams.get(k) || \"\", v, false]);\n    });\n\n    // If any comparisons fail, the whole thing fails\n    return !comps.some(\n      (data) => !_evalSimpleUrlPart(data[0], data[1], data[2])\n    );\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _evalURLTarget(\n  url: string,\n  type: UrlTargetType,\n  pattern: string\n): boolean {\n  try {\n    const parsed = new URL(url, \"https://_\");\n\n    if (type === \"regex\") {\n      const regex = getUrlRegExp(pattern);\n      if (!regex) return false;\n      return (\n        regex.test(parsed.href) ||\n        regex.test(parsed.href.substring(parsed.origin.length))\n      );\n    } else if (type === \"simple\") {\n      return _evalSimpleUrlTarget(parsed, pattern);\n    }\n\n    return false;\n  } catch (e) {\n    return false;\n  }\n}\n\nexport function getBucketRanges(\n  numVariations: number,\n  coverage: number | undefined,\n  weights?: number[]\n): VariationRange[] {\n  coverage = coverage === undefined ? 1 : coverage;\n\n  // Make sure coverage is within bounds\n  if (coverage < 0) {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(\"Experiment.coverage must be greater than or equal to 0\");\n    }\n    coverage = 0;\n  } else if (coverage > 1) {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(\"Experiment.coverage must be less than or equal to 1\");\n    }\n    coverage = 1;\n  }\n\n  // Default to equal weights if missing or invalid\n  const equal = getEqualWeights(numVariations);\n  weights = weights || equal;\n  if (weights.length !== numVariations) {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(\n        \"Experiment.weights array must be the same length as Experiment.variations\"\n      );\n    }\n    weights = equal;\n  }\n\n  // If weights don't add up to 1 (or close to it), default to equal weights\n  const totalWeight = weights.reduce((w, sum) => sum + w, 0);\n  if (totalWeight < 0.99 || totalWeight > 1.01) {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(\"Experiment.weights must add up to 1\");\n    }\n    weights = equal;\n  }\n\n  // Covert weights to ranges\n  let cumulative = 0;\n  return weights.map((w) => {\n    const start = cumulative;\n    cumulative += w;\n    return [start, start + (coverage as number) * w];\n  }) as VariationRange[];\n}\n\nexport function getQueryStringOverride(\n  id: string,\n  url: string,\n  numVariations: number\n) {\n  if (!url) {\n    return null;\n  }\n\n  const search = url.split(\"?\")[1];\n  if (!search) {\n    return null;\n  }\n\n  const match = search\n    .replace(/#.*/, \"\") // Get rid of anchor\n    .split(\"&\") // Split into key/value pairs\n    .map((kv) => kv.split(\"=\", 2))\n    .filter(([k]) => k === id) // Look for key that matches the experiment id\n    .map(([, v]) => parseInt(v)); // Parse the value into an integer\n\n  if (match.length > 0 && match[0] >= 0 && match[0] < numVariations)\n    return match[0];\n\n  return null;\n}\n\nexport function isIncluded(include: () => boolean) {\n  try {\n    return include();\n  } catch (e) {\n    console.error(e);\n    return false;\n  }\n}\n\nconst base64ToBuf = (b: string) =>\n  Uint8Array.from(atob(b), (c) => c.charCodeAt(0));\n\nexport async function decrypt(\n  encryptedString: string,\n  decryptionKey?: string,\n  subtle?: SubtleCrypto\n): Promise<string> {\n  decryptionKey = decryptionKey || \"\";\n  subtle =\n    subtle ||\n    (globalThis.crypto && globalThis.crypto.subtle) ||\n    polyfills.SubtleCrypto;\n  if (!subtle) {\n    throw new Error(\"No SubtleCrypto implementation found\");\n  }\n  try {\n    const key = await subtle.importKey(\n      \"raw\",\n      base64ToBuf(decryptionKey),\n      { name: \"AES-CBC\", length: 128 },\n      true,\n      [\"encrypt\", \"decrypt\"]\n    );\n    const [iv, cipherText] = encryptedString.split(\".\");\n    const plainTextBuffer = await subtle.decrypt(\n      { name: \"AES-CBC\", iv: base64ToBuf(iv) },\n      key,\n      base64ToBuf(cipherText)\n    );\n\n    return new TextDecoder().decode(plainTextBuffer);\n  } catch (e) {\n    throw new Error(\"Failed to decrypt\");\n  }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function toString(input: any): string {\n  if (typeof input === \"string\") return input;\n  return JSON.stringify(input);\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function paddedVersionString(input: any): string {\n  if (typeof input === \"number\") {\n    input = input + \"\";\n  }\n  if (!input || typeof input !== \"string\") {\n    input = \"0\";\n  }\n  // Remove build info and leading `v` if any\n  // Split version into parts (both core version numbers and pre-release tags)\n  // \"v1.2.3-rc.1+build123\" -> [\"1\",\"2\",\"3\",\"rc\",\"1\"]\n  const parts = (input as string).replace(/(^v|\\+.*$)/g, \"\").split(/[-.]/);\n\n  // If it's SemVer without a pre-release, add `~` to the end\n  // [\"1\",\"0\",\"0\"] -> [\"1\",\"0\",\"0\",\"~\"]\n  // \"~\" is the largest ASCII character, so this will make \"1.0.0\" greater than \"1.0.0-beta\" for example\n  if (parts.length === 3) {\n    parts.push(\"~\");\n  }\n\n  // Left pad each numeric part with spaces so string comparisons will work (\"9\">\"10\", but \" 9\"<\"10\")\n  // Then, join back together into a single string\n  return parts\n    .map((v) => (v.match(/^[0-9]+$/) ? v.padStart(5, \" \") : v))\n    .join(\"-\");\n}\n\nexport function loadSDKVersion(): string {\n  let version: string;\n  try {\n    // @ts-expect-error right-hand value to be replaced by build with string literal\n    version = __SDK_VERSION__;\n  } catch (e) {\n    version = \"\";\n  }\n  return version;\n}\n\nexport function mergeQueryStrings(oldUrl: string, newUrl: string): string {\n  let currUrl: URL;\n  let redirectUrl: URL;\n  try {\n    currUrl = new URL(oldUrl);\n    redirectUrl = new URL(newUrl);\n  } catch (e) {\n    console.error(`Unable to merge query strings: ${e}`);\n    return newUrl;\n  }\n\n  currUrl.searchParams.forEach((value, key) => {\n    // skip  if search param already exists in redirectUrl\n    if (redirectUrl.searchParams.has(key)) {\n      return;\n    }\n    redirectUrl.searchParams.set(key, value);\n  });\n\n  return redirectUrl.toString();\n}\n\nfunction isObj(x: unknown): x is Record<string, unknown> {\n  return typeof x === \"object\" && x !== null;\n}\n\nexport function getAutoExperimentChangeType(\n  exp: AutoExperiment\n): AutoExperimentChangeType {\n  if (\n    exp.urlPatterns &&\n    exp.variations.some(\n      (variation) => isObj(variation) && \"urlRedirect\" in variation\n    )\n  ) {\n    return \"redirect\";\n  } else if (\n    exp.variations.some(\n      (variation) =>\n        isObj(variation) &&\n        (variation.domMutations || \"js\" in variation || \"css\" in variation)\n    )\n  ) {\n    return \"visual\";\n  }\n\n  return \"unknown\";\n}\n\n// Guarantee the promise always resolves within {timeout} ms\n// Resolved value will be `null` when there's an error or it takes too long\n// Note: The promise will continue running in the background, even if the timeout is hit\nexport async function promiseTimeout<T>(\n  promise: Promise<T>,\n  timeout?: number\n): Promise<T | null> {\n  return new Promise((resolve) => {\n    let resolved = false;\n    let timer: NodeJS.Timeout | undefined;\n    const finish = (data?: T) => {\n      if (resolved) return;\n      resolved = true;\n      timer && clearTimeout(timer);\n      resolve(data || null);\n    };\n\n    if (timeout) {\n      timer = setTimeout(() => finish(), timeout);\n    }\n\n    promise.then((data) => finish(data)).catch(() => finish());\n  });\n}\n"],"names":["polyfills","fetch","globalThis","bind","undefined","SubtleCrypto","crypto","subtle","EventSource","getPolyfills","hashFnv32a","str","hval","l","length","i","charCodeAt","hash","seed","value","version","getEqualWeights","n","Array","fill","inRange","range","inNamespace","hashValue","namespace","chooseVariation","ranges","getUrlRegExp","regexString","escaped","replace","RegExp","e","console","error","isURLTargeted","url","targets","hasIncludeRules","isIncluded","match","_evalURLTarget","type","pattern","include","_evalSimpleUrlPart","actual","isPath","regex","test","_evalSimpleUrlTarget","expected","URL","comps","host","pathname","push","searchParams","forEach","v","k","get","some","data","parsed","href","substring","origin","getBucketRanges","numVariations","coverage","weights","process","env","NODE_ENV","equal","totalWeight","reduce","w","sum","cumulative","map","start","getQueryStringOverride","id","search","split","kv","filter","parseInt","base64ToBuf","b","Uint8Array","from","atob","c","decrypt","encryptedString","decryptionKey","Error","key","importKey","name","iv","cipherText","plainTextBuffer","TextDecoder","decode","toString","input","JSON","stringify","paddedVersionString","parts","padStart","join","loadSDKVersion","mergeQueryStrings","oldUrl","newUrl","currUrl","redirectUrl","has","set","isObj","x","getAutoExperimentChangeType","exp","urlPatterns","variations","variation","domMutations","promiseTimeout","promise","timeout","Promise","resolve","resolved","timer","finish","clearTimeout","setTimeout","then","catch"],"mappings":"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","debugId":null}},
    {"offset": {"line": 1027, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@growthbook/growthbook/dist/esm/feature-repository.mjs","sources":["file:///C:/Users/Guille/Documents/Arquetype/node_modules/%40growthbook/growthbook/src/feature-repository.ts"],"sourcesContent":["import {\n  Attributes,\n  CacheSettings,\n  FeatureApiResponse,\n  FetchResponse,\n  Helpers,\n  Polyfills,\n} from \"./types/growthbook\";\nimport { getPolyfills, promiseTimeout } from \"./util\";\nimport type {\n  GrowthBook,\n  InitOptions,\n  InitSyncOptions,\n  GrowthBookClient,\n} from \".\";\n\ntype CacheEntry = {\n  data: FeatureApiResponse;\n  sse?: boolean;\n  version: string;\n  staleAt: Date;\n};\ntype ScopedChannel = {\n  src: EventSource | null;\n  cb: (event: MessageEvent<string>) => void;\n  host: string;\n  clientKey: string;\n  headers?: Record<string, string>;\n  errors: number;\n  state: \"active\" | \"idle\" | \"disabled\";\n};\n\n// Config settings\nconst cacheSettings: CacheSettings = {\n  // Consider a fetch stale after 1 minute\n  staleTTL: 1000 * 60,\n  // Max time to keep a fetch in cache (4 hours default)\n  maxAge: 1000 * 60 * 60 * 4,\n  cacheKey: \"gbFeaturesCache\",\n  backgroundSync: true,\n  maxEntries: 10,\n  disableIdleStreams: false,\n  idleStreamInterval: 20000,\n  disableCache: false,\n};\n\nconst polyfills = getPolyfills();\n\nexport const helpers: Helpers = {\n  fetchFeaturesCall: ({ host, clientKey, headers }) => {\n    return (polyfills.fetch as typeof globalThis.fetch)(\n      `${host}/api/features/${clientKey}`,\n      { headers }\n    );\n  },\n  fetchRemoteEvalCall: ({ host, clientKey, payload, headers }) => {\n    const options = {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\", ...headers },\n      body: JSON.stringify(payload),\n    };\n    return (polyfills.fetch as typeof globalThis.fetch)(\n      `${host}/api/eval/${clientKey}`,\n      options\n    );\n  },\n  eventSourceCall: ({ host, clientKey, headers }) => {\n    if (headers) {\n      return new polyfills.EventSource(`${host}/sub/${clientKey}`, {\n        headers,\n      });\n    }\n    return new polyfills.EventSource(`${host}/sub/${clientKey}`);\n  },\n  startIdleListener: () => {\n    let idleTimeout: number | undefined;\n    const isBrowser =\n      typeof window !== \"undefined\" && typeof document !== \"undefined\";\n    if (!isBrowser) return;\n    const onVisibilityChange = () => {\n      if (document.visibilityState === \"visible\") {\n        window.clearTimeout(idleTimeout);\n        onVisible();\n      } else if (document.visibilityState === \"hidden\") {\n        idleTimeout = window.setTimeout(\n          onHidden,\n          cacheSettings.idleStreamInterval\n        );\n      }\n    };\n    document.addEventListener(\"visibilitychange\", onVisibilityChange);\n    return () =>\n      document.removeEventListener(\"visibilitychange\", onVisibilityChange);\n  },\n  stopIdleListener: () => {\n    // No-op, replaced by startIdleListener\n  },\n};\n\ntry {\n  if (globalThis.localStorage) {\n    polyfills.localStorage = globalThis.localStorage;\n  }\n} catch (e) {\n  // Ignore localStorage errors\n}\n\n// Global state\nconst subscribedInstances: Map<\n  string,\n  Set<GrowthBook | GrowthBookClient>\n> = new Map();\nlet cacheInitialized = false;\nconst cache: Map<string, CacheEntry> = new Map();\nconst activeFetches: Map<string, Promise<FetchResponse>> = new Map();\nconst streams: Map<string, ScopedChannel> = new Map();\nconst supportsSSE: Set<string> = new Set();\n\n// Public functions\nexport function setPolyfills(overrides: Partial<Polyfills>): void {\n  Object.assign(polyfills, overrides);\n}\nexport function configureCache(overrides: Partial<CacheSettings>): void {\n  Object.assign(cacheSettings, overrides);\n  if (!cacheSettings.backgroundSync) {\n    clearAutoRefresh();\n  }\n}\n\nexport async function clearCache(): Promise<void> {\n  cache.clear();\n  activeFetches.clear();\n  clearAutoRefresh();\n  cacheInitialized = false;\n  await updatePersistentCache();\n}\n\n// Get or fetch features and refresh the SDK instance\nexport async function refreshFeatures({\n  instance,\n  timeout,\n  skipCache,\n  allowStale,\n  backgroundSync,\n}: {\n  instance: GrowthBook | GrowthBookClient;\n  timeout?: number;\n  skipCache?: boolean;\n  allowStale?: boolean;\n  backgroundSync?: boolean;\n}): Promise<FetchResponse> {\n  if (!backgroundSync) {\n    cacheSettings.backgroundSync = false;\n  }\n\n  return fetchFeaturesWithCache({\n    instance,\n    allowStale,\n    timeout,\n    skipCache,\n  });\n}\n\n// Subscribe a GrowthBook instance to feature changes\nfunction subscribe(instance: GrowthBook | GrowthBookClient): void {\n  const key = getKey(instance);\n  const subs = subscribedInstances.get(key) || new Set();\n  subs.add(instance);\n  subscribedInstances.set(key, subs);\n}\nexport function unsubscribe(instance: GrowthBook | GrowthBookClient): void {\n  subscribedInstances.forEach((s) => s.delete(instance));\n}\n\nexport function onHidden() {\n  streams.forEach((channel) => {\n    if (!channel) return;\n    channel.state = \"idle\";\n    disableChannel(channel);\n  });\n}\n\nexport function onVisible() {\n  streams.forEach((channel) => {\n    if (!channel) return;\n    if (channel.state !== \"idle\") return;\n    enableChannel(channel);\n  });\n}\n\n// Private functions\n\nasync function updatePersistentCache() {\n  try {\n    if (!polyfills.localStorage) return;\n    await polyfills.localStorage.setItem(\n      cacheSettings.cacheKey,\n      JSON.stringify(Array.from(cache.entries()))\n    );\n  } catch (e) {\n    // Ignore localStorage errors\n  }\n}\n\n// SWR wrapper for fetching features. May indirectly or directly start SSE streaming.\nasync function fetchFeaturesWithCache({\n  instance,\n  allowStale,\n  timeout,\n  skipCache,\n}: {\n  instance: GrowthBook | GrowthBookClient;\n  allowStale?: boolean;\n  timeout?: number;\n  skipCache?: boolean;\n}): Promise<FetchResponse> {\n  const key = getKey(instance);\n  const cacheKey = getCacheKey(instance);\n  const now = new Date();\n\n  const minStaleAt = new Date(\n    now.getTime() - cacheSettings.maxAge + cacheSettings.staleTTL\n  );\n\n  await initializeCache();\n  const existing =\n    !cacheSettings.disableCache && !skipCache ? cache.get(cacheKey) : undefined;\n  if (\n    existing &&\n    (allowStale || existing.staleAt > now) &&\n    existing.staleAt > minStaleAt\n  ) {\n    // Restore from cache whether SSE is supported\n    if (existing.sse) supportsSSE.add(key);\n\n    // Reload features in the background if stale\n    if (existing.staleAt < now) {\n      fetchFeatures(instance);\n    }\n    // Otherwise, if we don't need to refresh now, start a background sync\n    else {\n      startAutoRefresh(instance);\n    }\n    return { data: existing.data, success: true, source: \"cache\" };\n  } else {\n    const res = await promiseTimeout(fetchFeatures(instance), timeout);\n    return (\n      res || {\n        data: null,\n        success: false,\n        source: \"timeout\",\n        error: new Error(\"Timeout\"),\n      }\n    );\n  }\n}\n\nfunction getKey(instance: GrowthBook | GrowthBookClient): string {\n  const [apiHost, clientKey] = instance.getApiInfo();\n  return `${apiHost}||${clientKey}`;\n}\n\nfunction getCacheKey(instance: GrowthBook | GrowthBookClient): string {\n  const baseKey = getKey(instance);\n  if (!(\"isRemoteEval\" in instance) || !instance.isRemoteEval()) return baseKey;\n\n  const attributes = instance.getAttributes();\n  const cacheKeyAttributes =\n    instance.getCacheKeyAttributes() || Object.keys(instance.getAttributes());\n  const ca: Attributes = {};\n  cacheKeyAttributes.forEach((key) => {\n    ca[key] = attributes[key];\n  });\n\n  const fv = instance.getForcedVariations();\n  const url = instance.getUrl();\n\n  return `${baseKey}||${JSON.stringify({\n    ca,\n    fv,\n    url,\n  })}`;\n}\n\n// Populate cache from localStorage (if available)\nasync function initializeCache(): Promise<void> {\n  if (cacheInitialized) return;\n  cacheInitialized = true;\n  try {\n    if (polyfills.localStorage) {\n      const value = await polyfills.localStorage.getItem(\n        cacheSettings.cacheKey\n      );\n      if (!cacheSettings.disableCache && value) {\n        const parsed: [string, CacheEntry][] = JSON.parse(value);\n        if (parsed && Array.isArray(parsed)) {\n          parsed.forEach(([key, data]) => {\n            cache.set(key, {\n              ...data,\n              staleAt: new Date(data.staleAt),\n            });\n          });\n        }\n        cleanupCache();\n      }\n    }\n  } catch (e) {\n    // Ignore localStorage errors\n  }\n  if (!cacheSettings.disableIdleStreams) {\n    const cleanupFn = helpers.startIdleListener();\n    if (cleanupFn) {\n      helpers.stopIdleListener = cleanupFn;\n    }\n  }\n}\n\n// Enforce the maxEntries limit\nfunction cleanupCache() {\n  const entriesWithTimestamps = Array.from(cache.entries())\n    .map(([key, value]) => ({\n      key,\n      staleAt: value.staleAt.getTime(),\n    }))\n    .sort((a, b) => a.staleAt - b.staleAt);\n\n  const entriesToRemoveCount = Math.min(\n    Math.max(0, cache.size - cacheSettings.maxEntries),\n    cache.size\n  );\n\n  for (let i = 0; i < entriesToRemoveCount; i++) {\n    cache.delete(entriesWithTimestamps[i].key);\n  }\n}\n\n// Called whenever new features are fetched from the API\nfunction onNewFeatureData(\n  key: string,\n  cacheKey: string,\n  data: FeatureApiResponse\n): void {\n  // If contents haven't changed, ignore the update, extend the stale TTL\n  const version = data.dateUpdated || \"\";\n  const staleAt = new Date(Date.now() + cacheSettings.staleTTL);\n  const existing = !cacheSettings.disableCache\n    ? cache.get(cacheKey)\n    : undefined;\n  if (existing && version && existing.version === version) {\n    existing.staleAt = staleAt;\n    updatePersistentCache();\n    return;\n  }\n\n  if (!cacheSettings.disableCache) {\n    // Update in-memory cache\n    cache.set(cacheKey, {\n      data,\n      version,\n      staleAt,\n      sse: supportsSSE.has(key),\n    });\n    cleanupCache();\n  }\n  // Update local storage (don't await this, just update asynchronously)\n  updatePersistentCache();\n\n  // Update features for all subscribed GrowthBook instances\n  const instances = subscribedInstances.get(key);\n  instances && instances.forEach((instance) => refreshInstance(instance, data));\n}\n\nasync function refreshInstance(\n  instance: GrowthBook | GrowthBookClient,\n  data: FeatureApiResponse | null\n): Promise<void> {\n  await instance.setPayload(data || instance.getPayload());\n}\n\n// Fetch the features payload from helper function or from in-mem injected payload\nasync function fetchFeatures(\n  instance: GrowthBook | GrowthBookClient\n): Promise<FetchResponse> {\n  const { apiHost, apiRequestHeaders } = instance.getApiHosts();\n  const clientKey = instance.getClientKey();\n  const remoteEval = \"isRemoteEval\" in instance && instance.isRemoteEval();\n  const key = getKey(instance);\n  const cacheKey = getCacheKey(instance);\n\n  let promise = activeFetches.get(cacheKey);\n  if (!promise) {\n    const fetcher: Promise<Response> = remoteEval\n      ? helpers.fetchRemoteEvalCall({\n          host: apiHost,\n          clientKey,\n          payload: {\n            attributes: instance.getAttributes(),\n            forcedVariations: instance.getForcedVariations(),\n            forcedFeatures: Array.from(instance.getForcedFeatures().entries()),\n            url: instance.getUrl(),\n          },\n          headers: apiRequestHeaders,\n        })\n      : helpers.fetchFeaturesCall({\n          host: apiHost,\n          clientKey,\n          headers: apiRequestHeaders,\n        });\n\n    // TODO: auto-retry if status code indicates a temporary error\n    promise = fetcher\n      .then((res) => {\n        if (!res.ok) {\n          throw new Error(`HTTP error: ${res.status}`);\n        }\n        if (res.headers.get(\"x-sse-support\") === \"enabled\") {\n          supportsSSE.add(key);\n        }\n        return res.json();\n      })\n      .then((data: FeatureApiResponse) => {\n        onNewFeatureData(key, cacheKey, data);\n        startAutoRefresh(instance);\n        activeFetches.delete(cacheKey);\n        return { data, success: true, source: \"network\" as const };\n      })\n      .catch((e) => {\n        process.env.NODE_ENV !== \"production\" &&\n          instance.log(\"Error fetching features\", {\n            apiHost,\n            clientKey,\n            error: e ? e.message : null,\n          });\n        activeFetches.delete(cacheKey);\n\n        return {\n          data: null,\n          source: \"error\" as const,\n          success: false,\n          error: e,\n        };\n      });\n    activeFetches.set(cacheKey, promise);\n  }\n  return promise;\n}\n\n// Start SSE streaming, listens to feature payload changes and triggers a refresh or re-fetch\nfunction startAutoRefresh(\n  instance: GrowthBook | GrowthBookClient,\n  forceSSE: boolean = false\n): void {\n  const key = getKey(instance);\n  const cacheKey = getCacheKey(instance);\n  const { streamingHost, streamingHostRequestHeaders } = instance.getApiHosts();\n  const clientKey = instance.getClientKey();\n\n  if (forceSSE) {\n    supportsSSE.add(key);\n  }\n\n  if (\n    cacheSettings.backgroundSync &&\n    supportsSSE.has(key) &&\n    polyfills.EventSource\n  ) {\n    if (streams.has(key)) return;\n    const channel: ScopedChannel = {\n      src: null,\n      host: streamingHost,\n      clientKey,\n      headers: streamingHostRequestHeaders,\n      cb: (event: MessageEvent<string>) => {\n        try {\n          if (event.type === \"features-updated\") {\n            const instances = subscribedInstances.get(key);\n            instances &&\n              instances.forEach((instance) => {\n                fetchFeatures(instance);\n              });\n          } else if (event.type === \"features\") {\n            const json: FeatureApiResponse = JSON.parse(event.data);\n            onNewFeatureData(key, cacheKey, json);\n          }\n          // Reset error count on success\n          channel.errors = 0;\n        } catch (e) {\n          process.env.NODE_ENV !== \"production\" &&\n            instance.log(\"SSE Error\", {\n              streamingHost,\n              clientKey,\n              error: e ? (e as Error).message : null,\n            });\n          onSSEError(channel);\n        }\n      },\n      errors: 0,\n      state: \"active\",\n    };\n    streams.set(key, channel);\n    enableChannel(channel);\n  }\n}\n\nfunction onSSEError(channel: ScopedChannel) {\n  if (channel.state === \"idle\") return;\n  channel.errors++;\n  if (channel.errors > 3 || (channel.src && channel.src.readyState === 2)) {\n    // exponential backoff after 4 errors, with jitter\n    const delay =\n      Math.pow(3, channel.errors - 3) * (1000 + Math.random() * 1000);\n    disableChannel(channel);\n    setTimeout(() => {\n      if ([\"idle\", \"active\"].includes(channel.state)) return;\n      enableChannel(channel);\n    }, Math.min(delay, 300000)); // 5 minutes max\n  }\n}\n\nfunction disableChannel(channel: ScopedChannel) {\n  if (!channel.src) return;\n  channel.src.onopen = null;\n  channel.src.onerror = null;\n  channel.src.close();\n  channel.src = null;\n  if (channel.state === \"active\") {\n    channel.state = \"disabled\";\n  }\n}\n\nfunction enableChannel(channel: ScopedChannel) {\n  channel.src = helpers.eventSourceCall({\n    host: channel.host,\n    clientKey: channel.clientKey,\n    headers: channel.headers,\n  }) as EventSource;\n  channel.state = \"active\";\n  channel.src.addEventListener(\"features\", channel.cb);\n  channel.src.addEventListener(\"features-updated\", channel.cb);\n  channel.src.onerror = () => onSSEError(channel);\n  channel.src.onopen = () => {\n    channel.errors = 0;\n  };\n}\n\nfunction destroyChannel(channel: ScopedChannel, key: string) {\n  disableChannel(channel);\n  streams.delete(key);\n}\n\nfunction clearAutoRefresh() {\n  // Clear list of which keys are auto-updated\n  supportsSSE.clear();\n\n  // Stop listening for any SSE events\n  streams.forEach(destroyChannel);\n\n  // Remove all references to GrowthBook instances\n  subscribedInstances.clear();\n\n  // Run the idle stream cleanup function\n  helpers.stopIdleListener();\n}\n\nexport function startStreaming(\n  instance: GrowthBook | GrowthBookClient,\n  options: InitOptions | InitSyncOptions\n) {\n  if (options.streaming) {\n    if (!instance.getClientKey()) {\n      throw new Error(\"Must specify clientKey to enable streaming\");\n    }\n    if (options.payload) {\n      startAutoRefresh(instance, true);\n    }\n    subscribe(instance);\n  }\n}\n"],"names":["getPolyfills","promiseTimeout","cacheSettings","staleTTL","maxAge","cacheKey","backgroundSync","maxEntries","disableIdleStreams","idleStreamInterval","disableCache","polyfills","helpers","fetchFeaturesCall","host","clientKey","headers","fetch","fetchRemoteEvalCall","payload","options","method","body","JSON","stringify","eventSourceCall","EventSource","startIdleListener","idleTimeout","isBrowser","window","document","onVisibilityChange","visibilityState","clearTimeout","onVisible","setTimeout","onHidden","addEventListener","removeEventListener","stopIdleListener","globalThis","localStorage","e","subscribedInstances","Map","cacheInitialized","cache","activeFetches","streams","supportsSSE","Set","setPolyfills","overrides","Object","assign","configureCache","clearAutoRefresh","clearCache","clear","updatePersistentCache","refreshFeatures","instance","timeout","skipCache","allowStale","fetchFeaturesWithCache","subscribe","key","getKey","subs","get","add","set","unsubscribe","forEach","s","delete","channel","state","disableChannel","enableChannel","setItem","Array","from","entries","getCacheKey","now","Date","minStaleAt","getTime","initializeCache","existing","undefined","staleAt","sse","fetchFeatures","startAutoRefresh","data","success","source","res","error","Error","apiHost","getApiInfo","baseKey","isRemoteEval","attributes","getAttributes","cacheKeyAttributes","getCacheKeyAttributes","keys","ca","fv","getForcedVariations","url","getUrl","value","getItem","parsed","parse","isArray","cleanupCache","cleanupFn","entriesWithTimestamps","map","sort","a","b","entriesToRemoveCount","Math","min","max","size","i","onNewFeatureData","version","dateUpdated","has","instances","refreshInstance","setPayload","getPayload","apiRequestHeaders","getApiHosts","getClientKey","remoteEval","promise","fetcher","forcedVariations","forcedFeatures","getForcedFeatures","then","ok","status","json","catch","process","env","NODE_ENV","log","message","forceSSE","streamingHost","streamingHostRequestHeaders","src","cb","event","type","errors","onSSEError","readyState","delay","pow","random","includes","onopen","onerror","close","destroyChannel","startStreaming","streaming"],"mappings":"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","debugId":null}},
    {"offset": {"line": 1490, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@growthbook/growthbook/dist/esm/mongrule.mjs","sources":["file:///C:/Users/Guille/Documents/Arquetype/node_modules/%40growthbook/growthbook/src/mongrule.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { SavedGroupsValues } from \"./types/growthbook\";\nimport {\n  ConditionInterface,\n  TestedObj,\n  ConditionValue,\n  Operator,\n  OperatorConditionValue,\n  VarType,\n} from \"./types/mongrule\";\nimport { paddedVersionString } from \"./util\";\n\nconst _regexCache: { [key: string]: RegExp } = {};\n\n// The top-level condition evaluation function\nexport function evalCondition(\n  obj: TestedObj,\n  condition: ConditionInterface,\n  // Must be included for `condition` to correctly evaluate group Operators\n  savedGroups?: SavedGroupsValues\n): boolean {\n  savedGroups = savedGroups || {};\n  // Condition is an object, keys are either specific operators or object paths\n  // values are either arguments for operators or conditions for paths\n  for (const [k, v] of Object.entries(condition)) {\n    switch (k) {\n      case \"$or\":\n        if (!evalOr(obj, v as ConditionInterface[], savedGroups)) return false;\n        break;\n      case \"$nor\":\n        if (evalOr(obj, v as ConditionInterface[], savedGroups)) return false;\n        break;\n      case \"$and\":\n        if (!evalAnd(obj, v as ConditionInterface[], savedGroups)) return false;\n        break;\n      case \"$not\":\n        if (evalCondition(obj, v as ConditionInterface, savedGroups))\n          return false;\n        break;\n      default:\n        if (!evalConditionValue(v, getPath(obj, k), savedGroups)) return false;\n    }\n  }\n  return true;\n}\n\n// Return value at dot-separated path of an object\nfunction getPath(obj: TestedObj, path: string) {\n  const parts = path.split(\".\");\n  let current: any = obj;\n  for (let i = 0; i < parts.length; i++) {\n    if (current && typeof current === \"object\" && parts[i] in current) {\n      current = current[parts[i]];\n    } else {\n      return null;\n    }\n  }\n  return current;\n}\n\n// Transform a regex string into a real RegExp object\nfunction getRegex(regex: string): RegExp {\n  if (!_regexCache[regex]) {\n    _regexCache[regex] = new RegExp(regex.replace(/([^\\\\])\\//g, \"$1\\\\/\"));\n  }\n  return _regexCache[regex];\n}\n\n// Evaluate a single value against a condition\nfunction evalConditionValue(\n  condition: ConditionValue,\n  value: any,\n  savedGroups: SavedGroupsValues\n) {\n  // Simple equality comparisons\n  if (typeof condition === \"string\") {\n    return value + \"\" === condition;\n  }\n  if (typeof condition === \"number\") {\n    return value * 1 === condition;\n  }\n  if (typeof condition === \"boolean\") {\n    return value !== null && !!value === condition;\n  }\n\n  if (condition === null) {\n    return value === null;\n  }\n\n  if (Array.isArray(condition) || !isOperatorObject(condition)) {\n    return JSON.stringify(value) === JSON.stringify(condition);\n  }\n\n  // This is a special operator condition and we should evaluate each one separately\n  for (const op in condition) {\n    if (\n      !evalOperatorCondition(\n        op as Operator,\n        value,\n        condition[op as keyof OperatorConditionValue],\n        savedGroups\n      )\n    ) {\n      return false;\n    }\n  }\n  return true;\n}\n\n// If the object has only keys that start with '$'\nfunction isOperatorObject(obj: any): boolean {\n  const keys = Object.keys(obj);\n  return (\n    keys.length > 0 && keys.filter((k) => k[0] === \"$\").length === keys.length\n  );\n}\n\n// Return the data type of a value\nfunction getType(v: any): VarType | \"unknown\" {\n  if (v === null) return \"null\";\n  if (Array.isArray(v)) return \"array\";\n  const t = typeof v;\n  if ([\"string\", \"number\", \"boolean\", \"object\", \"undefined\"].includes(t)) {\n    return t as VarType;\n  }\n  return \"unknown\";\n}\n\n// At least one element of actual must match the expected condition/value\nfunction elemMatch(actual: any, expected: any, savedGroups: SavedGroupsValues) {\n  if (!Array.isArray(actual)) return false;\n  const check = isOperatorObject(expected)\n    ? (v: any) => evalConditionValue(expected, v, savedGroups)\n    : (v: any) => evalCondition(v, expected, savedGroups);\n  for (let i = 0; i < actual.length; i++) {\n    if (actual[i] && check(actual[i])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction isIn(actual: any, expected: Array<any>): boolean {\n  // Do an intersection if attribute is an array\n  if (Array.isArray(actual)) {\n    return actual.some((el) => expected.includes(el));\n  }\n  return expected.includes(actual);\n}\n\n// Evaluate a single operator condition\nfunction evalOperatorCondition(\n  operator: Operator,\n  actual: any,\n  expected: any,\n  savedGroups: SavedGroupsValues\n): boolean {\n  switch (operator) {\n    case \"$veq\":\n      return paddedVersionString(actual) === paddedVersionString(expected);\n    case \"$vne\":\n      return paddedVersionString(actual) !== paddedVersionString(expected);\n    case \"$vgt\":\n      return paddedVersionString(actual) > paddedVersionString(expected);\n    case \"$vgte\":\n      return paddedVersionString(actual) >= paddedVersionString(expected);\n    case \"$vlt\":\n      return paddedVersionString(actual) < paddedVersionString(expected);\n    case \"$vlte\":\n      return paddedVersionString(actual) <= paddedVersionString(expected);\n    case \"$eq\":\n      return actual === expected;\n    case \"$ne\":\n      return actual !== expected;\n    case \"$lt\":\n      return actual < expected;\n    case \"$lte\":\n      return actual <= expected;\n    case \"$gt\":\n      return actual > expected;\n    case \"$gte\":\n      return actual >= expected;\n    case \"$exists\":\n      // Using `!=` and `==` instead of strict checks so it also matches for undefined\n      return expected ? actual != null : actual == null;\n    case \"$in\":\n      if (!Array.isArray(expected)) return false;\n      return isIn(actual, expected);\n    case \"$inGroup\":\n      return isIn(actual, savedGroups[expected] || []);\n    case \"$notInGroup\":\n      return !isIn(actual, savedGroups[expected] || []);\n    case \"$nin\":\n      if (!Array.isArray(expected)) return false;\n      return !isIn(actual, expected);\n    case \"$not\":\n      return !evalConditionValue(expected, actual, savedGroups);\n    case \"$size\":\n      if (!Array.isArray(actual)) return false;\n      return evalConditionValue(expected, actual.length, savedGroups);\n    case \"$elemMatch\":\n      return elemMatch(actual, expected, savedGroups);\n    case \"$all\":\n      if (!Array.isArray(actual)) return false;\n      for (let i = 0; i < expected.length; i++) {\n        let passed = false;\n        for (let j = 0; j < actual.length; j++) {\n          if (evalConditionValue(expected[i], actual[j], savedGroups)) {\n            passed = true;\n            break;\n          }\n        }\n        if (!passed) return false;\n      }\n      return true;\n    case \"$regex\":\n      try {\n        return getRegex(expected).test(actual);\n      } catch (e) {\n        return false;\n      }\n    case \"$type\":\n      return getType(actual) === expected;\n    default:\n      console.error(\"Unknown operator: \" + operator);\n      return false;\n  }\n}\n\n// Recursive $or rule\nfunction evalOr(\n  obj: TestedObj,\n  conditions: ConditionInterface[],\n  savedGroups: SavedGroupsValues\n): boolean {\n  if (!conditions.length) return true;\n  for (let i = 0; i < conditions.length; i++) {\n    if (evalCondition(obj, conditions[i], savedGroups)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n// Recursive $and rule\nfunction evalAnd(\n  obj: TestedObj,\n  conditions: ConditionInterface[],\n  savedGroups: SavedGroupsValues\n): boolean {\n  for (let i = 0; i < conditions.length; i++) {\n    if (!evalCondition(obj, conditions[i], savedGroups)) {\n      return false;\n    }\n  }\n  return true;\n}\n"],"names":["paddedVersionString","_regexCache","evalCondition","obj","condition","savedGroups","k","v","Object","entries","evalOr","evalAnd","evalConditionValue","getPath","path","parts","split","current","i","length","getRegex","regex","RegExp","replace","value","Array","isArray","isOperatorObject","JSON","stringify","op","evalOperatorCondition","keys","filter","getType","t","includes","elemMatch","actual","expected","check","isIn","some","el","operator","passed","j","test","e","console","error","conditions"],"mappings":"AAAA,qDAAA;;;;AAWA,SAASA,mBAAmB,QAAQ,YAAQ;;AAE5C,MAAMC,WAAsC,GAAG,CAAC,CAAC;AAG1C,SAASC,aAAa,CAC3BC,GAAc,EACdC,SAA6B,EAC7B,yEAAA;AACAC,WAA+B,EACtB;IACTA,WAAW,GAAGA,WAAW,IAAI,CAAC,CAAC;IAC/B,6EAAA;IACA,oEAAA;IACA,KAAK,MAAM,CAACC,CAAC,EAAEC,CAAC,CAAC,IAAIC,MAAM,CAACC,OAAO,CAACL,SAAS,CAAC,CAAE;QAC9C,OAAQE,CAAC;YACP,KAAK,KAAK;gBACR,IAAI,CAACI,MAAM,CAACP,GAAG,EAAEI,CAAC,EAA0BF,WAAW,CAAC,EAAE,OAAO,KAAK;gBACtE;YACF,KAAK,MAAM;gBACT,IAAIK,MAAM,CAACP,GAAG,EAAEI,CAAC,EAA0BF,WAAW,CAAC,EAAE,OAAO,KAAK;gBACrE;YACF,KAAK,MAAM;gBACT,IAAI,CAACM,OAAO,CAACR,GAAG,EAAEI,CAAC,EAA0BF,WAAW,CAAC,EAAE,OAAO,KAAK;gBACvE;YACF,KAAK,MAAM;gBACT,IAAIH,aAAa,CAACC,GAAG,EAAEI,CAAC,EAAwBF,WAAW,CAAC,EAC1D,OAAO,KAAK;gBACd;YACF;gBACE,IAAI,CAACO,kBAAkB,CAACL,CAAC,EAAEM,OAAO,CAACV,GAAG,EAAEG,CAAC,CAAC,EAAED,WAAW,CAAC,EAAE,OAAO,KAAK;QAAC;IAE7E;IACA,OAAO,IAAI;AACb;AAEA,kDAAA;AACA,SAASQ,OAAO,CAACV,GAAc,EAAEW,IAAY,EAAE;IAC7C,MAAMC,KAAK,GAAGD,IAAI,CAACE,KAAK,CAAC,GAAG,CAAC;IAC7B,IAAIC,OAAY,GAAGd,GAAG;IACtB,IAAK,IAAIe,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,KAAK,CAACI,MAAM,EAAED,CAAC,EAAE,CAAE;QACrC,IAAID,OAAO,IAAI,OAAOA,OAAO,KAAK,QAAQ,IAAIF,KAAK,CAACG,CAAC,CAAC,IAAID,OAAO,EAAE;YACjEA,OAAO,GAAGA,OAAO,CAACF,KAAK,CAACG,CAAC,CAAC,CAAC;QAC7B,CAAC,MAAM;YACL,OAAO,IAAI;QACb;IACF;IACA,OAAOD,OAAO;AAChB;AAEA,qDAAA;AACA,SAASG,QAAQ,CAACC,KAAa,EAAU;IACvC,IAAI,CAACpB,WAAW,CAACoB,KAAK,CAAC,EAAE;QACvBpB,WAAW,CAACoB,KAAK,CAAC,GAAG,IAAIC,MAAM,CAACD,KAAK,CAACE,OAAO,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC;IACvE;IACA,OAAOtB,WAAW,CAACoB,KAAK,CAAC;AAC3B;AAEA,8CAAA;AACA,SAAST,kBAAkB,CACzBR,SAAyB,EACzBoB,KAAU,EACVnB,WAA8B,EAC9B;IACA,8BAAA;IACA,IAAI,OAAOD,SAAS,KAAK,QAAQ,EAAE;QACjC,OAAOoB,KAAK,GAAG,EAAE,KAAKpB,SAAS;IACjC;IACA,IAAI,OAAOA,SAAS,KAAK,QAAQ,EAAE;QACjC,OAAOoB,KAAK,GAAG,CAAC,KAAKpB,SAAS;IAChC;IACA,IAAI,OAAOA,SAAS,KAAK,SAAS,EAAE;QAClC,OAAOoB,KAAK,KAAK,IAAI,IAAI,CAAC,CAACA,KAAK,KAAKpB,SAAS;IAChD;IAEA,IAAIA,SAAS,KAAK,IAAI,EAAE;QACtB,OAAOoB,KAAK,KAAK,IAAI;IACvB;IAEA,IAAIC,KAAK,CAACC,OAAO,CAACtB,SAAS,CAAC,IAAI,CAACuB,gBAAgB,CAACvB,SAAS,CAAC,EAAE;QAC5D,OAAOwB,IAAI,CAACC,SAAS,CAACL,KAAK,CAAC,KAAKI,IAAI,CAACC,SAAS,CAACzB,SAAS,CAAC;IAC5D;IAEA,kFAAA;IACA,IAAK,MAAM0B,EAAE,IAAI1B,SAAS,CAAE;QAC1B,IACE,CAAC2B,qBAAqB,CACpBD,EAAE,EACFN,KAAK,EACLpB,SAAS,CAAC0B,EAAE,CAAiC,EAC7CzB,WAAW,CACZ,EACD;YACA,OAAO,KAAK;QACd;IACF;IACA,OAAO,IAAI;AACb;AAEA,kDAAA;AACA,SAASsB,gBAAgB,CAACxB,GAAQ,EAAW;IAC3C,MAAM6B,IAAI,GAAGxB,MAAM,CAACwB,IAAI,CAAC7B,GAAG,CAAC;IAC7B,OACE6B,IAAI,CAACb,MAAM,GAAG,CAAC,IAAIa,IAAI,CAACC,MAAM,EAAE3B,CAAC,GAAKA,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,CAACa,MAAM,KAAKa,IAAI,CAACb,MAAM;AAE9E;AAEA,kCAAA;AACA,SAASe,OAAO,CAAC3B,CAAM,EAAuB;IAC5C,IAAIA,CAAC,KAAK,IAAI,EAAE,OAAO,MAAM;IAC7B,IAAIkB,KAAK,CAACC,OAAO,CAACnB,CAAC,CAAC,EAAE,OAAO,OAAO;IACpC,MAAM4B,CAAC,GAAG,OAAO5B,CAAC;IAClB,IAAI;QAAC,QAAQ;QAAE,QAAQ;QAAE,SAAS;QAAE,QAAQ;QAAE,WAAW;KAAC,CAAC6B,QAAQ,CAACD,CAAC,CAAC,EAAE;QACtE,OAAOA,CAAC;IACV;IACA,OAAO,SAAS;AAClB;AAEA,yEAAA;AACA,SAASE,SAAS,CAACC,MAAW,EAAEC,QAAa,EAAElC,WAA8B,EAAE;IAC7E,IAAI,CAACoB,KAAK,CAACC,OAAO,CAACY,MAAM,CAAC,EAAE,OAAO,KAAK;IACxC,MAAME,KAAK,GAAGb,gBAAgB,CAACY,QAAQ,CAAC,IACnChC,CAAM,GAAKK,kBAAkB,CAAC2B,QAAQ,EAAEhC,CAAC,EAAEF,WAAW,CAAC,IACvDE,CAAM,GAAKL,aAAa,CAACK,CAAC,EAAEgC,QAAQ,EAAElC,WAAW,CAAC;IACvD,IAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGoB,MAAM,CAACnB,MAAM,EAAED,CAAC,EAAE,CAAE;QACtC,IAAIoB,MAAM,CAACpB,CAAC,CAAC,IAAIsB,KAAK,CAACF,MAAM,CAACpB,CAAC,CAAC,CAAC,EAAE;YACjC,OAAO,IAAI;QACb;IACF;IACA,OAAO,KAAK;AACd;AAEA,SAASuB,IAAI,CAACH,MAAW,EAAEC,QAAoB,EAAW;IACxD,8CAAA;IACA,IAAId,KAAK,CAACC,OAAO,CAACY,MAAM,CAAC,EAAE;QACzB,OAAOA,MAAM,CAACI,IAAI,EAAEC,EAAE,GAAKJ,QAAQ,CAACH,QAAQ,CAACO,EAAE,CAAC,CAAC;IACnD;IACA,OAAOJ,QAAQ,CAACH,QAAQ,CAACE,MAAM,CAAC;AAClC;AAEA,uCAAA;AACA,SAASP,qBAAqB,CAC5Ba,QAAkB,EAClBN,MAAW,EACXC,QAAa,EACblC,WAA8B,EACrB;IACT,OAAQuC,QAAQ;QACd,KAAK,MAAM;YACT,WAAO5C,4LAAmB,EAACsC,MAAM,CAAC,SAAKtC,4LAAmB,EAACuC,QAAQ,CAAC;QACtE,KAAK,MAAM;YACT,WAAOvC,4LAAmB,EAACsC,MAAM,CAAC,SAAKtC,4LAAmB,EAACuC,QAAQ,CAAC;QACtE,KAAK,MAAM;YACT,WAAOvC,4LAAmB,EAACsC,MAAM,CAAC,OAAGtC,4LAAmB,EAACuC,QAAQ,CAAC;QACpE,KAAK,OAAO;YACV,WAAOvC,4LAAmB,EAACsC,MAAM,CAAC,QAAItC,4LAAmB,EAACuC,QAAQ,CAAC;QACrE,KAAK,MAAM;YACT,WAAOvC,4LAAmB,EAACsC,MAAM,CAAC,OAAGtC,4LAAmB,EAACuC,QAAQ,CAAC;QACpE,KAAK,OAAO;YACV,WAAOvC,4LAAmB,EAACsC,MAAM,CAAC,QAAItC,4LAAmB,EAACuC,QAAQ,CAAC;QACrE,KAAK,KAAK;YACR,OAAOD,MAAM,KAAKC,QAAQ;QAC5B,KAAK,KAAK;YACR,OAAOD,MAAM,KAAKC,QAAQ;QAC5B,KAAK,KAAK;YACR,OAAOD,MAAM,GAAGC,QAAQ;QAC1B,KAAK,MAAM;YACT,OAAOD,MAAM,IAAIC,QAAQ;QAC3B,KAAK,KAAK;YACR,OAAOD,MAAM,GAAGC,QAAQ;QAC1B,KAAK,MAAM;YACT,OAAOD,MAAM,IAAIC,QAAQ;QAC3B,KAAK,SAAS;YACZ,gFAAA;YACA,OAAOA,QAAQ,GAAGD,MAAM,IAAI,IAAI,GAAGA,MAAM,IAAI,IAAI;QACnD,KAAK,KAAK;YACR,IAAI,CAACb,KAAK,CAACC,OAAO,CAACa,QAAQ,CAAC,EAAE,OAAO,KAAK;YAC1C,OAAOE,IAAI,CAACH,MAAM,EAAEC,QAAQ,CAAC;QAC/B,KAAK,UAAU;YACb,OAAOE,IAAI,CAACH,MAAM,EAAEjC,WAAW,CAACkC,QAAQ,CAAC,IAAI,EAAE,CAAC;QAClD,KAAK,aAAa;YAChB,OAAO,CAACE,IAAI,CAACH,MAAM,EAAEjC,WAAW,CAACkC,QAAQ,CAAC,IAAI,EAAE,CAAC;QACnD,KAAK,MAAM;YACT,IAAI,CAACd,KAAK,CAACC,OAAO,CAACa,QAAQ,CAAC,EAAE,OAAO,KAAK;YAC1C,OAAO,CAACE,IAAI,CAACH,MAAM,EAAEC,QAAQ,CAAC;QAChC,KAAK,MAAM;YACT,OAAO,CAAC3B,kBAAkB,CAAC2B,QAAQ,EAAED,MAAM,EAAEjC,WAAW,CAAC;QAC3D,KAAK,OAAO;YACV,IAAI,CAACoB,KAAK,CAACC,OAAO,CAACY,MAAM,CAAC,EAAE,OAAO,KAAK;YACxC,OAAO1B,kBAAkB,CAAC2B,QAAQ,EAAED,MAAM,CAACnB,MAAM,EAAEd,WAAW,CAAC;QACjE,KAAK,YAAY;YACf,OAAOgC,SAAS,CAACC,MAAM,EAAEC,QAAQ,EAAElC,WAAW,CAAC;QACjD,KAAK,MAAM;YACT,IAAI,CAACoB,KAAK,CAACC,OAAO,CAACY,MAAM,CAAC,EAAE,OAAO,KAAK;YACxC,IAAK,IAAIpB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGqB,QAAQ,CAACpB,MAAM,EAAED,CAAC,EAAE,CAAE;gBACxC,IAAI2B,MAAM,GAAG,KAAK;gBAClB,IAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGR,MAAM,CAACnB,MAAM,EAAE2B,CAAC,EAAE,CAAE;oBACtC,IAAIlC,kBAAkB,CAAC2B,QAAQ,CAACrB,CAAC,CAAC,EAAEoB,MAAM,CAACQ,CAAC,CAAC,EAAEzC,WAAW,CAAC,EAAE;wBAC3DwC,MAAM,GAAG,IAAI;wBACb;oBACF;gBACF;gBACA,IAAI,CAACA,MAAM,EAAE,OAAO,KAAK;YAC3B;YACA,OAAO,IAAI;QACb,KAAK,QAAQ;YACX,IAAI;gBACF,OAAOzB,QAAQ,CAACmB,QAAQ,CAAC,CAACQ,IAAI,CAACT,MAAM,CAAC;YACxC,CAAC,CAAC,OAAOU,CAAC,EAAE;gBACV,OAAO,KAAK;YACd;QACF,KAAK,OAAO;YACV,OAAOd,OAAO,CAACI,MAAM,CAAC,KAAKC,QAAQ;QACrC;YACEU,OAAO,CAACC,KAAK,CAAC,oBAAoB,GAAGN,QAAQ,CAAC;YAC9C,OAAO,KAAK;IAAC;AAEnB;AAEA,qBAAA;AACA,SAASlC,MAAM,CACbP,GAAc,EACdgD,UAAgC,EAChC9C,WAA8B,EACrB;IACT,IAAI,CAAC8C,UAAU,CAAChC,MAAM,EAAE,OAAO,IAAI;IACnC,IAAK,IAAID,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGiC,UAAU,CAAChC,MAAM,EAAED,CAAC,EAAE,CAAE;QAC1C,IAAIhB,aAAa,CAACC,GAAG,EAAEgD,UAAU,CAACjC,CAAC,CAAC,EAAEb,WAAW,CAAC,EAAE;YAClD,OAAO,IAAI;QACb;IACF;IACA,OAAO,KAAK;AACd;AAEA,sBAAA;AACA,SAASM,OAAO,CACdR,GAAc,EACdgD,UAAgC,EAChC9C,WAA8B,EACrB;IACT,IAAK,IAAIa,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGiC,UAAU,CAAChC,MAAM,EAAED,CAAC,EAAE,CAAE;QAC1C,IAAI,CAAChB,aAAa,CAACC,GAAG,EAAEgD,UAAU,CAACjC,CAAC,CAAC,EAAEb,WAAW,CAAC,EAAE;YACnD,OAAO,KAAK;QACd;IACF;IACA,OAAO,IAAI;AACb","debugId":null}},
    {"offset": {"line": 1703, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@growthbook/growthbook/dist/esm/core.mjs","sources":["file:///C:/Users/Guille/Documents/Arquetype/node_modules/%40growthbook/growthbook/src/core.ts"],"sourcesContent":["import {\n  EvalContext,\n  FeatureDefinition,\n  FeatureResult,\n  Experiment,\n  FeatureResultSource,\n  Result,\n  Filter,\n  VariationRange,\n  VariationMeta,\n  StickyExperimentKey,\n  StickyAssignments,\n  StickyAttributeKey,\n  StickyAssignmentsDocument,\n  FeatureApiResponse,\n  Options,\n  ClientOptions,\n} from \"./types/growthbook\";\nimport { evalCondition } from \"./mongrule\";\nimport { ConditionInterface } from \"./types/mongrule\";\nimport {\n  chooseVariation,\n  decrypt,\n  getBucketRanges,\n  getQueryStringOverride,\n  getUrlRegExp,\n  hash,\n  inNamespace,\n  inRange,\n  isIncluded,\n  isURLTargeted,\n  toString,\n} from \"./util\";\nimport { StickyBucketService } from \"./sticky-bucket-service\";\n\nexport const EVENT_FEATURE_EVALUATED = \"Feature Evaluated\";\nexport const EVENT_EXPERIMENT_VIEWED = \"Experiment Viewed\";\n\nfunction getForcedFeatureValues(ctx: EvalContext) {\n  // Merge user and global values\n  const ret: typeof ctx.global.forcedFeatureValues = new Map();\n  if (ctx.global.forcedFeatureValues) {\n    ctx.global.forcedFeatureValues.forEach((v, k) => ret.set(k, v));\n  }\n  if (ctx.user.forcedFeatureValues) {\n    ctx.user.forcedFeatureValues.forEach((v, k) => ret.set(k, v));\n  }\n  return ret;\n}\n\nfunction getForcedVariations(ctx: EvalContext) {\n  // Merge user and global values\n  if (ctx.global.forcedVariations && ctx.user.forcedVariations) {\n    return { ...ctx.global.forcedVariations, ...ctx.user.forcedVariations };\n  } else if (ctx.global.forcedVariations) {\n    return ctx.global.forcedVariations;\n  } else if (ctx.user.forcedVariations) {\n    return ctx.user.forcedVariations;\n  } else {\n    return {};\n  }\n}\n\nasync function safeCall(fn: () => void | Promise<void>) {\n  try {\n    await fn();\n  } catch (e) {\n    // Do nothing\n  }\n}\n\nfunction onExperimentViewed(\n  ctx: EvalContext,\n  experiment: Experiment<unknown>,\n  result: Result<unknown>\n): Promise<void>[] {\n  // Make sure a tracking callback is only fired once per unique experiment\n  if (ctx.user.trackedExperiments) {\n    const k = getExperimentDedupeKey(experiment, result);\n    if (ctx.user.trackedExperiments.has(k)) {\n      return [];\n    }\n    ctx.user.trackedExperiments.add(k);\n  }\n\n  if (ctx.user.enableDevMode && ctx.user.devLogs) {\n    ctx.user.devLogs.push({\n      experiment,\n      result,\n      timestamp: Date.now().toString(),\n      logType: \"experiment\",\n    });\n  }\n\n  const calls: Promise<void>[] = [];\n\n  if (ctx.global.trackingCallback) {\n    const cb = ctx.global.trackingCallback;\n    calls.push(safeCall(() => cb(experiment, result, ctx.user)));\n  }\n  if (ctx.user.trackingCallback) {\n    const cb = ctx.user.trackingCallback;\n    calls.push(safeCall(() => cb(experiment, result)));\n  }\n  if (ctx.global.eventLogger) {\n    const cb = ctx.global.eventLogger;\n    calls.push(\n      safeCall(() =>\n        cb(\n          EVENT_EXPERIMENT_VIEWED,\n          {\n            experimentId: experiment.key,\n            variationId: result.key,\n            hashAttribute: result.hashAttribute,\n            hashValue: result.hashValue,\n          },\n          ctx.user\n        )\n      )\n    );\n  }\n  return calls;\n}\n\nfunction onFeatureUsage(\n  ctx: EvalContext,\n  key: string,\n  ret: FeatureResult<unknown>\n): void {\n  // Only track a feature once, unless the assigned value changed\n  if (ctx.user.trackedFeatureUsage) {\n    const stringifiedValue = JSON.stringify(ret.value);\n    if (ctx.user.trackedFeatureUsage[key] === stringifiedValue) return;\n    ctx.user.trackedFeatureUsage[key] = stringifiedValue;\n\n    if (ctx.user.enableDevMode && ctx.user.devLogs) {\n      ctx.user.devLogs.push({\n        featureKey: key,\n        result: ret,\n        timestamp: Date.now().toString(),\n        logType: \"feature\",\n      });\n    }\n  }\n\n  if (ctx.global.onFeatureUsage) {\n    const cb = ctx.global.onFeatureUsage;\n    safeCall(() => cb(key, ret, ctx.user));\n  }\n  if (ctx.user.onFeatureUsage) {\n    const cb = ctx.user.onFeatureUsage;\n    safeCall(() => cb(key, ret));\n  }\n  if (ctx.global.eventLogger) {\n    const cb = ctx.global.eventLogger;\n    safeCall(() =>\n      cb(\n        EVENT_FEATURE_EVALUATED,\n        {\n          feature: key,\n          source: ret.source,\n          value: ret.value,\n          ruleId: ret.source === \"defaultValue\" ? \"$default\" : ret.ruleId || \"\",\n          variationId: ret.experimentResult ? ret.experimentResult.key : \"\",\n        },\n        ctx.user\n      )\n    );\n  }\n}\n\nexport function evalFeature<V = unknown>(\n  id: string,\n  ctx: EvalContext\n): FeatureResult<V | null> {\n  if (ctx.stack.evaluatedFeatures.has(id)) {\n    process.env.NODE_ENV !== \"production\" &&\n      ctx.global.log(\n        `evalFeature: circular dependency detected: ${ctx.stack.id} -> ${id}`,\n        {\n          from: ctx.stack.id,\n          to: id,\n        }\n      );\n    return getFeatureResult(ctx, id, null, \"cyclicPrerequisite\");\n  }\n  ctx.stack.evaluatedFeatures.add(id);\n  ctx.stack.id = id;\n\n  // Global override\n  const forcedValues = getForcedFeatureValues(ctx);\n  if (forcedValues.has(id)) {\n    process.env.NODE_ENV !== \"production\" &&\n      ctx.global.log(\"Global override\", {\n        id,\n        value: forcedValues.get(id),\n      });\n    return getFeatureResult(ctx, id, forcedValues.get(id), \"override\");\n  }\n\n  // Unknown feature id\n  if (!ctx.global.features || !ctx.global.features[id]) {\n    process.env.NODE_ENV !== \"production\" &&\n      ctx.global.log(\"Unknown feature\", { id });\n    return getFeatureResult(ctx, id, null, \"unknownFeature\");\n  }\n\n  // Get the feature\n  const feature: FeatureDefinition<V> = ctx.global.features[id];\n\n  // Loop through the rules\n  if (feature.rules) {\n    const evaluatedFeatures = new Set(ctx.stack.evaluatedFeatures);\n    rules: for (const rule of feature.rules) {\n      // If there are prerequisite flag(s), evaluate them\n      if (rule.parentConditions) {\n        for (const parentCondition of rule.parentConditions) {\n          ctx.stack.evaluatedFeatures = new Set(evaluatedFeatures);\n          const parentResult = evalFeature(parentCondition.id, ctx);\n          // break out for cyclic prerequisites\n          if (parentResult.source === \"cyclicPrerequisite\") {\n            return getFeatureResult(ctx, id, null, \"cyclicPrerequisite\");\n          }\n\n          const evalObj = { value: parentResult.value };\n          const evaled = evalCondition(\n            evalObj,\n            parentCondition.condition || {}\n          );\n          if (!evaled) {\n            // blocking prerequisite eval failed: feature evaluation fails\n            if (parentCondition.gate) {\n              process.env.NODE_ENV !== \"production\" &&\n                ctx.global.log(\"Feature blocked by prerequisite\", { id, rule });\n              return getFeatureResult(ctx, id, null, \"prerequisite\");\n            }\n            // non-blocking prerequisite eval failed: break out of parentConditions loop, jump to the next rule\n            process.env.NODE_ENV !== \"production\" &&\n              ctx.global.log(\n                \"Skip rule because prerequisite evaluation fails\",\n                {\n                  id,\n                  rule,\n                }\n              );\n            continue rules;\n          }\n        }\n      }\n\n      // If there are filters for who is included (e.g. namespaces)\n      if (rule.filters && isFilteredOut(rule.filters, ctx)) {\n        process.env.NODE_ENV !== \"production\" &&\n          ctx.global.log(\"Skip rule because of filters\", {\n            id,\n            rule,\n          });\n        continue;\n      }\n\n      // Feature value is being forced\n      if (\"force\" in rule) {\n        // If it's a conditional rule, skip if the condition doesn't pass\n        if (rule.condition && !conditionPasses(rule.condition, ctx)) {\n          process.env.NODE_ENV !== \"production\" &&\n            ctx.global.log(\"Skip rule because of condition ff\", {\n              id,\n              rule,\n            });\n          continue;\n        }\n\n        // If this is a percentage rollout, skip if not included\n        if (\n          !isIncludedInRollout(\n            ctx,\n            rule.seed || id,\n            rule.hashAttribute,\n            ctx.user.saveStickyBucketAssignmentDoc &&\n              !rule.disableStickyBucketing\n              ? rule.fallbackAttribute\n              : undefined,\n            rule.range,\n            rule.coverage,\n            rule.hashVersion\n          )\n        ) {\n          process.env.NODE_ENV !== \"production\" &&\n            ctx.global.log(\"Skip rule because user not included in rollout\", {\n              id,\n              rule,\n            });\n          continue;\n        }\n\n        process.env.NODE_ENV !== \"production\" &&\n          ctx.global.log(\"Force value from rule\", {\n            id,\n            rule,\n          });\n\n        // If this was a remotely evaluated experiment, fire the tracking callbacks\n        if (rule.tracks) {\n          rule.tracks.forEach((t) => {\n            const calls = onExperimentViewed(ctx, t.experiment, t.result);\n            if (!calls.length && ctx.global.saveDeferredTrack) {\n              ctx.global.saveDeferredTrack({\n                experiment: t.experiment,\n                result: t.result,\n              });\n            }\n          });\n        }\n\n        return getFeatureResult(ctx, id, rule.force as V, \"force\", rule.id);\n      }\n      if (!rule.variations) {\n        process.env.NODE_ENV !== \"production\" &&\n          ctx.global.log(\"Skip invalid rule\", {\n            id,\n            rule,\n          });\n\n        continue;\n      }\n\n      // For experiment rules, run an experiment\n      const exp: Experiment<V> = {\n        variations: rule.variations as [V, V, ...V[]],\n        key: rule.key || id,\n      };\n      if (\"coverage\" in rule) exp.coverage = rule.coverage;\n      if (rule.weights) exp.weights = rule.weights;\n      if (rule.hashAttribute) exp.hashAttribute = rule.hashAttribute;\n      if (rule.fallbackAttribute)\n        exp.fallbackAttribute = rule.fallbackAttribute;\n      if (rule.disableStickyBucketing)\n        exp.disableStickyBucketing = rule.disableStickyBucketing;\n      if (rule.bucketVersion !== undefined)\n        exp.bucketVersion = rule.bucketVersion;\n      if (rule.minBucketVersion !== undefined)\n        exp.minBucketVersion = rule.minBucketVersion;\n      if (rule.namespace) exp.namespace = rule.namespace;\n      if (rule.meta) exp.meta = rule.meta;\n      if (rule.ranges) exp.ranges = rule.ranges;\n      if (rule.name) exp.name = rule.name;\n      if (rule.phase) exp.phase = rule.phase;\n      if (rule.seed) exp.seed = rule.seed;\n      if (rule.hashVersion) exp.hashVersion = rule.hashVersion;\n      if (rule.filters) exp.filters = rule.filters;\n      if (rule.condition) exp.condition = rule.condition;\n\n      // Only return a value if the user is part of the experiment\n      const { result } = runExperiment(exp, id, ctx);\n      ctx.global.onExperimentEval && ctx.global.onExperimentEval(exp, result);\n      if (result.inExperiment && !result.passthrough) {\n        return getFeatureResult(\n          ctx,\n          id,\n          result.value,\n          \"experiment\",\n          rule.id,\n          exp,\n          result\n        );\n      }\n    }\n  }\n\n  process.env.NODE_ENV !== \"production\" &&\n    ctx.global.log(\"Use default value\", {\n      id,\n      value: feature.defaultValue,\n    });\n\n  // Fall back to using the default value\n  return getFeatureResult(\n    ctx,\n    id,\n    feature.defaultValue === undefined ? null : feature.defaultValue,\n    \"defaultValue\"\n  );\n}\n\nexport function runExperiment<T>(\n  experiment: Experiment<T>,\n  featureId: string | null,\n  ctx: EvalContext\n): {\n  result: Result<T>;\n  trackingCall?: Promise<void>;\n} {\n  const key = experiment.key;\n  const numVariations = experiment.variations.length;\n\n  // 1. If experiment has less than 2 variations, return immediately\n  if (numVariations < 2) {\n    process.env.NODE_ENV !== \"production\" &&\n      ctx.global.log(\"Invalid experiment\", { id: key });\n    return {\n      result: getExperimentResult(ctx, experiment, -1, false, featureId),\n    };\n  }\n\n  // 2. If the context is disabled, return immediately\n  if (ctx.global.enabled === false || ctx.user.enabled === false) {\n    process.env.NODE_ENV !== \"production\" &&\n      ctx.global.log(\"Context disabled\", { id: key });\n    return {\n      result: getExperimentResult(ctx, experiment, -1, false, featureId),\n    };\n  }\n\n  // 2.5. Merge in experiment overrides from the context\n  experiment = mergeOverrides(experiment, ctx);\n\n  // 2.6 New, more powerful URL targeting\n  if (\n    experiment.urlPatterns &&\n    !isURLTargeted(ctx.user.url || \"\", experiment.urlPatterns)\n  ) {\n    process.env.NODE_ENV !== \"production\" &&\n      ctx.global.log(\"Skip because of url targeting\", {\n        id: key,\n      });\n    return {\n      result: getExperimentResult(ctx, experiment, -1, false, featureId),\n    };\n  }\n\n  // 3. If a variation is forced from a querystring, return the forced variation\n  const qsOverride = getQueryStringOverride(\n    key,\n    ctx.user.url || \"\",\n    numVariations\n  );\n  if (qsOverride !== null) {\n    process.env.NODE_ENV !== \"production\" &&\n      ctx.global.log(\"Force via querystring\", {\n        id: key,\n        variation: qsOverride,\n      });\n    return {\n      result: getExperimentResult(\n        ctx,\n        experiment,\n        qsOverride,\n        false,\n        featureId\n      ),\n    };\n  }\n\n  // 4. If a variation is forced in the context, return the forced variation\n  const forcedVariations = getForcedVariations(ctx);\n  if (key in forcedVariations) {\n    const variation = forcedVariations[key];\n    process.env.NODE_ENV !== \"production\" &&\n      ctx.global.log(\"Force via dev tools\", {\n        id: key,\n        variation,\n      });\n    return {\n      result: getExperimentResult(ctx, experiment, variation, false, featureId),\n    };\n  }\n\n  // 5. Exclude if a draft experiment or not active\n  if (experiment.status === \"draft\" || experiment.active === false) {\n    process.env.NODE_ENV !== \"production\" &&\n      ctx.global.log(\"Skip because inactive\", {\n        id: key,\n      });\n    return {\n      result: getExperimentResult(ctx, experiment, -1, false, featureId),\n    };\n  }\n\n  // 6. Get the hash attribute and return if empty\n  const { hashAttribute, hashValue } = getHashAttribute(\n    ctx,\n    experiment.hashAttribute,\n    ctx.user.saveStickyBucketAssignmentDoc && !experiment.disableStickyBucketing\n      ? experiment.fallbackAttribute\n      : undefined\n  );\n  if (!hashValue) {\n    process.env.NODE_ENV !== \"production\" &&\n      ctx.global.log(\"Skip because missing hashAttribute\", {\n        id: key,\n      });\n    return {\n      result: getExperimentResult(ctx, experiment, -1, false, featureId),\n    };\n  }\n\n  let assigned = -1;\n\n  let foundStickyBucket = false;\n  let stickyBucketVersionIsBlocked = false;\n  if (\n    ctx.user.saveStickyBucketAssignmentDoc &&\n    !experiment.disableStickyBucketing\n  ) {\n    const { variation, versionIsBlocked } = getStickyBucketVariation({\n      ctx,\n      expKey: experiment.key,\n      expBucketVersion: experiment.bucketVersion,\n      expHashAttribute: experiment.hashAttribute,\n      expFallbackAttribute: experiment.fallbackAttribute,\n      expMinBucketVersion: experiment.minBucketVersion,\n      expMeta: experiment.meta,\n    });\n    foundStickyBucket = variation >= 0;\n    assigned = variation;\n    stickyBucketVersionIsBlocked = !!versionIsBlocked;\n  }\n\n  // Some checks are not needed if we already have a sticky bucket\n  if (!foundStickyBucket) {\n    // 7. Exclude if user is filtered out (used to be called \"namespace\")\n    if (experiment.filters) {\n      if (isFilteredOut(experiment.filters, ctx)) {\n        process.env.NODE_ENV !== \"production\" &&\n          ctx.global.log(\"Skip because of filters\", {\n            id: key,\n          });\n        return {\n          result: getExperimentResult(ctx, experiment, -1, false, featureId),\n        };\n      }\n    } else if (\n      experiment.namespace &&\n      !inNamespace(hashValue, experiment.namespace)\n    ) {\n      process.env.NODE_ENV !== \"production\" &&\n        ctx.global.log(\"Skip because of namespace\", {\n          id: key,\n        });\n      return {\n        result: getExperimentResult(ctx, experiment, -1, false, featureId),\n      };\n    }\n\n    // 7.5. Exclude if experiment.include returns false or throws\n    if (experiment.include && !isIncluded(experiment.include)) {\n      process.env.NODE_ENV !== \"production\" &&\n        ctx.global.log(\"Skip because of include function\", {\n          id: key,\n        });\n      return {\n        result: getExperimentResult(ctx, experiment, -1, false, featureId),\n      };\n    }\n\n    // 8. Exclude if condition is false\n    if (experiment.condition && !conditionPasses(experiment.condition, ctx)) {\n      process.env.NODE_ENV !== \"production\" &&\n        ctx.global.log(\"Skip because of condition exp\", {\n          id: key,\n        });\n      return {\n        result: getExperimentResult(ctx, experiment, -1, false, featureId),\n      };\n    }\n\n    // 8.05. Exclude if prerequisites are not met\n    if (experiment.parentConditions) {\n      const evaluatedFeatures = new Set(ctx.stack.evaluatedFeatures);\n      for (const parentCondition of experiment.parentConditions) {\n        ctx.stack.evaluatedFeatures = new Set(evaluatedFeatures);\n        const parentResult = evalFeature(parentCondition.id, ctx);\n        // break out for cyclic prerequisites\n        if (parentResult.source === \"cyclicPrerequisite\") {\n          return {\n            result: getExperimentResult(ctx, experiment, -1, false, featureId),\n          };\n        }\n\n        const evalObj = { value: parentResult.value };\n        if (!evalCondition(evalObj, parentCondition.condition || {})) {\n          process.env.NODE_ENV !== \"production\" &&\n            ctx.global.log(\"Skip because prerequisite evaluation fails\", {\n              id: key,\n            });\n          return {\n            result: getExperimentResult(ctx, experiment, -1, false, featureId),\n          };\n        }\n      }\n    }\n\n    // 8.1. Exclude if user is not in a required group\n    if (\n      experiment.groups &&\n      !hasGroupOverlap(experiment.groups as string[], ctx)\n    ) {\n      process.env.NODE_ENV !== \"production\" &&\n        ctx.global.log(\"Skip because of groups\", {\n          id: key,\n        });\n      return {\n        result: getExperimentResult(ctx, experiment, -1, false, featureId),\n      };\n    }\n  }\n\n  // 8.2. Old style URL targeting\n  if (experiment.url && !urlIsValid(experiment.url as RegExp, ctx)) {\n    process.env.NODE_ENV !== \"production\" &&\n      ctx.global.log(\"Skip because of url\", {\n        id: key,\n      });\n    return {\n      result: getExperimentResult(ctx, experiment, -1, false, featureId),\n    };\n  }\n\n  // 9. Get the variation from the sticky bucket or get bucket ranges and choose variation\n  const n = hash(\n    experiment.seed || key,\n    hashValue,\n    experiment.hashVersion || 1\n  );\n  if (n === null) {\n    process.env.NODE_ENV !== \"production\" &&\n      ctx.global.log(\"Skip because of invalid hash version\", {\n        id: key,\n      });\n    return {\n      result: getExperimentResult(ctx, experiment, -1, false, featureId),\n    };\n  }\n\n  if (!foundStickyBucket) {\n    const ranges =\n      experiment.ranges ||\n      getBucketRanges(\n        numVariations,\n        experiment.coverage === undefined ? 1 : experiment.coverage,\n        experiment.weights\n      );\n    assigned = chooseVariation(n, ranges);\n  }\n\n  // 9.5 Unenroll if any prior sticky buckets are blocked by version\n  if (stickyBucketVersionIsBlocked) {\n    process.env.NODE_ENV !== \"production\" &&\n      ctx.global.log(\"Skip because sticky bucket version is blocked\", {\n        id: key,\n      });\n    return {\n      result: getExperimentResult(\n        ctx,\n        experiment,\n        -1,\n        false,\n        featureId,\n        undefined,\n        true\n      ),\n    };\n  }\n\n  // 10. Return if not in experiment\n  if (assigned < 0) {\n    process.env.NODE_ENV !== \"production\" &&\n      ctx.global.log(\"Skip because of coverage\", {\n        id: key,\n      });\n    return {\n      result: getExperimentResult(ctx, experiment, -1, false, featureId),\n    };\n  }\n\n  // 11. Experiment has a forced variation\n  if (\"force\" in experiment) {\n    process.env.NODE_ENV !== \"production\" &&\n      ctx.global.log(\"Force variation\", {\n        id: key,\n        variation: experiment.force,\n      });\n    return {\n      result: getExperimentResult(\n        ctx,\n        experiment,\n        experiment.force === undefined ? -1 : experiment.force,\n        false,\n        featureId\n      ),\n    };\n  }\n\n  // 12. Exclude if in QA mode\n  if (ctx.global.qaMode || ctx.user.qaMode) {\n    process.env.NODE_ENV !== \"production\" &&\n      ctx.global.log(\"Skip because QA mode\", {\n        id: key,\n      });\n    return {\n      result: getExperimentResult(ctx, experiment, -1, false, featureId),\n    };\n  }\n\n  // 12.5. Exclude if experiment is stopped\n  if (experiment.status === \"stopped\") {\n    process.env.NODE_ENV !== \"production\" &&\n      ctx.global.log(\"Skip because stopped\", {\n        id: key,\n      });\n    return {\n      result: getExperimentResult(ctx, experiment, -1, false, featureId),\n    };\n  }\n\n  // 13. Build the result object\n  const result = getExperimentResult(\n    ctx,\n    experiment,\n    assigned,\n    true,\n    featureId,\n    n,\n    foundStickyBucket\n  );\n\n  // 13.5. Persist sticky bucket\n  if (\n    ctx.user.saveStickyBucketAssignmentDoc &&\n    !experiment.disableStickyBucketing\n  ) {\n    const { changed, key: attrKey, doc } = generateStickyBucketAssignmentDoc(\n      ctx,\n      hashAttribute,\n      toString(hashValue),\n      {\n        [getStickyBucketExperimentKey(\n          experiment.key,\n          experiment.bucketVersion\n        )]: result.key,\n      }\n    );\n    if (changed) {\n      // update local docs\n      ctx.user.stickyBucketAssignmentDocs =\n        ctx.user.stickyBucketAssignmentDocs || {};\n      ctx.user.stickyBucketAssignmentDocs[attrKey] = doc;\n      // save doc\n      ctx.user.saveStickyBucketAssignmentDoc(doc);\n    }\n  }\n\n  // 14. Fire the tracking callback(s)\n  // Store the promise in case we're awaiting it (ex: browser url redirects)\n  const trackingCalls = onExperimentViewed(ctx, experiment, result);\n  if (trackingCalls.length === 0 && ctx.global.saveDeferredTrack) {\n    ctx.global.saveDeferredTrack({\n      experiment,\n      result,\n    });\n  }\n  const trackingCall = !trackingCalls.length\n    ? undefined\n    : trackingCalls.length === 1\n    ? trackingCalls[0]\n    : Promise.all(trackingCalls).then(() => {});\n\n  // 14.1 Keep track of completed changeIds\n  \"changeId\" in experiment &&\n    experiment.changeId &&\n    ctx.global.recordChangeId &&\n    ctx.global.recordChangeId(experiment.changeId as string);\n\n  // 15. Return the result\n  process.env.NODE_ENV !== \"production\" &&\n    ctx.global.log(\"In experiment\", {\n      id: key,\n      variation: result.variationId,\n    });\n  return { result, trackingCall };\n}\n\nfunction getFeatureResult<T>(\n  ctx: EvalContext,\n  key: string,\n  value: T,\n  source: FeatureResultSource,\n  ruleId?: string,\n  experiment?: Experiment<T>,\n  result?: Result<T>\n): FeatureResult<T> {\n  const ret: FeatureResult = {\n    value,\n    on: !!value,\n    off: !value,\n    source,\n    ruleId: ruleId || \"\",\n  };\n  if (experiment) ret.experiment = experiment;\n  if (result) ret.experimentResult = result;\n\n  // Track the usage of this feature in real-time\n  if (source !== \"override\") {\n    onFeatureUsage(ctx, key, ret);\n  }\n\n  return ret;\n}\n\nfunction getAttributes(ctx: EvalContext) {\n  return {\n    ...ctx.user.attributes,\n    ...ctx.user.attributeOverrides,\n  };\n}\n\nfunction conditionPasses(\n  condition: ConditionInterface,\n  ctx: EvalContext\n): boolean {\n  return evalCondition(\n    getAttributes(ctx),\n    condition,\n    ctx.global.savedGroups || {}\n  );\n}\n\nfunction isFilteredOut(filters: Filter[], ctx: EvalContext): boolean {\n  return filters.some((filter) => {\n    const { hashValue } = getHashAttribute(ctx, filter.attribute);\n    if (!hashValue) return true;\n    const n = hash(filter.seed, hashValue, filter.hashVersion || 2);\n    if (n === null) return true;\n    return !filter.ranges.some((r) => inRange(n, r));\n  });\n}\n\nfunction isIncludedInRollout(\n  ctx: EvalContext,\n  seed: string,\n  hashAttribute: string | undefined,\n  fallbackAttribute: string | undefined,\n  range: VariationRange | undefined,\n  coverage: number | undefined,\n  hashVersion: number | undefined\n): boolean {\n  if (!range && coverage === undefined) return true;\n\n  if (!range && coverage === 0) return false;\n\n  const { hashValue } = getHashAttribute(ctx, hashAttribute, fallbackAttribute);\n  if (!hashValue) {\n    return false;\n  }\n\n  const n = hash(seed, hashValue, hashVersion || 1);\n  if (n === null) return false;\n\n  return range\n    ? inRange(n, range)\n    : coverage !== undefined\n    ? n <= coverage\n    : true;\n}\n\nexport function getExperimentResult<T>(\n  ctx: EvalContext,\n  experiment: Experiment<T>,\n  variationIndex: number,\n  hashUsed: boolean,\n  featureId: string | null,\n  bucket?: number,\n  stickyBucketUsed?: boolean\n): Result<T> {\n  let inExperiment = true;\n  // If assigned variation is not valid, use the baseline and mark the user as not in the experiment\n  if (variationIndex < 0 || variationIndex >= experiment.variations.length) {\n    variationIndex = 0;\n    inExperiment = false;\n  }\n\n  const { hashAttribute, hashValue } = getHashAttribute(\n    ctx,\n    experiment.hashAttribute,\n    ctx.user.saveStickyBucketAssignmentDoc && !experiment.disableStickyBucketing\n      ? experiment.fallbackAttribute\n      : undefined\n  );\n\n  const meta: Partial<VariationMeta> = experiment.meta\n    ? experiment.meta[variationIndex]\n    : {};\n\n  const res: Result<T> = {\n    key: meta.key || \"\" + variationIndex,\n    featureId,\n    inExperiment,\n    hashUsed,\n    variationId: variationIndex,\n    value: experiment.variations[variationIndex],\n    hashAttribute,\n    hashValue,\n    stickyBucketUsed: !!stickyBucketUsed,\n  };\n\n  if (meta.name) res.name = meta.name;\n  if (bucket !== undefined) res.bucket = bucket;\n  if (meta.passthrough) res.passthrough = meta.passthrough;\n\n  return res;\n}\n\nfunction mergeOverrides<T>(\n  experiment: Experiment<T>,\n  ctx: EvalContext\n): Experiment<T> {\n  const key = experiment.key;\n  const o = ctx.global.overrides;\n  if (o && o[key]) {\n    experiment = Object.assign({}, experiment, o[key]);\n    if (typeof experiment.url === \"string\") {\n      experiment.url = getUrlRegExp(\n        // eslint-disable-next-line\n        experiment.url as any\n      );\n    }\n  }\n\n  return experiment;\n}\n\nexport function getHashAttribute(\n  ctx: EvalContext,\n  attr?: string,\n  fallback?: string\n) {\n  let hashAttribute = attr || \"id\";\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  let hashValue: any = \"\";\n\n  const attributes = getAttributes(ctx);\n\n  if (attributes[hashAttribute]) {\n    hashValue = attributes[hashAttribute];\n  }\n\n  // if no match, try fallback\n  if (!hashValue && fallback) {\n    if (attributes[fallback]) {\n      hashValue = attributes[fallback];\n    }\n    if (hashValue) {\n      hashAttribute = fallback;\n    }\n  }\n\n  return { hashAttribute, hashValue };\n}\n\nfunction urlIsValid(urlRegex: RegExp, ctx: EvalContext): boolean {\n  const url = ctx.user.url;\n  if (!url) return false;\n\n  const pathOnly = url.replace(/^https?:\\/\\//, \"\").replace(/^[^/]*\\//, \"/\");\n\n  if (urlRegex.test(url)) return true;\n  if (urlRegex.test(pathOnly)) return true;\n  return false;\n}\n\nfunction hasGroupOverlap(expGroups: string[], ctx: EvalContext): boolean {\n  const groups = ctx.global.groups || {};\n  for (let i = 0; i < expGroups.length; i++) {\n    if (groups[expGroups[i]]) return true;\n  }\n  return false;\n}\n\nfunction getStickyBucketVariation({\n  ctx,\n  expKey,\n  expBucketVersion,\n  expHashAttribute,\n  expFallbackAttribute,\n  expMinBucketVersion,\n  expMeta,\n}: {\n  ctx: EvalContext;\n  expKey: string;\n  expBucketVersion?: number;\n  expHashAttribute?: string;\n  expFallbackAttribute?: string;\n  expMinBucketVersion?: number;\n  expMeta?: VariationMeta[];\n}): {\n  variation: number;\n  versionIsBlocked?: boolean;\n} {\n  expBucketVersion = expBucketVersion || 0;\n  expMinBucketVersion = expMinBucketVersion || 0;\n  expHashAttribute = expHashAttribute || \"id\";\n  expMeta = expMeta || [];\n  const id = getStickyBucketExperimentKey(expKey, expBucketVersion);\n  const assignments = getStickyBucketAssignments(\n    ctx,\n    expHashAttribute,\n    expFallbackAttribute\n  );\n\n  // users with any blocked bucket version (0 to minExperimentBucketVersion) are excluded from the test\n  if (expMinBucketVersion > 0) {\n    for (let i = 0; i <= expMinBucketVersion; i++) {\n      const blockedKey = getStickyBucketExperimentKey(expKey, i);\n      if (assignments[blockedKey] !== undefined) {\n        return {\n          variation: -1,\n          versionIsBlocked: true,\n        };\n      }\n    }\n  }\n  const variationKey = assignments[id];\n  if (variationKey === undefined)\n    // no assignment found\n    return { variation: -1 };\n  const variation = expMeta.findIndex((m) => m.key === variationKey);\n  if (variation < 0)\n    // invalid assignment, treat as \"no assignment found\"\n    return { variation: -1 };\n\n  return { variation };\n}\n\nfunction getStickyBucketExperimentKey(\n  experimentKey: string,\n  experimentBucketVersion?: number\n): StickyExperimentKey {\n  experimentBucketVersion = experimentBucketVersion || 0;\n  return `${experimentKey}__${experimentBucketVersion}`;\n}\n\nexport function getStickyBucketAttributeKey(\n  attributeName: string,\n  attributeValue: string\n): StickyAttributeKey {\n  return `${attributeName}||${attributeValue}`;\n}\n\nfunction getStickyBucketAssignments(\n  ctx: EvalContext,\n  expHashAttribute: string,\n  expFallbackAttribute?: string\n): StickyAssignments {\n  if (!ctx.user.stickyBucketAssignmentDocs) return {};\n  const { hashAttribute, hashValue } = getHashAttribute(ctx, expHashAttribute);\n  const hashKey = getStickyBucketAttributeKey(\n    hashAttribute,\n    toString(hashValue)\n  );\n\n  const {\n    hashAttribute: fallbackAttribute,\n    hashValue: fallbackValue,\n  } = getHashAttribute(ctx, expFallbackAttribute);\n  const fallbackKey = fallbackValue\n    ? getStickyBucketAttributeKey(fallbackAttribute, toString(fallbackValue))\n    : null;\n\n  const assignments: StickyAssignments = {};\n  if (fallbackKey && ctx.user.stickyBucketAssignmentDocs[fallbackKey]) {\n    Object.assign(\n      assignments,\n      ctx.user.stickyBucketAssignmentDocs[fallbackKey].assignments || {}\n    );\n  }\n  if (ctx.user.stickyBucketAssignmentDocs[hashKey]) {\n    Object.assign(\n      assignments,\n      ctx.user.stickyBucketAssignmentDocs[hashKey].assignments || {}\n    );\n  }\n  return assignments;\n}\n\nfunction generateStickyBucketAssignmentDoc(\n  ctx: EvalContext,\n  attributeName: string,\n  attributeValue: string,\n  assignments: StickyAssignments\n): {\n  key: StickyAttributeKey;\n  doc: StickyAssignmentsDocument;\n  changed: boolean;\n} {\n  const key = getStickyBucketAttributeKey(attributeName, attributeValue);\n  const existingAssignments =\n    ctx.user.stickyBucketAssignmentDocs &&\n    ctx.user.stickyBucketAssignmentDocs[key]\n      ? ctx.user.stickyBucketAssignmentDocs[key].assignments || {}\n      : {};\n  const newAssignments = { ...existingAssignments, ...assignments };\n  const changed =\n    JSON.stringify(existingAssignments) !== JSON.stringify(newAssignments);\n\n  return {\n    key,\n    doc: {\n      attributeName,\n      attributeValue,\n      assignments: newAssignments,\n    },\n    changed,\n  };\n}\n\nfunction deriveStickyBucketIdentifierAttributes(\n  ctx: EvalContext,\n  data?: FeatureApiResponse\n) {\n  const attributes = new Set<string>();\n  const features =\n    data && data.features ? data.features : ctx.global.features || {};\n  const experiments =\n    data && data.experiments ? data.experiments : ctx.global.experiments || [];\n  Object.keys(features).forEach((id) => {\n    const feature = features[id];\n    if (feature.rules) {\n      for (const rule of feature.rules) {\n        if (rule.variations) {\n          attributes.add(rule.hashAttribute || \"id\");\n          if (rule.fallbackAttribute) {\n            attributes.add(rule.fallbackAttribute);\n          }\n        }\n      }\n    }\n  });\n  experiments.map((experiment) => {\n    attributes.add(experiment.hashAttribute || \"id\");\n    if (experiment.fallbackAttribute) {\n      attributes.add(experiment.fallbackAttribute);\n    }\n  });\n  return Array.from(attributes);\n}\n\nexport async function getAllStickyBucketAssignmentDocs(\n  ctx: EvalContext,\n  stickyBucketService: StickyBucketService,\n  data?: FeatureApiResponse\n) {\n  const attributes = getStickyBucketAttributes(ctx, data);\n  return stickyBucketService.getAllAssignments(attributes);\n}\n\nexport function getStickyBucketAttributes(\n  ctx: EvalContext,\n  data?: FeatureApiResponse\n): Record<string, string> {\n  const attributes: Record<string, string> = {};\n  const stickyBucketIdentifierAttributes = deriveStickyBucketIdentifierAttributes(\n    ctx,\n    data\n  );\n  stickyBucketIdentifierAttributes.forEach((attr) => {\n    const { hashValue } = getHashAttribute(ctx, attr);\n    attributes[attr] = toString(hashValue);\n  });\n  return attributes;\n}\n\nexport async function decryptPayload(\n  data: FeatureApiResponse,\n  decryptionKey: string | undefined,\n  subtle?: SubtleCrypto\n): Promise<FeatureApiResponse> {\n  data = { ...data };\n  if (data.encryptedFeatures) {\n    try {\n      data.features = JSON.parse(\n        await decrypt(data.encryptedFeatures, decryptionKey, subtle)\n      );\n    } catch (e) {\n      console.error(e);\n    }\n    delete data.encryptedFeatures;\n  }\n  if (data.encryptedExperiments) {\n    try {\n      data.experiments = JSON.parse(\n        await decrypt(data.encryptedExperiments, decryptionKey, subtle)\n      );\n    } catch (e) {\n      console.error(e);\n    }\n    delete data.encryptedExperiments;\n  }\n  if (data.encryptedSavedGroups) {\n    try {\n      data.savedGroups = JSON.parse(\n        await decrypt(data.encryptedSavedGroups, decryptionKey, subtle)\n      );\n    } catch (e) {\n      console.error(e);\n    }\n    delete data.encryptedSavedGroups;\n  }\n  return data;\n}\n\nexport function getApiHosts(\n  options: Options | ClientOptions\n): {\n  apiHost: string;\n  streamingHost: string;\n  apiRequestHeaders?: Record<string, string>;\n  streamingHostRequestHeaders?: Record<string, string>;\n} {\n  const defaultHost = options.apiHost || \"https://cdn.growthbook.io\";\n  return {\n    apiHost: defaultHost.replace(/\\/*$/, \"\"),\n    streamingHost: (options.streamingHost || defaultHost).replace(/\\/*$/, \"\"),\n    apiRequestHeaders: options.apiHostRequestHeaders,\n    streamingHostRequestHeaders: options.streamingHostRequestHeaders,\n  };\n}\n\nexport function getExperimentDedupeKey(\n  experiment: Experiment<unknown>,\n  result: Result<unknown>\n) {\n  return (\n    result.hashAttribute +\n    result.hashValue +\n    experiment.key +\n    result.variationId\n  );\n}\n"],"names":["evalCondition","chooseVariation","decrypt","getBucketRanges","getQueryStringOverride","getUrlRegExp","hash","inNamespace","inRange","isIncluded","isURLTargeted","toString","EVENT_FEATURE_EVALUATED","EVENT_EXPERIMENT_VIEWED","getForcedFeatureValues","ctx","ret","Map","global","forcedFeatureValues","forEach","v","k","set","user","getForcedVariations","forcedVariations","safeCall","fn","e","onExperimentViewed","experiment","result","trackedExperiments","getExperimentDedupeKey","has","add","enableDevMode","devLogs","push","timestamp","Date","now","logType","calls","trackingCallback","cb","eventLogger","experimentId","key","variationId","hashAttribute","hashValue","onFeatureUsage","trackedFeatureUsage","stringifiedValue","JSON","stringify","value","featureKey","feature","source","ruleId","experimentResult","evalFeature","id","stack","evaluatedFeatures","process","env","NODE_ENV","log","from","to","getFeatureResult","forcedValues","get","features","rules","Set","rule","parentConditions","parentCondition","parentResult","evalObj","evaled","condition","gate","filters","isFilteredOut","conditionPasses","isIncludedInRollout","seed","saveStickyBucketAssignmentDoc","disableStickyBucketing","fallbackAttribute","undefined","range","coverage","hashVersion","tracks","t","length","saveDeferredTrack","force","variations","exp","weights","bucketVersion","minBucketVersion","namespace","meta","ranges","name","phase","runExperiment","onExperimentEval","inExperiment","passthrough","defaultValue","featureId","numVariations","getExperimentResult","enabled","mergeOverrides","urlPatterns","url","qsOverride","variation","status","active","getHashAttribute","assigned","foundStickyBucket","stickyBucketVersionIsBlocked","versionIsBlocked","getStickyBucketVariation","expKey","expBucketVersion","expHashAttribute","expFallbackAttribute","expMinBucketVersion","expMeta","include","groups","hasGroupOverlap","urlIsValid","n","qaMode","changed","attrKey","doc","generateStickyBucketAssignmentDoc","getStickyBucketExperimentKey","stickyBucketAssignmentDocs","trackingCalls","trackingCall","Promise","all","then","changeId","recordChangeId","on","off","getAttributes","attributes","attributeOverrides","savedGroups","some","filter","attribute","r","variationIndex","hashUsed","bucket","stickyBucketUsed","res","o","overrides","Object","assign","attr","fallback","urlRegex","pathOnly","replace","test","expGroups","i","assignments","getStickyBucketAssignments","blockedKey","variationKey","findIndex","m","experimentKey","experimentBucketVersion","getStickyBucketAttributeKey","attributeName","attributeValue","hashKey","fallbackValue","fallbackKey","existingAssignments","newAssignments","deriveStickyBucketIdentifierAttributes","data","experiments","keys","map","Array","getAllStickyBucketAssignmentDocs","stickyBucketService","getStickyBucketAttributes","getAllAssignments","stickyBucketIdentifierAttributes","decryptPayload","decryptionKey","subtle","encryptedFeatures","parse","console","error","encryptedExperiments","encryptedSavedGroups","getApiHosts","options","defaultHost","apiHost","streamingHost","apiRequestHeaders","apiHostRequestHeaders","streamingHostRequestHeaders"],"mappings":"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","debugId":null}},
    {"offset": {"line": 2537, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@growthbook/growthbook/dist/esm/GrowthBook.mjs","sources":["file:///C:/Users/Guille/Documents/Arquetype/node_modules/%40growthbook/growthbook/src/GrowthBook.ts"],"sourcesContent":["import mutate, { DeclarativeMutation } from \"dom-mutator\";\nimport type {\n  ApiHost,\n  Attributes,\n  AutoExperiment,\n  AutoExperimentVariation,\n  ClientKey,\n  Options,\n  Experiment,\n  FeatureApiResponse,\n  FeatureDefinition,\n  FeatureResult,\n  LoadFeaturesOptions,\n  RefreshFeaturesOptions,\n  RenderFunction,\n  Result,\n  SubscriptionFunction,\n  TrackingCallback,\n  TrackingData,\n  WidenPrimitives,\n  EvalContext,\n  InitOptions,\n  InitResponse,\n  InitSyncOptions,\n  PrefetchOptions,\n  GlobalContext,\n  UserContext,\n  StickyAssignmentsDocument,\n  EventLogger,\n  LogUnion,\n} from \"./types/growthbook\";\nimport {\n  decrypt,\n  getAutoExperimentChangeType,\n  isURLTargeted,\n  loadSDKVersion,\n  mergeQueryStrings,\n  promiseTimeout,\n} from \"./util\";\nimport {\n  configureCache,\n  refreshFeatures,\n  startStreaming,\n  unsubscribe,\n} from \"./feature-repository\";\nimport {\n  runExperiment,\n  evalFeature as _evalFeature,\n  getExperimentResult,\n  getAllStickyBucketAssignmentDocs,\n  decryptPayload,\n  getApiHosts,\n  getExperimentDedupeKey,\n  getStickyBucketAttributes,\n} from \"./core\";\nimport { StickyBucketServiceSync } from \"./sticky-bucket-service\";\n\nconst isBrowser =\n  typeof window !== \"undefined\" && typeof document !== \"undefined\";\n\nconst SDK_VERSION = loadSDKVersion();\n\nexport class GrowthBook<\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  AppFeatures extends Record<string, any> = Record<string, any>\n> {\n  // context is technically private, but some tools depend on it so we can't mangle the name\n  private context: Options;\n  public debug: boolean;\n  public ready: boolean;\n  public version: string;\n  public logs: Array<LogUnion>;\n\n  // Properties and methods that start with \"_\" are mangled by Terser (saves ~150 bytes)\n  private _options: Options;\n  private _renderer: null | RenderFunction;\n  private _redirectedUrl: string;\n  private _trackedExperiments: Set<string>;\n  private _completedChangeIds: Set<string>;\n  private _trackedFeatures: Record<string, string>;\n  private _subscriptions: Set<SubscriptionFunction>;\n  private _assigned: Map<\n    string,\n    {\n      // eslint-disable-next-line\n      experiment: Experiment<any>;\n      // eslint-disable-next-line\n      result: Result<any>;\n    }\n  >;\n  private _activeAutoExperiments: Map<\n    AutoExperiment,\n    { valueHash: string; undo: () => void }\n  >;\n  private _triggeredExpKeys: Set<string>;\n  private _initialized: boolean;\n  private _deferredTrackingCalls: Map<string, TrackingData>;\n  private _saveStickyBucketAssignmentDoc:\n    | undefined\n    | ((doc: StickyAssignmentsDocument) => Promise<unknown>);\n\n  private _payload: FeatureApiResponse | undefined;\n  private _decryptedPayload: FeatureApiResponse | undefined;\n  private _destroyCallbacks: (() => void)[];\n\n  private _autoExperimentsAllowed: boolean;\n  private _destroyed?: boolean;\n\n  constructor(options?: Options) {\n    options = options || {};\n    // These properties are all initialized in the constructor instead of above\n    // This saves ~80 bytes in the final output\n    this.version = SDK_VERSION;\n    this._options = this.context = options;\n    this._renderer = options.renderer || null;\n    this._trackedExperiments = new Set();\n    this._completedChangeIds = new Set();\n    this._trackedFeatures = {};\n    this.debug = !!options.debug;\n    this._subscriptions = new Set();\n    this.ready = false;\n    this._assigned = new Map();\n    this._activeAutoExperiments = new Map();\n    this._triggeredExpKeys = new Set();\n    this._initialized = false;\n    this._redirectedUrl = \"\";\n    this._deferredTrackingCalls = new Map();\n    this._autoExperimentsAllowed = !options.disableExperimentsOnLoad;\n    this._destroyCallbacks = [];\n    this.logs = [];\n\n    this.log = this.log.bind(this);\n    this._saveDeferredTrack = this._saveDeferredTrack.bind(this);\n    this._fireSubscriptions = this._fireSubscriptions.bind(this);\n    this._recordChangedId = this._recordChangedId.bind(this);\n\n    if (options.remoteEval) {\n      if (options.decryptionKey) {\n        throw new Error(\"Encryption is not available for remoteEval\");\n      }\n      if (!options.clientKey) {\n        throw new Error(\"Missing clientKey\");\n      }\n      let isGbHost = false;\n      try {\n        isGbHost = !!new URL(options.apiHost || \"\").hostname.match(\n          /growthbook\\.io$/i\n        );\n      } catch (e) {\n        // ignore invalid URLs\n      }\n      if (isGbHost) {\n        throw new Error(\"Cannot use remoteEval on GrowthBook Cloud\");\n      }\n    } else {\n      if (options.cacheKeyAttributes) {\n        throw new Error(\"cacheKeyAttributes are only used for remoteEval\");\n      }\n    }\n\n    if (options.stickyBucketService) {\n      const s = options.stickyBucketService;\n      this._saveStickyBucketAssignmentDoc = (doc) => {\n        return s.saveAssignments(doc);\n      };\n    }\n\n    if (options.plugins) {\n      for (const plugin of options.plugins) {\n        plugin(this);\n      }\n    }\n\n    if (options.features) {\n      this.ready = true;\n    }\n\n    if (isBrowser && options.enableDevMode) {\n      window._growthbook = this;\n      document.dispatchEvent(new Event(\"gbloaded\"));\n    }\n\n    if (options.experiments) {\n      this.ready = true;\n      this._updateAllAutoExperiments();\n    }\n\n    // Hydrate sticky bucket service\n    if (\n      this._options.stickyBucketService &&\n      this._options.stickyBucketAssignmentDocs\n    ) {\n      for (const key in this._options.stickyBucketAssignmentDocs) {\n        const doc = this._options.stickyBucketAssignmentDocs[key];\n        if (doc) {\n          this._options.stickyBucketService.saveAssignments(doc).catch(() => {\n            // Ignore hydration errors\n          });\n        }\n      }\n    }\n\n    // Legacy - passing in features/experiments into the constructor instead of using init\n    if (this.ready) {\n      this.refreshStickyBuckets(this.getPayload());\n    }\n  }\n\n  public async setPayload(payload: FeatureApiResponse): Promise<void> {\n    this._payload = payload;\n    const data = await decryptPayload(payload, this._options.decryptionKey);\n    this._decryptedPayload = data;\n    await this.refreshStickyBuckets(data);\n    if (data.features) {\n      this._options.features = data.features;\n    }\n    if (data.savedGroups) {\n      this._options.savedGroups = data.savedGroups;\n    }\n    if (data.experiments) {\n      this._options.experiments = data.experiments;\n      this._updateAllAutoExperiments();\n    }\n    this.ready = true;\n    this._render();\n  }\n\n  public initSync(options: InitSyncOptions): GrowthBook {\n    this._initialized = true;\n\n    const payload = options.payload;\n\n    if (payload.encryptedExperiments || payload.encryptedFeatures) {\n      throw new Error(\"initSync does not support encrypted payloads\");\n    }\n\n    if (\n      this._options.stickyBucketService &&\n      !this._options.stickyBucketAssignmentDocs\n    ) {\n      this._options.stickyBucketAssignmentDocs = this.generateStickyBucketAssignmentDocsSync(\n        this._options.stickyBucketService as StickyBucketServiceSync,\n        payload\n      );\n    }\n\n    this._payload = payload;\n    this._decryptedPayload = payload;\n    if (payload.features) {\n      this._options.features = payload.features;\n    }\n    if (payload.experiments) {\n      this._options.experiments = payload.experiments;\n      this._updateAllAutoExperiments();\n    }\n\n    this.ready = true;\n\n    startStreaming(this, options);\n\n    return this;\n  }\n\n  public async init(options?: InitOptions): Promise<InitResponse> {\n    this._initialized = true;\n    options = options || {};\n\n    if (options.cacheSettings) {\n      configureCache(options.cacheSettings);\n    }\n\n    if (options.payload) {\n      await this.setPayload(options.payload);\n      startStreaming(this, options);\n      return {\n        success: true,\n        source: \"init\",\n      };\n    } else {\n      const { data, ...res } = await this._refresh({\n        ...options,\n        allowStale: true,\n      });\n      startStreaming(this, options);\n      await this.setPayload(data || {});\n      return res;\n    }\n  }\n\n  /** @deprecated Use {@link init} */\n  public async loadFeatures(options?: LoadFeaturesOptions): Promise<void> {\n    options = options || {};\n    await this.init({\n      skipCache: options.skipCache,\n      timeout: options.timeout,\n      streaming:\n        (this._options.backgroundSync ?? true) &&\n        (options.autoRefresh || this._options.subscribeToChanges),\n    });\n  }\n\n  public async refreshFeatures(\n    options?: RefreshFeaturesOptions\n  ): Promise<void> {\n    const res = await this._refresh({\n      ...(options || {}),\n      allowStale: false,\n    });\n    if (res.data) {\n      await this.setPayload(res.data);\n    }\n  }\n\n  public getApiInfo(): [ApiHost, ClientKey] {\n    return [this.getApiHosts().apiHost, this.getClientKey()];\n  }\n  public getApiHosts() {\n    return getApiHosts(this._options);\n  }\n  public getClientKey(): string {\n    return this._options.clientKey || \"\";\n  }\n  public getPayload(): FeatureApiResponse {\n    return (\n      this._payload || {\n        features: this.getFeatures(),\n        experiments: this.getExperiments(),\n      }\n    );\n  }\n  public getDecryptedPayload(): FeatureApiResponse {\n    return this._decryptedPayload || this.getPayload();\n  }\n\n  public isRemoteEval(): boolean {\n    return this._options.remoteEval || false;\n  }\n\n  public getCacheKeyAttributes(): (keyof Attributes)[] | undefined {\n    return this._options.cacheKeyAttributes;\n  }\n\n  private async _refresh({\n    timeout,\n    skipCache,\n    allowStale,\n    streaming,\n  }: RefreshFeaturesOptions & {\n    allowStale?: boolean;\n    streaming?: boolean;\n  }) {\n    if (!this._options.clientKey) {\n      throw new Error(\"Missing clientKey\");\n    }\n    // Trigger refresh in feature repository\n    return refreshFeatures({\n      instance: this,\n      timeout,\n      skipCache: skipCache || this._options.disableCache,\n      allowStale,\n      backgroundSync: streaming ?? this._options.backgroundSync ?? true,\n    });\n  }\n\n  private _render() {\n    if (this._renderer) {\n      try {\n        this._renderer();\n      } catch (e) {\n        console.error(\"Failed to render\", e);\n      }\n    }\n  }\n\n  /** @deprecated Use {@link setPayload} */\n  public setFeatures(features: Record<string, FeatureDefinition>) {\n    this._options.features = features;\n    this.ready = true;\n    this._render();\n  }\n\n  /** @deprecated Use {@link setPayload} */\n  public async setEncryptedFeatures(\n    encryptedString: string,\n    decryptionKey?: string,\n    subtle?: SubtleCrypto\n  ): Promise<void> {\n    const featuresJSON = await decrypt(\n      encryptedString,\n      decryptionKey || this._options.decryptionKey,\n      subtle\n    );\n    this.setFeatures(\n      JSON.parse(featuresJSON) as Record<string, FeatureDefinition>\n    );\n  }\n\n  /** @deprecated Use {@link setPayload} */\n  public setExperiments(experiments: AutoExperiment[]): void {\n    this._options.experiments = experiments;\n    this.ready = true;\n    this._updateAllAutoExperiments();\n  }\n\n  /** @deprecated Use {@link setPayload} */\n  public async setEncryptedExperiments(\n    encryptedString: string,\n    decryptionKey?: string,\n    subtle?: SubtleCrypto\n  ): Promise<void> {\n    const experimentsJSON = await decrypt(\n      encryptedString,\n      decryptionKey || this._options.decryptionKey,\n      subtle\n    );\n    this.setExperiments(JSON.parse(experimentsJSON) as AutoExperiment[]);\n  }\n\n  public async setAttributes(attributes: Attributes) {\n    this._options.attributes = attributes;\n    if (this._options.stickyBucketService) {\n      await this.refreshStickyBuckets();\n    }\n    if (this._options.remoteEval) {\n      await this._refreshForRemoteEval();\n      return;\n    }\n    this._render();\n    this._updateAllAutoExperiments();\n  }\n\n  public async updateAttributes(attributes: Attributes) {\n    return this.setAttributes({ ...this._options.attributes, ...attributes });\n  }\n\n  public async setAttributeOverrides(overrides: Attributes) {\n    this._options.attributeOverrides = overrides;\n    if (this._options.stickyBucketService) {\n      await this.refreshStickyBuckets();\n    }\n    if (this._options.remoteEval) {\n      await this._refreshForRemoteEval();\n      return;\n    }\n    this._render();\n    this._updateAllAutoExperiments();\n  }\n\n  public async setForcedVariations(vars: Record<string, number>) {\n    this._options.forcedVariations = vars || {};\n    if (this._options.remoteEval) {\n      await this._refreshForRemoteEval();\n      return;\n    }\n    this._render();\n    this._updateAllAutoExperiments();\n  }\n\n  // eslint-disable-next-line\n  public setForcedFeatures(map: Map<string, any>) {\n    this._options.forcedFeatureValues = map;\n    this._render();\n  }\n\n  public async setURL(url: string) {\n    if (url === this._options.url) return;\n    this._options.url = url;\n    this._redirectedUrl = \"\";\n    if (this._options.remoteEval) {\n      await this._refreshForRemoteEval();\n      this._updateAllAutoExperiments(true);\n      return;\n    }\n    this._updateAllAutoExperiments(true);\n  }\n\n  public getAttributes() {\n    return { ...this._options.attributes, ...this._options.attributeOverrides };\n  }\n\n  public getForcedVariations() {\n    return this._options.forcedVariations || {};\n  }\n\n  public getForcedFeatures() {\n    // eslint-disable-next-line\n    return this._options.forcedFeatureValues || new Map<string, any>();\n  }\n\n  public getStickyBucketAssignmentDocs() {\n    return this._options.stickyBucketAssignmentDocs || {};\n  }\n\n  public getUrl() {\n    return this._options.url || \"\";\n  }\n\n  public getFeatures() {\n    return this._options.features || {};\n  }\n\n  public getExperiments() {\n    return this._options.experiments || [];\n  }\n\n  public getCompletedChangeIds(): string[] {\n    return Array.from(this._completedChangeIds);\n  }\n\n  public subscribe(cb: SubscriptionFunction): () => void {\n    this._subscriptions.add(cb);\n    return () => {\n      this._subscriptions.delete(cb);\n    };\n  }\n\n  private async _refreshForRemoteEval() {\n    if (!this._options.remoteEval) return;\n    if (!this._initialized) return;\n    const res = await this._refresh({\n      allowStale: false,\n    });\n    if (res.data) {\n      await this.setPayload(res.data);\n    }\n  }\n\n  public getAllResults() {\n    return new Map(this._assigned);\n  }\n\n  public onDestroy(cb: () => void) {\n    this._destroyCallbacks.push(cb);\n  }\n\n  public isDestroyed() {\n    return !!this._destroyed;\n  }\n\n  public destroy() {\n    this._destroyed = true;\n\n    // Custom callbacks\n    // Do this first in case it needs access to the below data that is cleared\n    this._destroyCallbacks.forEach((cb) => {\n      try {\n        cb();\n      } catch (e) {\n        console.error(e);\n      }\n    });\n\n    // Release references to save memory\n    this._subscriptions.clear();\n    this._assigned.clear();\n    this._trackedExperiments.clear();\n    this._completedChangeIds.clear();\n    this._deferredTrackingCalls.clear();\n    this._trackedFeatures = {};\n    this._destroyCallbacks = [];\n    this._payload = undefined;\n    this._saveStickyBucketAssignmentDoc = undefined;\n    unsubscribe(this);\n    this.logs = [];\n\n    if (isBrowser && window._growthbook === this) {\n      delete window._growthbook;\n    }\n\n    // Undo any active auto experiments\n    this._activeAutoExperiments.forEach((exp) => {\n      exp.undo();\n    });\n    this._activeAutoExperiments.clear();\n    this._triggeredExpKeys.clear();\n  }\n\n  public setRenderer(renderer: null | RenderFunction) {\n    this._renderer = renderer;\n  }\n\n  public forceVariation(key: string, variation: number) {\n    this._options.forcedVariations = this._options.forcedVariations || {};\n    this._options.forcedVariations[key] = variation;\n    if (this._options.remoteEval) {\n      this._refreshForRemoteEval();\n      return;\n    }\n    this._updateAllAutoExperiments();\n    this._render();\n  }\n\n  public run<T>(experiment: Experiment<T>): Result<T> {\n    const { result } = runExperiment(experiment, null, this._getEvalContext());\n    this._fireSubscriptions(experiment, result);\n    return result;\n  }\n\n  public triggerExperiment(key: string) {\n    this._triggeredExpKeys.add(key);\n    if (!this._options.experiments) return null;\n    const experiments = this._options.experiments.filter(\n      (exp) => exp.key === key\n    );\n    return experiments\n      .map((exp) => {\n        return this._runAutoExperiment(exp);\n      })\n      .filter((res) => res !== null);\n  }\n\n  public triggerAutoExperiments() {\n    this._autoExperimentsAllowed = true;\n    this._updateAllAutoExperiments(true);\n  }\n\n  private _getEvalContext(): EvalContext {\n    return {\n      user: this._getUserContext(),\n      global: this._getGlobalContext(),\n      stack: {\n        evaluatedFeatures: new Set(),\n      },\n    };\n  }\n\n  private _getUserContext(): UserContext {\n    return {\n      attributes: this._options.user\n        ? {\n            ...this._options.user,\n            ...this._options.attributes,\n          }\n        : this._options.attributes,\n      enableDevMode: this._options.enableDevMode,\n      blockedChangeIds: this._options.blockedChangeIds,\n      stickyBucketAssignmentDocs: this._options.stickyBucketAssignmentDocs,\n      url: this._getContextUrl(),\n      forcedVariations: this._options.forcedVariations,\n      forcedFeatureValues: this._options.forcedFeatureValues,\n      attributeOverrides: this._options.attributeOverrides,\n      saveStickyBucketAssignmentDoc: this._saveStickyBucketAssignmentDoc,\n      trackingCallback: this._options.trackingCallback,\n      onFeatureUsage: this._options.onFeatureUsage,\n      devLogs: this.logs,\n      trackedExperiments: this._trackedExperiments,\n      trackedFeatureUsage: this._trackedFeatures,\n    };\n  }\n  private _getGlobalContext(): GlobalContext {\n    return {\n      features: this._options.features,\n      experiments: this._options.experiments,\n      log: this.log,\n      enabled: this._options.enabled,\n      qaMode: this._options.qaMode,\n      savedGroups: this._options.savedGroups,\n      groups: this._options.groups,\n      overrides: this._options.overrides,\n      onExperimentEval:\n        this._subscriptions.size > 0 ? this._fireSubscriptions : undefined,\n      recordChangeId: this._recordChangedId,\n      saveDeferredTrack: this._saveDeferredTrack,\n      eventLogger: this._options.eventLogger,\n    };\n  }\n\n  private _runAutoExperiment(experiment: AutoExperiment, forceRerun?: boolean) {\n    const existing = this._activeAutoExperiments.get(experiment);\n\n    // If this is a manual experiment and it's not already running, skip\n    if (\n      experiment.manual &&\n      !this._triggeredExpKeys.has(experiment.key) &&\n      !existing\n    )\n      return null;\n\n    // Check if this particular experiment is blocked by options settings\n    // For example, if all visualEditor experiments are disabled\n    const isBlocked = this._isAutoExperimentBlockedByContext(experiment);\n    if (isBlocked) {\n      process.env.NODE_ENV !== \"production\" &&\n        this.log(\"Auto experiment blocked\", { id: experiment.key });\n    }\n\n    let result: Result<AutoExperimentVariation> | undefined;\n    let trackingCall: Promise<void> | undefined;\n    // Run the experiment (if blocked exclude)\n    if (isBlocked) {\n      result = getExperimentResult(\n        this._getEvalContext(),\n        experiment,\n        -1,\n        false,\n        \"\"\n      );\n    } else {\n      ({ result, trackingCall } = runExperiment(\n        experiment,\n        null,\n        this._getEvalContext()\n      ));\n      this._fireSubscriptions(experiment, result);\n    }\n\n    // A hash to quickly tell if the assigned value changed\n    const valueHash = JSON.stringify(result.value);\n\n    // If the changes are already active, no need to re-apply them\n    if (\n      !forceRerun &&\n      result.inExperiment &&\n      existing &&\n      existing.valueHash === valueHash\n    ) {\n      return result;\n    }\n\n    // Undo any existing changes\n    if (existing) this._undoActiveAutoExperiment(experiment);\n\n    // Apply new changes\n    if (result.inExperiment) {\n      const changeType = getAutoExperimentChangeType(experiment);\n\n      if (\n        changeType === \"redirect\" &&\n        result.value.urlRedirect &&\n        experiment.urlPatterns\n      ) {\n        const url = experiment.persistQueryString\n          ? mergeQueryStrings(this._getContextUrl(), result.value.urlRedirect)\n          : result.value.urlRedirect;\n\n        if (isURLTargeted(url, experiment.urlPatterns)) {\n          this.log(\n            \"Skipping redirect because original URL matches redirect URL\",\n            {\n              id: experiment.key,\n            }\n          );\n          return result;\n        }\n        this._redirectedUrl = url;\n        const { navigate, delay } = this._getNavigateFunction();\n        if (navigate) {\n          if (isBrowser) {\n            // Wait for the possibly-async tracking callback, bound by min and max delays\n            Promise.all([\n              ...(trackingCall\n                ? [\n                    promiseTimeout(\n                      trackingCall,\n                      this._options.maxNavigateDelay ?? 1000\n                    ),\n                  ]\n                : []),\n              new Promise((resolve) =>\n                window.setTimeout(resolve, this._options.navigateDelay ?? delay)\n              ),\n            ]).then(() => {\n              try {\n                navigate(url);\n              } catch (e) {\n                console.error(e);\n              }\n            });\n          } else {\n            try {\n              navigate(url);\n            } catch (e) {\n              console.error(e);\n            }\n          }\n        }\n      } else if (changeType === \"visual\") {\n        const undo = this._options.applyDomChangesCallback\n          ? this._options.applyDomChangesCallback(result.value)\n          : this._applyDOMChanges(result.value);\n        if (undo) {\n          this._activeAutoExperiments.set(experiment, {\n            undo,\n            valueHash,\n          });\n        }\n      }\n    }\n\n    return result;\n  }\n\n  private _undoActiveAutoExperiment(exp: AutoExperiment) {\n    const data = this._activeAutoExperiments.get(exp);\n    if (data) {\n      data.undo();\n      this._activeAutoExperiments.delete(exp);\n    }\n  }\n\n  private _updateAllAutoExperiments(forceRerun?: boolean) {\n    if (!this._autoExperimentsAllowed) return;\n\n    const experiments = this._options.experiments || [];\n\n    // Stop any experiments that are no longer defined\n    const keys = new Set(experiments);\n    this._activeAutoExperiments.forEach((v, k) => {\n      if (!keys.has(k)) {\n        v.undo();\n        this._activeAutoExperiments.delete(k);\n      }\n    });\n\n    // Re-run all new/updated experiments\n    for (const exp of experiments) {\n      const result = this._runAutoExperiment(exp, forceRerun);\n\n      // Once you're in a redirect experiment, break out of the loop and don't run any further experiments\n      if (\n        result?.inExperiment &&\n        getAutoExperimentChangeType(exp) === \"redirect\"\n      ) {\n        break;\n      }\n    }\n  }\n\n  private _fireSubscriptions<T>(experiment: Experiment<T>, result: Result<T>) {\n    const key = experiment.key;\n\n    // If assigned variation has changed, fire subscriptions\n    const prev = this._assigned.get(key);\n    // TODO: what if the experiment definition has changed?\n    if (\n      !prev ||\n      prev.result.inExperiment !== result.inExperiment ||\n      prev.result.variationId !== result.variationId\n    ) {\n      this._assigned.set(key, { experiment, result });\n      this._subscriptions.forEach((cb) => {\n        try {\n          cb(experiment, result);\n        } catch (e) {\n          console.error(e);\n        }\n      });\n    }\n  }\n\n  private _recordChangedId(id: string) {\n    this._completedChangeIds.add(id);\n  }\n\n  public isOn<K extends string & keyof AppFeatures = string>(key: K): boolean {\n    return this.evalFeature(key).on;\n  }\n\n  public isOff<K extends string & keyof AppFeatures = string>(key: K): boolean {\n    return this.evalFeature(key).off;\n  }\n\n  public getFeatureValue<\n    V extends AppFeatures[K],\n    K extends string & keyof AppFeatures = string\n  >(key: K, defaultValue: V): WidenPrimitives<V> {\n    const value = this.evalFeature<WidenPrimitives<V>, K>(key).value;\n    return value === null ? (defaultValue as WidenPrimitives<V>) : value;\n  }\n\n  /**\n   * @deprecated Use {@link evalFeature}\n   * @param id\n   */\n  // eslint-disable-next-line\n  public feature<\n    V extends AppFeatures[K],\n    K extends string & keyof AppFeatures = string\n  >(id: K): FeatureResult<V | null> {\n    return this.evalFeature(id);\n  }\n\n  public evalFeature<\n    V extends AppFeatures[K],\n    K extends string & keyof AppFeatures = string\n  >(id: K): FeatureResult<V | null> {\n    return _evalFeature(id, this._getEvalContext());\n  }\n\n  log(msg: string, ctx: Record<string, unknown>) {\n    if (!this.debug) return;\n    if (this._options.log) this._options.log(msg, ctx);\n    else console.log(msg, ctx);\n  }\n\n  public getDeferredTrackingCalls(): TrackingData[] {\n    return Array.from(this._deferredTrackingCalls.values());\n  }\n\n  public setDeferredTrackingCalls(calls: TrackingData[]) {\n    this._deferredTrackingCalls = new Map(\n      calls\n        .filter((c) => c && c.experiment && c.result)\n        .map((c) => {\n          return [getExperimentDedupeKey(c.experiment, c.result), c];\n        })\n    );\n  }\n\n  public async fireDeferredTrackingCalls() {\n    if (!this._options.trackingCallback) return;\n\n    const promises: ReturnType<TrackingCallback>[] = [];\n    this._deferredTrackingCalls.forEach((call: TrackingData) => {\n      if (!call || !call.experiment || !call.result) {\n        console.error(\"Invalid deferred tracking call\", { call: call });\n      } else {\n        promises.push(\n          (this._options.trackingCallback as TrackingCallback)(\n            call.experiment,\n            call.result\n          )\n        );\n      }\n    });\n    this._deferredTrackingCalls.clear();\n    await Promise.all(promises);\n  }\n\n  public setTrackingCallback(callback: TrackingCallback) {\n    this._options.trackingCallback = callback;\n    this.fireDeferredTrackingCalls();\n  }\n\n  public setEventLogger(logger: EventLogger) {\n    this._options.eventLogger = logger;\n  }\n\n  public async logEvent(\n    eventName: string,\n    properties?: Record<string, unknown>\n  ) {\n    if (this._destroyed) {\n      console.error(\"Cannot log event to destroyed GrowthBook instance\");\n      return;\n    }\n    if (this._options.enableDevMode) {\n      this.logs.push({\n        eventName,\n        properties,\n        timestamp: Date.now().toString(),\n        logType: \"event\",\n      });\n    }\n    if (this._options.eventLogger) {\n      try {\n        await this._options.eventLogger(\n          eventName,\n          properties || {},\n          this._getUserContext()\n        );\n      } catch (e) {\n        console.error(e);\n      }\n    } else {\n      console.error(\"No event logger configured\");\n    }\n  }\n\n  private _saveDeferredTrack(data: TrackingData) {\n    this._deferredTrackingCalls.set(\n      getExperimentDedupeKey(data.experiment, data.result),\n      data\n    );\n  }\n\n  private _getContextUrl() {\n    return this._options.url || (isBrowser ? window.location.href : \"\");\n  }\n\n  private _isAutoExperimentBlockedByContext(\n    experiment: AutoExperiment\n  ): boolean {\n    const changeType = getAutoExperimentChangeType(experiment);\n    if (changeType === \"visual\") {\n      if (this._options.disableVisualExperiments) return true;\n\n      if (this._options.disableJsInjection) {\n        if (experiment.variations.some((v) => v.js)) {\n          return true;\n        }\n      }\n    } else if (changeType === \"redirect\") {\n      if (this._options.disableUrlRedirectExperiments) return true;\n\n      // Validate URLs\n      try {\n        const current = new URL(this._getContextUrl());\n        for (const v of experiment.variations) {\n          if (!v || !v.urlRedirect) continue;\n          const url = new URL(v.urlRedirect);\n\n          // If we're blocking cross origin redirects, block if the protocol or host is different\n          if (this._options.disableCrossOriginUrlRedirectExperiments) {\n            if (url.protocol !== current.protocol) return true;\n            if (url.host !== current.host) return true;\n          }\n        }\n      } catch (e) {\n        // Problem parsing one of the URLs\n        this.log(\"Error parsing current or redirect URL\", {\n          id: experiment.key,\n          error: e,\n        });\n        return true;\n      }\n    } else {\n      // Block any unknown changeTypes\n      return true;\n    }\n\n    if (\n      experiment.changeId &&\n      (this._options.blockedChangeIds || []).includes(experiment.changeId)\n    ) {\n      return true;\n    }\n\n    return false;\n  }\n\n  public getRedirectUrl(): string {\n    return this._redirectedUrl;\n  }\n\n  private _getNavigateFunction(): {\n    navigate: null | ((url: string) => void | Promise<void>);\n    delay: number;\n  } {\n    if (this._options.navigate) {\n      return {\n        navigate: this._options.navigate,\n        delay: 0,\n      };\n    } else if (isBrowser) {\n      return {\n        navigate: (url: string) => {\n          window.location.replace(url);\n        },\n        delay: 100,\n      };\n    }\n    return {\n      navigate: null,\n      delay: 0,\n    };\n  }\n\n  private _applyDOMChanges(changes: AutoExperimentVariation) {\n    if (!isBrowser) return;\n    const undo: (() => void)[] = [];\n    if (changes.css) {\n      const s = document.createElement(\"style\");\n      s.innerHTML = changes.css;\n      document.head.appendChild(s);\n      undo.push(() => s.remove());\n    }\n    if (changes.js) {\n      const script = document.createElement(\"script\");\n      script.innerHTML = changes.js;\n      if (this._options.jsInjectionNonce) {\n        script.nonce = this._options.jsInjectionNonce;\n      }\n      document.head.appendChild(script);\n      undo.push(() => script.remove());\n    }\n    if (changes.domMutations) {\n      changes.domMutations.forEach((mutation) => {\n        undo.push(mutate.declarative(mutation as DeclarativeMutation).revert);\n      });\n    }\n    return () => {\n      undo.forEach((fn) => fn());\n    };\n  }\n\n  public async refreshStickyBuckets(data?: FeatureApiResponse) {\n    if (this._options.stickyBucketService) {\n      const ctx = this._getEvalContext();\n      const docs = await getAllStickyBucketAssignmentDocs(\n        ctx,\n        this._options.stickyBucketService,\n        data\n      );\n      this._options.stickyBucketAssignmentDocs = docs;\n    }\n  }\n\n  public generateStickyBucketAssignmentDocsSync(\n    stickyBucketService: StickyBucketServiceSync,\n    payload: FeatureApiResponse\n  ) {\n    if (!(\"getAllAssignmentsSync\" in stickyBucketService)) {\n      console.error(\n        \"generating StickyBucketAssignmentDocs docs requires StickyBucketServiceSync\"\n      );\n      return;\n    }\n    const ctx = this._getEvalContext();\n    const attributes = getStickyBucketAttributes(ctx, payload);\n    return stickyBucketService.getAllAssignmentsSync(attributes);\n  }\n\n  public inDevMode(): boolean {\n    return !!this._options.enableDevMode;\n  }\n}\n\nexport async function prefetchPayload(options: PrefetchOptions) {\n  // Create a temporary instance, just to fetch the payload\n  const instance = new GrowthBook(options);\n\n  await refreshFeatures({\n    instance,\n    skipCache: options.skipCache,\n    allowStale: false,\n    backgroundSync: options.streaming,\n  });\n\n  instance.destroy();\n}\n"],"names":["mutate","decrypt","getAutoExperimentChangeType","isURLTargeted","loadSDKVersion","mergeQueryStrings","promiseTimeout","configureCache","refreshFeatures","startStreaming","unsubscribe","runExperiment","evalFeature","_evalFeature","getExperimentResult","getAllStickyBucketAssignmentDocs","decryptPayload","getApiHosts","getExperimentDedupeKey","getStickyBucketAttributes","isBrowser","window","document","SDK_VERSION","GrowthBook","constructor","options","version","_options","context","_renderer","renderer","_trackedExperiments","Set","_completedChangeIds","_trackedFeatures","debug","_subscriptions","ready","_assigned","Map","_activeAutoExperiments","_triggeredExpKeys","_initialized","_redirectedUrl","_deferredTrackingCalls","_autoExperimentsAllowed","disableExperimentsOnLoad","_destroyCallbacks","logs","log","bind","_saveDeferredTrack","_fireSubscriptions","_recordChangedId","remoteEval","decryptionKey","Error","clientKey","isGbHost","URL","apiHost","hostname","match","e","cacheKeyAttributes","stickyBucketService","s","_saveStickyBucketAssignmentDoc","doc","saveAssignments","plugins","plugin","features","enableDevMode","_growthbook","dispatchEvent","Event","experiments","_updateAllAutoExperiments","stickyBucketAssignmentDocs","key","catch","refreshStickyBuckets","getPayload","setPayload","payload","_payload","data","_decryptedPayload","savedGroups","_render","initSync","encryptedExperiments","encryptedFeatures","generateStickyBucketAssignmentDocsSync","init","cacheSettings","success","source","res","_refresh","allowStale","loadFeatures","skipCache","timeout","streaming","backgroundSync","autoRefresh","subscribeToChanges","getApiInfo","getClientKey","getFeatures","getExperiments","getDecryptedPayload","isRemoteEval","getCacheKeyAttributes","instance","disableCache","console","error","setFeatures","setEncryptedFeatures","encryptedString","subtle","featuresJSON","JSON","parse","setExperiments","setEncryptedExperiments","experimentsJSON","setAttributes","attributes","_refreshForRemoteEval","updateAttributes","setAttributeOverrides","overrides","attributeOverrides","setForcedVariations","vars","forcedVariations","setForcedFeatures","map","forcedFeatureValues","setURL","url","getAttributes","getForcedVariations","getForcedFeatures","getStickyBucketAssignmentDocs","getUrl","getCompletedChangeIds","Array","from","subscribe","cb","add","delete","getAllResults","onDestroy","push","isDestroyed","_destroyed","destroy","forEach","clear","undefined","exp","undo","setRenderer","forceVariation","variation","run","experiment","result","_getEvalContext","triggerExperiment","filter","_runAutoExperiment","triggerAutoExperiments","user","_getUserContext","global","_getGlobalContext","stack","evaluatedFeatures","blockedChangeIds","_getContextUrl","saveStickyBucketAssignmentDoc","trackingCallback","onFeatureUsage","devLogs","trackedExperiments","trackedFeatureUsage","enabled","qaMode","groups","onExperimentEval","size","recordChangeId","saveDeferredTrack","eventLogger","forceRerun","existing","get","manual","has","isBlocked","_isAutoExperimentBlockedByContext","process","env","NODE_ENV","id","trackingCall","valueHash","stringify","value","inExperiment","_undoActiveAutoExperiment","changeType","urlRedirect","urlPatterns","persistQueryString","navigate","delay","_getNavigateFunction","Promise","all","maxNavigateDelay","resolve","setTimeout","navigateDelay","then","applyDomChangesCallback","_applyDOMChanges","set","keys","v","k","prev","variationId","isOn","on","isOff","off","getFeatureValue","defaultValue","feature","msg","ctx","getDeferredTrackingCalls","values","setDeferredTrackingCalls","calls","c","fireDeferredTrackingCalls","promises","call","setTrackingCallback","callback","setEventLogger","logger","logEvent","eventName","properties","timestamp","Date","now","toString","logType","location","href","disableVisualExperiments","disableJsInjection","variations","some","js","disableUrlRedirectExperiments","current","disableCrossOriginUrlRedirectExperiments","protocol","host","changeId","includes","getRedirectUrl","replace","changes","css","createElement","innerHTML","head","appendChild","remove","script","jsInjectionNonce","nonce","domMutations","mutation","declarative","revert","fn","docs","getAllAssignmentsSync","inDevMode","prefetchPayload"],"mappings":"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","debugId":null}},
    {"offset": {"line": 3350, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@growthbook/growthbook-react/dist/esm/index.js","sources":["file:///C:/Users/Guille/Documents/Arquetype/node_modules/%40growthbook/growthbook-react/src/GrowthBookReact.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport * as React from \"react\";\nimport type {\n  Experiment,\n  Result,\n  FeatureResult,\n  JSONValue,\n  FeatureDefinition,\n  Context,\n  WidenPrimitives,\n} from \"@growthbook/growthbook\";\nimport { GrowthBook } from \"@growthbook/growthbook\";\n\nexport type GrowthBookContextValue = {\n  growthbook: GrowthBook;\n};\nexport interface WithRunExperimentProps {\n  runExperiment: <T>(exp: Experiment<T>) => Result<T>;\n}\n/** @deprecated */\nexport type GrowthBookSSRData = {\n  attributes: Record<string, any>;\n  features: Record<string, FeatureDefinition>;\n};\n\nexport const GrowthBookContext = React.createContext<GrowthBookContextValue>(\n  {} as GrowthBookContextValue\n);\n\n/** @deprecated */\nexport async function getGrowthBookSSRData(\n  context: Context\n): Promise<GrowthBookSSRData> {\n  // Server-side GrowthBook instance\n  const gb = new GrowthBook({\n    ...context,\n  });\n\n  // Load feature flags from network if needed\n  if (context.clientKey) {\n    await gb.init();\n  }\n\n  const data: GrowthBookSSRData = {\n    attributes: gb.getAttributes(),\n    features: gb.getFeatures(),\n  };\n  gb.destroy();\n\n  return data;\n}\n\n/** @deprecated */\nexport function useGrowthBookSSR(data: GrowthBookSSRData) {\n  const gb = useGrowthBook();\n\n  // Only do this once to avoid infinite loops\n  const isFirst = React.useRef(true);\n  if (gb && isFirst.current) {\n    gb.setFeatures(data.features);\n    gb.setAttributes(data.attributes);\n    isFirst.current = false;\n  }\n}\n\nexport function useExperiment<T>(exp: Experiment<T>): Result<T> {\n  const { growthbook } = React.useContext(GrowthBookContext);\n  return growthbook.run(exp);\n}\n\nexport function useFeature<T extends JSONValue = any>(\n  id: string\n): FeatureResult<T | null> {\n  const growthbook = useGrowthBook();\n  return growthbook.evalFeature<T>(id);\n}\n\nexport function useFeatureIsOn<\n  AppFeatures extends Record<string, any> = Record<string, any>\n>(id: string & keyof AppFeatures): boolean {\n  const growthbook = useGrowthBook<AppFeatures>();\n  return growthbook.isOn(id);\n}\n\nexport function useFeatureValue<T extends JSONValue = any>(\n  id: string,\n  fallback: T\n): WidenPrimitives<T> {\n  const growthbook = useGrowthBook();\n  return growthbook.getFeatureValue(id, fallback);\n}\n\nexport function useGrowthBook<\n  AppFeatures extends Record<string, any> = Record<string, any>\n>(): GrowthBook<AppFeatures> {\n  const { growthbook } = React.useContext(GrowthBookContext);\n\n  if (!growthbook) {\n    throw new Error(\"Missing or invalid GrowthBookProvider\");\n  }\n\n  return growthbook as GrowthBook<AppFeatures>;\n}\n\nexport function FeaturesReady({\n  children,\n  timeout,\n  fallback,\n}: {\n  children: React.ReactNode;\n  timeout?: number;\n  fallback?: React.ReactNode;\n}): React.ReactElement {\n  const gb = useGrowthBook();\n  const [hitTimeout, setHitTimeout] = React.useState(false);\n  const ready = gb ? gb.ready : false;\n  React.useEffect(() => {\n    if (timeout && !ready) {\n      const timer = setTimeout(() => {\n        gb &&\n          gb.log(\"FeaturesReady timed out waiting for features to load\", {\n            timeout,\n          });\n        setHitTimeout(true);\n      }, timeout);\n      return () => clearTimeout(timer);\n    }\n  }, [timeout, ready, gb]);\n\n  return <>{ready || hitTimeout ? children : fallback || null}</>;\n}\n\nexport function IfFeatureEnabled({\n  children,\n  feature,\n}: {\n  children: React.ReactNode;\n  feature: string;\n}): React.ReactElement | null {\n  return useFeature(feature).on ? <>{children}</> : null;\n}\n\nexport function FeatureString(props: {\n  default: string;\n  feature: string;\n}): React.ReactElement {\n  const value = useFeature(props.feature).value;\n\n  if (value !== null) {\n    return <>{value}</>;\n  }\n\n  return <>{props.default}</>;\n}\n\nexport const withRunExperiment = <P extends WithRunExperimentProps>(\n  Component: React.ComponentType<P>\n): React.ComponentType<Omit<P, keyof WithRunExperimentProps>> => {\n  // eslint-disable-next-line\n  const withRunExperimentWrapper = (props: any): React.ReactElement => (\n    <GrowthBookContext.Consumer>\n      {({ growthbook }): React.ReactElement => {\n        return (\n          <Component\n            {...(props as P)}\n            runExperiment={(exp) => growthbook.run(exp)}\n          />\n        );\n      }}\n    </GrowthBookContext.Consumer>\n  );\n  return withRunExperimentWrapper;\n};\nwithRunExperiment.displayName = \"WithRunExperiment\";\n\nexport const GrowthBookProvider: React.FC<\n  React.PropsWithChildren<{\n    growthbook: GrowthBook;\n  }>\n> = ({ children, growthbook }) => {\n  // Tell growthbook how to re-render our app (for dev mode integration)\n  // eslint-disable-next-line\n  const [_, setRenderCount] = React.useState(0);\n  React.useEffect(() => {\n    if (!growthbook || !growthbook.setRenderer) return;\n\n    growthbook.setRenderer(() => {\n      setRenderCount((v) => v + 1);\n    });\n    return () => {\n      growthbook.setRenderer(() => {\n        // do nothing\n      });\n    };\n  }, [growthbook]);\n\n  return (\n    <GrowthBookContext.Provider\n      value={{\n        growthbook,\n      }}\n    >\n      {children}\n    </GrowthBookContext.Provider>\n  );\n};\n"],"names":["GrowthBookContext","React","createContext","getGrowthBookSSRData","context","gb","GrowthBook","clientKey","init","data","attributes","getAttributes","features","getFeatures","destroy","useGrowthBookSSR","useGrowthBook","isFirst","useRef","current","setFeatures","setAttributes","useExperiment","exp","growthbook","useContext","run","useFeature","id","evalFeature","useFeatureIsOn","isOn","useFeatureValue","fallback","getFeatureValue","Error","FeaturesReady","children","timeout","hitTimeout","setHitTimeout","useState","ready","useEffect","timer","setTimeout","log","clearTimeout","createElement","Fragment","IfFeatureEnabled","feature","on","FeatureString","props","value","default","withRunExperiment","Component","withRunExperimentWrapper","Consumer","_extends","runExperiment","displayName","GrowthBookProvider","_","setRenderCount","setRenderer","v","Provider"],"mappings":"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","debugId":null}},
    {"offset": {"line": 3526, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Guille/Documents/Arquetype/node_modules/next/src/shared/lib/router/utils/disable-smooth-scroll.ts"],"sourcesContent":["import { warnOnce } from '../../utils/warn-once'\n\n/**\n * Run function with `scroll-behavior: auto` applied to `<html/>`.\n * This css change will be reverted after the function finishes.\n */\nexport function disableSmoothScrollDuringRouteTransition(\n  fn: () => void,\n  options: { dontForceLayout?: boolean; onlyHashChange?: boolean } = {}\n) {\n  // if only the hash is changed, we don't need to disable smooth scrolling\n  // we only care to prevent smooth scrolling when navigating to a new page to avoid jarring UX\n  if (options.onlyHashChange) {\n    fn()\n    return\n  }\n\n  const htmlElement = document.documentElement\n  const hasDataAttribute = htmlElement.dataset.scrollBehavior === 'smooth'\n\n  // Since this is a breaking change, this is temporarily flagged\n  // and will be false by default.\n  // In the next major (v16), this will be automatically enabled\n  if (process.env.__NEXT_OPTIMIZE_ROUTER_SCROLL) {\n    if (!hasDataAttribute) {\n      // No smooth scrolling configured, run directly without style manipulation\n      fn()\n      return\n    }\n  } else {\n    // Old behavior: always manipulate styles, but warn about upcoming change\n\n    // Warn if smooth scrolling is detected but no data attribute is present\n    if (\n      process.env.NODE_ENV === 'development' &&\n      !hasDataAttribute &&\n      getComputedStyle(htmlElement).scrollBehavior === 'smooth'\n    ) {\n      warnOnce(\n        'Detected `scroll-behavior: smooth` on the `<html>` element. In a future version, ' +\n          'Next.js will no longer automatically disable smooth scrolling during route transitions. ' +\n          'To prepare for this change, add `data-scroll-behavior=\"smooth\"` to your <html> element. ' +\n          'Learn more: https://nextjs.org/docs/messages/missing-data-scroll-behavior'\n      )\n    }\n  }\n\n  // Proceed with temporarily disabling smooth scrolling\n  const existing = htmlElement.style.scrollBehavior\n  htmlElement.style.scrollBehavior = 'auto'\n  if (!options.dontForceLayout) {\n    // In Chrome-based browsers we need to force reflow before calling `scrollTo`.\n    // Otherwise it will not pickup the change in scrollBehavior\n    // More info here: https://github.com/vercel/next.js/issues/40719#issuecomment-1336248042\n    htmlElement.getClientRects()\n  }\n  fn()\n  htmlElement.style.scrollBehavior = existing\n}\n"],"names":["disableSmoothScrollDuringRouteTransition","fn","options","onlyHashChange","htmlElement","document","documentElement","hasDataAttribute","dataset","scrollBehavior","process","env","__NEXT_OPTIMIZE_ROUTER_SCROLL","NODE_ENV","getComputedStyle","warnOnce","existing","style","dontForceLayout","getClientRects"],"mappings":"AAuBMU,QAAQC,GAAG,CAACC,6BAA6B,EAAE;;;;;+BAjBjCZ,4CAAAA;;;eAAAA;;;0BANS;AAMlB,SAASA,yCACdC,EAAc,EACdC,OAAqE;IAArEA,IAAAA,YAAAA,KAAAA,GAAAA,UAAmE,CAAC;IAEpE,yEAAyE;IACzE,6FAA6F;IAC7F,IAAIA,QAAQC,cAAc,EAAE;QAC1BF;QACA;IACF;IAEA,MAAMG,cAAcC,SAASC,eAAe;IAC5C,MAAMC,mBAAmBH,YAAYI,OAAO,CAACC,cAAc,KAAK;IAEhE,+DAA+D;IAC/D,gCAAgC;IAChC,8DAA8D;IAC9D;;SAMO;QACL,yEAAyE;QAEzE,wEAAwE;QACxE,IACEC,QAAQC,GAAG,CAACE,QAAQ,gCAAK,iBACzB,CAACN,oBACDO,iBAAiBV,aAAaK,cAAc,KAAK,UACjD;YACAM,CAAAA,GAAAA,UAAAA,QAAQ,EACN,sFACE,6FACA,6FACA;QAEN;IACF;IAEA,sDAAsD;IACtD,MAAMC,WAAWZ,YAAYa,KAAK,CAACR,cAAc;IACjDL,YAAYa,KAAK,CAACR,cAAc,GAAG;IACnC,IAAI,CAACP,QAAQgB,eAAe,EAAE;QAC5B,8EAA8E;QAC9E,4DAA4D;QAC5D,yFAAyF;QACzFd,YAAYe,cAAc;IAC5B;IACAlB;IACAG,YAAYa,KAAK,CAACR,cAAc,GAAGO;AACrC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 3576, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Guille/Documents/Arquetype/node_modules/next/src/client/components/bfcache.ts"],"sourcesContent":["import type { FlightRouterState } from '../../server/app-render/types'\nimport { useState } from 'react'\n\n// When the flag is disabled, only track the currently active tree\nconst MAX_BF_CACHE_ENTRIES = process.env.__NEXT_ROUTER_BF_CACHE ? 3 : 1\n\nexport type RouterBFCacheEntry = {\n  tree: FlightRouterState\n  stateKey: string\n  // The entries form a linked list, sorted in order of most recently active.\n  next: RouterBFCacheEntry | null\n}\n\n/**\n * Keeps track of the most recent N trees (FlightRouterStates) that were active\n * at a certain segment level. E.g. for a segment \"/a/b/[param]\", this hook\n * tracks the last N param values that the router rendered for N.\n *\n * The result of this hook precisely determines the number and order of\n * trees that are rendered in parallel at their segment level.\n *\n * The purpose of this cache is to we can preserve the React and DOM state of\n * some number of inactive trees, by rendering them in an <Activity> boundary.\n * That means it would not make sense for the the lifetime of the cache to be\n * any longer than the lifetime of the React tree; e.g. if the hook were\n * unmounted, then the React tree would be, too. So, we use React state to\n * manage it.\n *\n * Note that we don't store the RSC data for the cache entries in this hook —\n * the data for inactive segments is stored in the parent CacheNode, which\n * *does* have a longer lifetime than the React tree. This hook only determines\n * which of those trees should have their *state* preserved, by <Activity>.\n */\nexport function useRouterBFCache(\n  activeTree: FlightRouterState,\n  activeStateKey: string\n): RouterBFCacheEntry {\n  // The currently active entry. The entries form a linked list, sorted in\n  // order of most recently active. This allows us to reuse parts of the list\n  // without cloning, unless there's a reordering or removal.\n  // TODO: Once we start tracking back/forward history at each route level,\n  // we should use the history order instead. In other words, when traversing\n  // to an existing entry as a result of a popstate event, we should maintain\n  // the existing order instead of moving it to the front of the list. I think\n  // an initial implementation of this could be to pass an incrementing id\n  // to history.pushState/replaceState, then use that here for ordering.\n  const [prevActiveEntry, setPrevActiveEntry] = useState<RouterBFCacheEntry>(\n    () => {\n      const initialEntry: RouterBFCacheEntry = {\n        tree: activeTree,\n        stateKey: activeStateKey,\n        next: null,\n      }\n      return initialEntry\n    }\n  )\n\n  if (prevActiveEntry.tree === activeTree) {\n    // Fast path. The active tree hasn't changed, so we can reuse the\n    // existing state.\n    return prevActiveEntry\n  }\n\n  // The route tree changed. Note that this doesn't mean that the tree changed\n  // *at this level* — the change may be due to a child route. Either way, we\n  // need to either add or update the router tree in the bfcache.\n  //\n  // The rest of the code looks more complicated than it actually is because we\n  // can't mutate the state in place; we have to copy-on-write.\n\n  // Create a new entry for the active cache key. This is the head of the new\n  // linked list.\n  const newActiveEntry: RouterBFCacheEntry = {\n    tree: activeTree,\n    stateKey: activeStateKey,\n    next: null,\n  }\n\n  // We need to append the old list onto the new list. If the head of the new\n  // list was already present in the cache, then we'll need to clone everything\n  // that came before it. Then we can reuse the rest.\n  let n = 1\n  let oldEntry: RouterBFCacheEntry | null = prevActiveEntry\n  let clonedEntry: RouterBFCacheEntry = newActiveEntry\n  while (oldEntry !== null && n < MAX_BF_CACHE_ENTRIES) {\n    if (oldEntry.stateKey === activeStateKey) {\n      // Fast path. This entry in the old list that corresponds to the key that\n      // is now active. We've already placed a clone of this entry at the front\n      // of the new list. We can reuse the rest of the old list without cloning.\n      // NOTE: We don't need to worry about eviction in this case because we\n      // haven't increased the size of the cache, and we assume the max size\n      // is constant across renders. If we were to change it to a dynamic limit,\n      // then the implementation would need to account for that.\n      clonedEntry.next = oldEntry.next\n      break\n    } else {\n      // Clone the entry and append it to the list.\n      n++\n      const entry: RouterBFCacheEntry = {\n        tree: oldEntry.tree,\n        stateKey: oldEntry.stateKey,\n        next: null,\n      }\n      clonedEntry.next = entry\n      clonedEntry = entry\n    }\n    oldEntry = oldEntry.next\n  }\n\n  setPrevActiveEntry(newActiveEntry)\n  return newActiveEntry\n}\n"],"names":["useRouterBFCache","MAX_BF_CACHE_ENTRIES","process","env","__NEXT_ROUTER_BF_CACHE","activeTree","activeStateKey","prevActiveEntry","setPrevActiveEntry","useState","initialEntry","tree","stateKey","next","newActiveEntry","n","oldEntry","clonedEntry","entry"],"mappings":"AAI6BE,QAAQC,GAAG,CAACC,sBAAsB;;;;;+BA6B/CJ,oBAAAA;;;eAAAA;;;uBAhCS;AAEzB,kEAAkE;AAClE,MAAMC,6DAA4D,0BAAI;AA6B/D,SAASD,iBACdK,UAA6B,EAC7BC,cAAsB;IAEtB,wEAAwE;IACxE,2EAA2E;IAC3E,2DAA2D;IAC3D,yEAAyE;IACzE,2EAA2E;IAC3E,2EAA2E;IAC3E,4EAA4E;IAC5E,wEAAwE;IACxE,sEAAsE;IACtE,MAAM,CAACC,iBAAiBC,mBAAmB,GAAGC,CAAAA,GAAAA,OAAAA,QAAQ,EACpD;QACE,MAAMC,eAAmC;YACvCC,MAAMN;YACNO,UAAUN;YACVO,MAAM;QACR;QACA,OAAOH;IACT;IAGF,IAAIH,gBAAgBI,IAAI,KAAKN,YAAY;QACvC,iEAAiE;QACjE,kBAAkB;QAClB,OAAOE;IACT;IAEA,4EAA4E;IAC5E,2EAA2E;IAC3E,+DAA+D;IAC/D,EAAE;IACF,6EAA6E;IAC7E,6DAA6D;IAE7D,2EAA2E;IAC3E,eAAe;IACf,MAAMO,iBAAqC;QACzCH,MAAMN;QACNO,UAAUN;QACVO,MAAM;IACR;IAEA,2EAA2E;IAC3E,6EAA6E;IAC7E,mDAAmD;IACnD,IAAIE,IAAI;IACR,IAAIC,WAAsCT;IAC1C,IAAIU,cAAkCH;IACtC,MAAOE,aAAa,QAAQD,IAAId,qBAAsB;QACpD,IAAIe,SAASJ,QAAQ,KAAKN,gBAAgB;YACxC,yEAAyE;YACzE,yEAAyE;YACzE,0EAA0E;YAC1E,sEAAsE;YACtE,sEAAsE;YACtE,0EAA0E;YAC1E,0DAA0D;YAC1DW,YAAYJ,IAAI,GAAGG,SAASH,IAAI;YAChC;QACF,OAAO;YACL,6CAA6C;YAC7CE;YACA,MAAMG,QAA4B;gBAChCP,MAAMK,SAASL,IAAI;gBACnBC,UAAUI,SAASJ,QAAQ;gBAC3BC,MAAM;YACR;YACAI,YAAYJ,IAAI,GAAGK;YACnBD,cAAcC;QAChB;QACAF,WAAWA,SAASH,IAAI;IAC1B;IAEAL,mBAAmBM;IACnB,OAAOA;AACT","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 3670, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Guille/Documents/Arquetype/node_modules/next/src/client/components/layout-router.tsx"],"sourcesContent":["'use client'\n\nimport type {\n  CacheNode,\n  LazyCacheNode,\n  LoadingModuleData,\n} from '../../shared/lib/app-router-context.shared-runtime'\nimport type {\n  FlightRouterState,\n  FlightSegmentPath,\n} from '../../server/app-render/types'\nimport type { ErrorComponent } from './error-boundary'\nimport {\n  ACTION_SERVER_PATCH,\n  type FocusAndScrollRef,\n} from './router-reducer/router-reducer-types'\n\nimport React, {\n  useContext,\n  use,\n  startTransition,\n  Suspense,\n  useDeferredValue,\n  type JSX,\n} from 'react'\nimport ReactDOM from 'react-dom'\nimport {\n  LayoutRouterContext,\n  GlobalLayoutRouterContext,\n  TemplateContext,\n} from '../../shared/lib/app-router-context.shared-runtime'\nimport { fetchServerResponse } from './router-reducer/fetch-server-response'\nimport { unresolvedThenable } from './unresolved-thenable'\nimport { ErrorBoundary } from './error-boundary'\nimport { matchSegment } from './match-segments'\nimport { disableSmoothScrollDuringRouteTransition } from '../../shared/lib/router/utils/disable-smooth-scroll'\nimport { RedirectBoundary } from './redirect-boundary'\nimport { HTTPAccessFallbackBoundary } from './http-access-fallback/error-boundary'\nimport { createRouterCacheKey } from './router-reducer/create-router-cache-key'\nimport { hasInterceptionRouteInCurrentTree } from './router-reducer/reducers/has-interception-route-in-current-tree'\nimport { dispatchAppRouterAction } from './use-action-queue'\nimport { useRouterBFCache, type RouterBFCacheEntry } from './bfcache'\nimport { normalizeAppPath } from '../../shared/lib/router/utils/app-paths'\n\nconst Activity = process.env.__NEXT_ROUTER_BF_CACHE\n  ? (require('react') as typeof import('react')).unstable_Activity\n  : null!\n\n/**\n * Add refetch marker to router state at the point of the current layout segment.\n * This ensures the response returned is not further down than the current layout segment.\n */\nfunction walkAddRefetch(\n  segmentPathToWalk: FlightSegmentPath | undefined,\n  treeToRecreate: FlightRouterState\n): FlightRouterState {\n  if (segmentPathToWalk) {\n    const [segment, parallelRouteKey] = segmentPathToWalk\n    const isLast = segmentPathToWalk.length === 2\n\n    if (matchSegment(treeToRecreate[0], segment)) {\n      if (treeToRecreate[1].hasOwnProperty(parallelRouteKey)) {\n        if (isLast) {\n          const subTree = walkAddRefetch(\n            undefined,\n            treeToRecreate[1][parallelRouteKey]\n          )\n          return [\n            treeToRecreate[0],\n            {\n              ...treeToRecreate[1],\n              [parallelRouteKey]: [\n                subTree[0],\n                subTree[1],\n                subTree[2],\n                'refetch',\n              ],\n            },\n          ]\n        }\n\n        return [\n          treeToRecreate[0],\n          {\n            ...treeToRecreate[1],\n            [parallelRouteKey]: walkAddRefetch(\n              segmentPathToWalk.slice(2),\n              treeToRecreate[1][parallelRouteKey]\n            ),\n          },\n        ]\n      }\n    }\n  }\n\n  return treeToRecreate\n}\n\nconst __DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE = (\n  ReactDOM as any\n).__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE\n\n// TODO-APP: Replace with new React API for finding dom nodes without a `ref` when available\n/**\n * Wraps ReactDOM.findDOMNode with additional logic to hide React Strict Mode warning\n */\nfunction findDOMNode(\n  instance: React.ReactInstance | null | undefined\n): Element | Text | null {\n  // Tree-shake for server bundle\n  if (typeof window === 'undefined') return null\n\n  // __DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE.findDOMNode is null during module init.\n  // We need to lazily reference it.\n  const internal_reactDOMfindDOMNode =\n    __DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE.findDOMNode\n  return internal_reactDOMfindDOMNode(instance)\n}\n\nconst rectProperties = [\n  'bottom',\n  'height',\n  'left',\n  'right',\n  'top',\n  'width',\n  'x',\n  'y',\n] as const\n/**\n * Check if a HTMLElement is hidden or fixed/sticky position\n */\nfunction shouldSkipElement(element: HTMLElement) {\n  // we ignore fixed or sticky positioned elements since they'll likely pass the \"in-viewport\" check\n  // and will result in a situation we bail on scroll because of something like a fixed nav,\n  // even though the actual page content is offscreen\n  if (['sticky', 'fixed'].includes(getComputedStyle(element).position)) {\n    if (process.env.NODE_ENV === 'development') {\n      console.warn(\n        'Skipping auto-scroll behavior due to `position: sticky` or `position: fixed` on element:',\n        element\n      )\n    }\n    return true\n  }\n\n  // Uses `getBoundingClientRect` to check if the element is hidden instead of `offsetParent`\n  // because `offsetParent` doesn't consider document/body\n  const rect = element.getBoundingClientRect()\n  return rectProperties.every((item) => rect[item] === 0)\n}\n\n/**\n * Check if the top corner of the HTMLElement is in the viewport.\n */\nfunction topOfElementInViewport(element: HTMLElement, viewportHeight: number) {\n  const rect = element.getBoundingClientRect()\n  return rect.top >= 0 && rect.top <= viewportHeight\n}\n\n/**\n * Find the DOM node for a hash fragment.\n * If `top` the page has to scroll to the top of the page. This mirrors the browser's behavior.\n * If the hash fragment is an id, the page has to scroll to the element with that id.\n * If the hash fragment is a name, the page has to scroll to the first element with that name.\n */\nfunction getHashFragmentDomNode(hashFragment: string) {\n  // If the hash fragment is `top` the page has to scroll to the top of the page.\n  if (hashFragment === 'top') {\n    return document.body\n  }\n\n  // If the hash fragment is an id, the page has to scroll to the element with that id.\n  return (\n    document.getElementById(hashFragment) ??\n    // If the hash fragment is a name, the page has to scroll to the first element with that name.\n    document.getElementsByName(hashFragment)[0]\n  )\n}\ninterface ScrollAndFocusHandlerProps {\n  focusAndScrollRef: FocusAndScrollRef\n  children: React.ReactNode\n  segmentPath: FlightSegmentPath\n}\nclass InnerScrollAndFocusHandler extends React.Component<ScrollAndFocusHandlerProps> {\n  handlePotentialScroll = () => {\n    // Handle scroll and focus, it's only applied once in the first useEffect that triggers that changed.\n    const { focusAndScrollRef, segmentPath } = this.props\n\n    if (focusAndScrollRef.apply) {\n      // segmentPaths is an array of segment paths that should be scrolled to\n      // if the current segment path is not in the array, the scroll is not applied\n      // unless the array is empty, in which case the scroll is always applied\n      if (\n        focusAndScrollRef.segmentPaths.length !== 0 &&\n        !focusAndScrollRef.segmentPaths.some((scrollRefSegmentPath) =>\n          segmentPath.every((segment, index) =>\n            matchSegment(segment, scrollRefSegmentPath[index])\n          )\n        )\n      ) {\n        return\n      }\n\n      let domNode:\n        | ReturnType<typeof getHashFragmentDomNode>\n        | ReturnType<typeof findDOMNode> = null\n      const hashFragment = focusAndScrollRef.hashFragment\n\n      if (hashFragment) {\n        domNode = getHashFragmentDomNode(hashFragment)\n      }\n\n      // `findDOMNode` is tricky because it returns just the first child if the component is a fragment.\n      // This already caused a bug where the first child was a <link/> in head.\n      if (!domNode) {\n        domNode = findDOMNode(this)\n      }\n\n      // If there is no DOM node this layout-router level is skipped. It'll be handled higher-up in the tree.\n      if (!(domNode instanceof Element)) {\n        return\n      }\n\n      // Verify if the element is a HTMLElement and if we want to consider it for scroll behavior.\n      // If the element is skipped, try to select the next sibling and try again.\n      while (!(domNode instanceof HTMLElement) || shouldSkipElement(domNode)) {\n        if (process.env.NODE_ENV !== 'production') {\n          if (domNode.parentElement?.localName === 'head') {\n            // TODO: We enter this state when metadata was rendered as part of the page or via Next.js.\n            // This is always a bug in Next.js and caused by React hoisting metadata.\n            // We need to replace `findDOMNode` in favor of Fragment Refs (when available) so that we can skip over metadata.\n          }\n        }\n\n        // No siblings found that match the criteria are found, so handle scroll higher up in the tree instead.\n        if (domNode.nextElementSibling === null) {\n          return\n        }\n        domNode = domNode.nextElementSibling\n      }\n\n      // State is mutated to ensure that the focus and scroll is applied only once.\n      focusAndScrollRef.apply = false\n      focusAndScrollRef.hashFragment = null\n      focusAndScrollRef.segmentPaths = []\n\n      disableSmoothScrollDuringRouteTransition(\n        () => {\n          // In case of hash scroll, we only need to scroll the element into view\n          if (hashFragment) {\n            ;(domNode as HTMLElement).scrollIntoView()\n\n            return\n          }\n          // Store the current viewport height because reading `clientHeight` causes a reflow,\n          // and it won't change during this function.\n          const htmlElement = document.documentElement\n          const viewportHeight = htmlElement.clientHeight\n\n          // If the element's top edge is already in the viewport, exit early.\n          if (topOfElementInViewport(domNode as HTMLElement, viewportHeight)) {\n            return\n          }\n\n          // Otherwise, try scrolling go the top of the document to be backward compatible with pages\n          // scrollIntoView() called on `<html/>` element scrolls horizontally on chrome and firefox (that shouldn't happen)\n          // We could use it to scroll horizontally following RTL but that also seems to be broken - it will always scroll left\n          // scrollLeft = 0 also seems to ignore RTL and manually checking for RTL is too much hassle so we will scroll just vertically\n          htmlElement.scrollTop = 0\n\n          // Scroll to domNode if domNode is not in viewport when scrolled to top of document\n          if (!topOfElementInViewport(domNode as HTMLElement, viewportHeight)) {\n            // Scroll into view doesn't scroll horizontally by default when not needed\n            ;(domNode as HTMLElement).scrollIntoView()\n          }\n        },\n        {\n          // We will force layout by querying domNode position\n          dontForceLayout: true,\n          onlyHashChange: focusAndScrollRef.onlyHashChange,\n        }\n      )\n\n      // Mutate after scrolling so that it can be read by `disableSmoothScrollDuringRouteTransition`\n      focusAndScrollRef.onlyHashChange = false\n\n      // Set focus on the element\n      domNode.focus()\n    }\n  }\n\n  componentDidMount() {\n    this.handlePotentialScroll()\n  }\n\n  componentDidUpdate() {\n    // Because this property is overwritten in handlePotentialScroll it's fine to always run it when true as it'll be set to false for subsequent renders.\n    if (this.props.focusAndScrollRef.apply) {\n      this.handlePotentialScroll()\n    }\n  }\n\n  render() {\n    return this.props.children\n  }\n}\n\nfunction ScrollAndFocusHandler({\n  segmentPath,\n  children,\n}: {\n  segmentPath: FlightSegmentPath\n  children: React.ReactNode\n}) {\n  const context = useContext(GlobalLayoutRouterContext)\n  if (!context) {\n    throw new Error('invariant global layout router not mounted')\n  }\n\n  return (\n    <InnerScrollAndFocusHandler\n      segmentPath={segmentPath}\n      focusAndScrollRef={context.focusAndScrollRef}\n    >\n      {children}\n    </InnerScrollAndFocusHandler>\n  )\n}\n\n/**\n * InnerLayoutRouter handles rendering the provided segment based on the cache.\n */\nfunction InnerLayoutRouter({\n  tree,\n  segmentPath,\n  cacheNode,\n  url,\n}: {\n  tree: FlightRouterState\n  segmentPath: FlightSegmentPath\n  cacheNode: CacheNode\n  url: string\n}) {\n  const context = useContext(GlobalLayoutRouterContext)\n  if (!context) {\n    throw new Error('invariant global layout router not mounted')\n  }\n\n  const { tree: fullTree } = context\n\n  // `rsc` represents the renderable node for this segment.\n\n  // If this segment has a `prefetchRsc`, it's the statically prefetched data.\n  // We should use that on initial render instead of `rsc`. Then we'll switch\n  // to `rsc` when the dynamic response streams in.\n  //\n  // If no prefetch data is available, then we go straight to rendering `rsc`.\n  const resolvedPrefetchRsc =\n    cacheNode.prefetchRsc !== null ? cacheNode.prefetchRsc : cacheNode.rsc\n\n  // We use `useDeferredValue` to handle switching between the prefetched and\n  // final values. The second argument is returned on initial render, then it\n  // re-renders with the first argument.\n  const rsc: any = useDeferredValue(cacheNode.rsc, resolvedPrefetchRsc)\n\n  // `rsc` is either a React node or a promise for a React node, except we\n  // special case `null` to represent that this segment's data is missing. If\n  // it's a promise, we need to unwrap it so we can determine whether or not the\n  // data is missing.\n  const resolvedRsc: React.ReactNode =\n    typeof rsc === 'object' && rsc !== null && typeof rsc.then === 'function'\n      ? use(rsc)\n      : rsc\n\n  if (!resolvedRsc) {\n    // The data for this segment is not available, and there's no pending\n    // navigation that will be able to fulfill it. We need to fetch more from\n    // the server and patch the cache.\n\n    // Check if there's already a pending request.\n    let lazyData = cacheNode.lazyData\n    if (lazyData === null) {\n      /**\n       * Router state with refetch marker added\n       */\n      // TODO-APP: remove ''\n      const refetchTree = walkAddRefetch(['', ...segmentPath], fullTree)\n      const includeNextUrl = hasInterceptionRouteInCurrentTree(fullTree)\n      const navigatedAt = Date.now()\n      cacheNode.lazyData = lazyData = fetchServerResponse(\n        new URL(url, location.origin),\n        {\n          flightRouterState: refetchTree,\n          nextUrl: includeNextUrl ? context.nextUrl : null,\n        }\n      ).then((serverResponse) => {\n        startTransition(() => {\n          dispatchAppRouterAction({\n            type: ACTION_SERVER_PATCH,\n            previousTree: fullTree,\n            serverResponse,\n            navigatedAt,\n          })\n        })\n\n        return serverResponse\n      })\n\n      // Suspend while waiting for lazyData to resolve\n      use(lazyData)\n    }\n    // Suspend infinitely as `changeByServerResponse` will cause a different part of the tree to be rendered.\n    // A falsey `resolvedRsc` indicates missing data -- we should not commit that branch, and we need to wait for the data to arrive.\n    use(unresolvedThenable) as never\n  }\n\n  // If we get to this point, then we know we have something we can render.\n  const subtree = (\n    // The layout router context narrows down tree and childNodes at each level.\n    <LayoutRouterContext.Provider\n      value={{\n        parentTree: tree,\n        parentCacheNode: cacheNode,\n        parentSegmentPath: segmentPath,\n\n        // TODO-APP: overriding of url for parallel routes\n        url: url,\n      }}\n    >\n      {resolvedRsc}\n    </LayoutRouterContext.Provider>\n  )\n  // Ensure root layout is not wrapped in a div as the root layout renders `<html>`\n  return subtree\n}\n\n/**\n * Renders suspense boundary with the provided \"loading\" property as the fallback.\n * If no loading property is provided it renders the children without a suspense boundary.\n */\nfunction LoadingBoundary({\n  loading,\n  children,\n}: {\n  loading: LoadingModuleData | Promise<LoadingModuleData>\n  children: React.ReactNode\n}): JSX.Element {\n  // If loading is a promise, unwrap it. This happens in cases where we haven't\n  // yet received the loading data from the server — which includes whether or\n  // not this layout has a loading component at all.\n  //\n  // It's OK to suspend here instead of inside the fallback because this\n  // promise will resolve simultaneously with the data for the segment itself.\n  // So it will never suspend for longer than it would have if we didn't use\n  // a Suspense fallback at all.\n  let loadingModuleData\n  if (\n    typeof loading === 'object' &&\n    loading !== null &&\n    typeof (loading as any).then === 'function'\n  ) {\n    const promiseForLoading = loading as Promise<LoadingModuleData>\n    loadingModuleData = use(promiseForLoading)\n  } else {\n    loadingModuleData = loading as LoadingModuleData\n  }\n\n  if (loadingModuleData) {\n    const loadingRsc = loadingModuleData[0]\n    const loadingStyles = loadingModuleData[1]\n    const loadingScripts = loadingModuleData[2]\n    return (\n      <Suspense\n        fallback={\n          <>\n            {loadingStyles}\n            {loadingScripts}\n            {loadingRsc}\n          </>\n        }\n      >\n        {children}\n      </Suspense>\n    )\n  }\n\n  return <>{children}</>\n}\n\n/**\n * OuterLayoutRouter handles the current segment as well as <Offscreen> rendering of other segments.\n * It can be rendered next to each other with a different `parallelRouterKey`, allowing for Parallel routes.\n */\nexport default function OuterLayoutRouter({\n  parallelRouterKey,\n  error,\n  errorStyles,\n  errorScripts,\n  templateStyles,\n  templateScripts,\n  template,\n  notFound,\n  forbidden,\n  unauthorized,\n  segmentViewBoundaries,\n}: {\n  parallelRouterKey: string\n  error: ErrorComponent | undefined\n  errorStyles: React.ReactNode | undefined\n  errorScripts: React.ReactNode | undefined\n  templateStyles: React.ReactNode | undefined\n  templateScripts: React.ReactNode | undefined\n  template: React.ReactNode\n  notFound: React.ReactNode | undefined\n  forbidden: React.ReactNode | undefined\n  unauthorized: React.ReactNode | undefined\n  segmentViewBoundaries?: React.ReactNode\n}) {\n  const context = useContext(LayoutRouterContext)\n  if (!context) {\n    throw new Error('invariant expected layout router to be mounted')\n  }\n\n  const { parentTree, parentCacheNode, parentSegmentPath, url } = context\n\n  // Get the CacheNode for this segment by reading it from the parent segment's\n  // child map.\n  const parentParallelRoutes = parentCacheNode.parallelRoutes\n  let segmentMap = parentParallelRoutes.get(parallelRouterKey)\n  // If the parallel router cache node does not exist yet, create it.\n  // This writes to the cache when there is no item in the cache yet. It never *overwrites* existing cache items which is why it's safe in concurrent mode.\n  if (!segmentMap) {\n    segmentMap = new Map()\n    parentParallelRoutes.set(parallelRouterKey, segmentMap)\n  }\n  const parentTreeSegment = parentTree[0]\n  const segmentPath =\n    parentSegmentPath === null\n      ? // TODO: The root segment value is currently omitted from the segment\n        // path. This has led to a bunch of special cases scattered throughout\n        // the code. We should clean this up.\n        [parallelRouterKey]\n      : parentSegmentPath.concat([parentTreeSegment, parallelRouterKey])\n\n  // The \"state\" key of a segment is the one passed to React — it represents the\n  // identity of the UI tree. Whenever the state key changes, the tree is\n  // recreated and the state is reset. In the App Router model, search params do\n  // not cause state to be lost, so two segments with the same segment path but\n  // different search params should have the same state key.\n  //\n  // The \"cache\" key of a segment, however, *does* include the search params, if\n  // it's possible that the segment accessed the search params on the server.\n  // (This only applies to page segments; layout segments cannot access search\n  // params on the server.)\n  const activeTree = parentTree[1][parallelRouterKey]\n  const activeSegment = activeTree[0]\n  const activeStateKey = createRouterCacheKey(activeSegment, true) // no search params\n\n  // At each level of the route tree, not only do we render the currently\n  // active segment — we also render the last N segments that were active at\n  // this level inside a hidden <Activity> boundary, to preserve their state\n  // if or when the user navigates to them again.\n  //\n  // bfcacheEntry is a linked list of FlightRouterStates.\n  let bfcacheEntry: RouterBFCacheEntry | null = useRouterBFCache(\n    activeTree,\n    activeStateKey\n  )\n  let children: Array<React.ReactNode> = []\n  do {\n    const tree = bfcacheEntry.tree\n    const stateKey = bfcacheEntry.stateKey\n    const segment = tree[0]\n    const cacheKey = createRouterCacheKey(segment)\n\n    // Read segment path from the parallel router cache node.\n    let cacheNode = segmentMap.get(cacheKey)\n    if (cacheNode === undefined) {\n      // When data is not available during rendering client-side we need to fetch\n      // it from the server.\n      const newLazyCacheNode: LazyCacheNode = {\n        lazyData: null,\n        rsc: null,\n        prefetchRsc: null,\n        head: null,\n        prefetchHead: null,\n        parallelRoutes: new Map(),\n        loading: null,\n        navigatedAt: -1,\n      }\n\n      // Flight data fetch kicked off during render and put into the cache.\n      cacheNode = newLazyCacheNode\n      segmentMap.set(cacheKey, newLazyCacheNode)\n    }\n\n    /*\n    - Error boundary\n      - Only renders error boundary if error component is provided.\n      - Rendered for each segment to ensure they have their own error state.\n      - When gracefully degrade for bots, skip rendering error boundary.\n    - Loading boundary\n      - Only renders suspense boundary if loading components is provided.\n      - Rendered for each segment to ensure they have their own loading state.\n      - Passed to the router during rendering to ensure it can be immediately rendered when suspending on a Flight fetch.\n  */\n\n    let segmentBoundaryTriggerNode: React.ReactNode = null\n    let segmentViewStateNode: React.ReactNode = null\n    if (\n      process.env.NODE_ENV !== 'production' &&\n      process.env.__NEXT_DEVTOOL_SEGMENT_EXPLORER\n    ) {\n      const { SegmentBoundaryTriggerNode, SegmentViewStateNode } =\n        require('../../next-devtools/userspace/app/segment-explorer-node') as typeof import('../../next-devtools/userspace/app/segment-explorer-node')\n\n      const pagePrefix = normalizeAppPath(url)\n      segmentViewStateNode = (\n        <SegmentViewStateNode key={pagePrefix} page={pagePrefix} />\n      )\n\n      segmentBoundaryTriggerNode = (\n        <>\n          <SegmentBoundaryTriggerNode />\n        </>\n      )\n    }\n\n    // TODO: The loading module data for a segment is stored on the parent, then\n    // applied to each of that parent segment's parallel route slots. In the\n    // simple case where there's only one parallel route (the `children` slot),\n    // this is no different from if the loading module data where stored on the\n    // child directly. But I'm not sure this actually makes sense when there are\n    // multiple parallel routes. It's not a huge issue because you always have\n    // the option to define a narrower loading boundary for a particular slot. But\n    // this sort of smells like an implementation accident to me.\n    const loadingModuleData = parentCacheNode.loading\n    let child = (\n      <TemplateContext.Provider\n        key={stateKey}\n        value={\n          <ScrollAndFocusHandler segmentPath={segmentPath}>\n            <ErrorBoundary\n              errorComponent={error}\n              errorStyles={errorStyles}\n              errorScripts={errorScripts}\n            >\n              <LoadingBoundary loading={loadingModuleData}>\n                <HTTPAccessFallbackBoundary\n                  notFound={notFound}\n                  forbidden={forbidden}\n                  unauthorized={unauthorized}\n                >\n                  <RedirectBoundary>\n                    <InnerLayoutRouter\n                      url={url}\n                      tree={tree}\n                      cacheNode={cacheNode}\n                      segmentPath={segmentPath}\n                    />\n                    {segmentBoundaryTriggerNode}\n                  </RedirectBoundary>\n                </HTTPAccessFallbackBoundary>\n              </LoadingBoundary>\n            </ErrorBoundary>\n            {segmentViewStateNode}\n          </ScrollAndFocusHandler>\n        }\n      >\n        {templateStyles}\n        {templateScripts}\n        {template}\n      </TemplateContext.Provider>\n    )\n\n    if (process.env.NODE_ENV !== 'production') {\n      const { SegmentStateProvider } =\n        require('../../next-devtools/userspace/app/segment-explorer-node') as typeof import('../../next-devtools/userspace/app/segment-explorer-node')\n\n      child = (\n        <SegmentStateProvider key={stateKey}>\n          {child}\n          {segmentViewBoundaries}\n        </SegmentStateProvider>\n      )\n    }\n\n    if (process.env.__NEXT_ROUTER_BF_CACHE) {\n      child = (\n        <Activity\n          key={stateKey}\n          mode={stateKey === activeStateKey ? 'visible' : 'hidden'}\n        >\n          {child}\n        </Activity>\n      )\n    }\n\n    children.push(child)\n\n    bfcacheEntry = bfcacheEntry.next\n  } while (bfcacheEntry !== null)\n\n  return children\n}\n"],"names":["OuterLayoutRouter","Activity","process","env","__NEXT_ROUTER_BF_CACHE","require","unstable_Activity","walkAddRefetch","segmentPathToWalk","treeToRecreate","segment","parallelRouteKey","isLast","length","matchSegment","hasOwnProperty","subTree","undefined","slice","__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE","ReactDOM","findDOMNode","instance","window","internal_reactDOMfindDOMNode","rectProperties","shouldSkipElement","element","includes","getComputedStyle","position","NODE_ENV","console","warn","rect","getBoundingClientRect","every","item","topOfElementInViewport","viewportHeight","top","getHashFragmentDomNode","hashFragment","document","body","getElementById","getElementsByName","InnerScrollAndFocusHandler","React","Component","componentDidMount","handlePotentialScroll","componentDidUpdate","props","focusAndScrollRef","apply","render","children","segmentPath","segmentPaths","some","scrollRefSegmentPath","index","domNode","Element","HTMLElement","parentElement","localName","nextElementSibling","disableSmoothScrollDuringRouteTransition","scrollIntoView","htmlElement","documentElement","clientHeight","scrollTop","dontForceLayout","onlyHashChange","focus","ScrollAndFocusHandler","context","useContext","GlobalLayoutRouterContext","Error","InnerLayoutRouter","tree","cacheNode","url","fullTree","resolvedPrefetchRsc","prefetchRsc","rsc","useDeferredValue","resolvedRsc","then","use","lazyData","refetchTree","includeNextUrl","hasInterceptionRouteInCurrentTree","navigatedAt","Date","now","fetchServerResponse","URL","location","origin","flightRouterState","nextUrl","serverResponse","startTransition","dispatchAppRouterAction","type","ACTION_SERVER_PATCH","previousTree","unresolvedThenable","subtree","LayoutRouterContext","Provider","value","parentTree","parentCacheNode","parentSegmentPath","LoadingBoundary","loading","loadingModuleData","promiseForLoading","loadingRsc","loadingStyles","loadingScripts","Suspense","fallback","parallelRouterKey","error","errorStyles","errorScripts","templateStyles","templateScripts","template","notFound","forbidden","unauthorized","segmentViewBoundaries","parentParallelRoutes","parallelRoutes","segmentMap","get","Map","set","parentTreeSegment","concat","activeTree","activeSegment","activeStateKey","createRouterCacheKey","bfcacheEntry","useRouterBFCache","stateKey","cacheKey","newLazyCacheNode","head","prefetchHead","segmentBoundaryTriggerNode","segmentViewStateNode","__NEXT_DEVTOOL_SEGMENT_EXPLORER","SegmentBoundaryTriggerNode","SegmentViewStateNode","pagePrefix","normalizeAppPath","page","child","TemplateContext","ErrorBoundary","errorComponent","HTTPAccessFallbackBoundary","RedirectBoundary","SegmentStateProvider","mode","push","next"],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4205, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Guille/Documents/Arquetype/node_modules/next/src/client/components/render-from-template-context.tsx"],"sourcesContent":["'use client'\n\nimport React, { useContext, type JSX } from 'react'\nimport { TemplateContext } from '../../shared/lib/app-router-context.shared-runtime'\n\nexport default function RenderFromTemplateContext(): JSX.Element {\n  const children = useContext(TemplateContext)\n  return <>{children}</>\n}\n"],"names":["RenderFromTemplateContext","children","useContext","TemplateContext"],"mappings":";;;+BAKA,WAAA;;;eAAwBA;;;;;iEAHoB;+CACZ;AAEjB,SAASA;IACtB,MAAMC,WAAWC,CAAAA,GAAAA,OAAAA,UAAU,EAACC,+BAAAA,eAAe;IAC3C,OAAA,WAAA,GAAO,CAAA,GAAA,YAAA,GAAA,EAAA,YAAA,QAAA,EAAA;kBAAGF;;AACZ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4235, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Guille/Documents/Arquetype/node_modules/next/src/server/web/spec-extension/adapters/reflect.ts"],"sourcesContent":["export class ReflectAdapter {\n  static get<T extends object>(\n    target: T,\n    prop: string | symbol,\n    receiver: unknown\n  ): any {\n    const value = Reflect.get(target, prop, receiver)\n    if (typeof value === 'function') {\n      return value.bind(target)\n    }\n\n    return value\n  }\n\n  static set<T extends object>(\n    target: T,\n    prop: string | symbol,\n    value: any,\n    receiver: any\n  ): boolean {\n    return Reflect.set(target, prop, value, receiver)\n  }\n\n  static has<T extends object>(target: T, prop: string | symbol): boolean {\n    return Reflect.has(target, prop)\n  }\n\n  static deleteProperty<T extends object>(\n    target: T,\n    prop: string | symbol\n  ): boolean {\n    return Reflect.deleteProperty(target, prop)\n  }\n}\n"],"names":["ReflectAdapter","get","target","prop","receiver","value","Reflect","bind","set","has","deleteProperty"],"mappings":";;;+BAAaA,kBAAAA;;;eAAAA;;;AAAN,MAAMA;IACX,OAAOC,IACLC,MAAS,EACTC,IAAqB,EACrBC,QAAiB,EACZ;QACL,MAAMC,QAAQC,QAAQL,GAAG,CAACC,QAAQC,MAAMC;QACxC,IAAI,OAAOC,UAAU,YAAY;YAC/B,OAAOA,MAAME,IAAI,CAACL;QACpB;QAEA,OAAOG;IACT;IAEA,OAAOG,IACLN,MAAS,EACTC,IAAqB,EACrBE,KAAU,EACVD,QAAa,EACJ;QACT,OAAOE,QAAQE,GAAG,CAACN,QAAQC,MAAME,OAAOD;IAC1C;IAEA,OAAOK,IAAsBP,MAAS,EAAEC,IAAqB,EAAW;QACtE,OAAOG,QAAQG,GAAG,CAACP,QAAQC;IAC7B;IAEA,OAAOO,eACLR,MAAS,EACTC,IAAqB,EACZ;QACT,OAAOG,QAAQI,cAAc,CAACR,QAAQC;IACxC;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4266, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Guille/Documents/Arquetype/node_modules/next/src/shared/lib/utils/reflect-utils.ts"],"sourcesContent":["// This regex will have fast negatives meaning valid identifiers may not pass\n// this test. However this is only used during static generation to provide hints\n// about why a page bailed out of some or all prerendering and we can use bracket notation\n// for example while `ಠ_ಠ` is a valid identifier it's ok to print `searchParams['ಠ_ಠ']`\n// even if this would have been fine too `searchParams.ಠ_ಠ`\nconst isDefinitelyAValidIdentifier = /^[A-Za-z_$][A-Za-z0-9_$]*$/\n\nexport function describeStringPropertyAccess(target: string, prop: string) {\n  if (isDefinitelyAValidIdentifier.test(prop)) {\n    return `\\`${target}.${prop}\\``\n  }\n  return `\\`${target}[${JSON.stringify(prop)}]\\``\n}\n\nexport function describeHasCheckingStringProperty(\n  target: string,\n  prop: string\n) {\n  const stringifiedProp = JSON.stringify(prop)\n  return `\\`Reflect.has(${target}, ${stringifiedProp})\\`, \\`${stringifiedProp} in ${target}\\`, or similar`\n}\n\nexport const wellKnownProperties = new Set([\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toString',\n  'valueOf',\n  'toLocaleString',\n\n  // Promise prototype\n  // fallthrough\n  'then',\n  'catch',\n  'finally',\n\n  // React Promise extension\n  // fallthrough\n  'status',\n\n  // React introspection\n  'displayName',\n  '_debugInfo',\n\n  // Common tested properties\n  // fallthrough\n  'toJSON',\n  '$$typeof',\n  '__esModule',\n])\n"],"names":["describeHasCheckingStringProperty","describeStringPropertyAccess","wellKnownProperties","isDefinitelyAValidIdentifier","target","prop","test","JSON","stringify","stringifiedProp","Set"],"mappings":"AAAA,6EAA6E;AAC7E,iFAAiF;AACjF,0FAA0F;AAC1F,uFAAuF;AACvF,2DAA2D;;;;;;;;;;;;;;;;IAU3CA,iCAAiC,EAAA;eAAjCA;;IAPAC,4BAA4B,EAAA;eAA5BA;;IAeHC,mBAAmB,EAAA;eAAnBA;;;AAjBb,MAAMC,+BAA+B;AAE9B,SAASF,6BAA6BG,MAAc,EAAEC,IAAY;IACvE,IAAIF,6BAA6BG,IAAI,CAACD,OAAO;QAC3C,OAAQ,MAAID,SAAO,MAAGC,OAAK;IAC7B;IACA,OAAQ,MAAID,SAAO,MAAGG,KAAKC,SAAS,CAACH,QAAM;AAC7C;AAEO,SAASL,kCACdI,MAAc,EACdC,IAAY;IAEZ,MAAMI,kBAAkBF,KAAKC,SAAS,CAACH;IACvC,OAAQ,kBAAgBD,SAAO,OAAIK,kBAAgB,UAASA,kBAAgB,SAAML,SAAO;AAC3F;AAEO,MAAMF,sBAAsB,IAAIQ,IAAI;IACzC;IACA;IACA;IACA;IACA;IACA;IAEA,oBAAoB;IACpB,cAAc;IACd;IACA;IACA;IAEA,0BAA0B;IAC1B,cAAc;IACd;IAEA,sBAAsB;IACtB;IACA;IAEA,2BAA2B;IAC3B,cAAc;IACd;IACA;IACA;CACD","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4335, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Guille/Documents/Arquetype/node_modules/next/src/client/request/search-params.browser.dev.ts"],"sourcesContent":["import type { SearchParams } from '../../server/request/search-params'\n\nimport { ReflectAdapter } from '../../server/web/spec-extension/adapters/reflect'\nimport {\n  describeStringPropertyAccess,\n  describeHasCheckingStringProperty,\n  wellKnownProperties,\n} from '../../shared/lib/utils/reflect-utils'\n\ninterface CacheLifetime {}\nconst CachedSearchParams = new WeakMap<CacheLifetime, Promise<SearchParams>>()\n\nfunction makeUntrackedExoticSearchParamsWithDevWarnings(\n  underlyingSearchParams: SearchParams\n): Promise<SearchParams> {\n  const cachedSearchParams = CachedSearchParams.get(underlyingSearchParams)\n  if (cachedSearchParams) {\n    return cachedSearchParams\n  }\n\n  const proxiedProperties = new Set<string>()\n  const unproxiedProperties: Array<string> = []\n\n  const promise = Promise.resolve(underlyingSearchParams)\n\n  Object.keys(underlyingSearchParams).forEach((prop) => {\n    if (wellKnownProperties.has(prop)) {\n      // These properties cannot be shadowed because they need to be the\n      // true underlying value for Promises to work correctly at runtime\n      unproxiedProperties.push(prop)\n    } else {\n      proxiedProperties.add(prop)\n      ;(promise as any)[prop] = underlyingSearchParams[prop]\n    }\n  })\n\n  const proxiedPromise = new Proxy(promise, {\n    get(target, prop, receiver) {\n      if (typeof prop === 'string') {\n        if (\n          !wellKnownProperties.has(prop) &&\n          (proxiedProperties.has(prop) ||\n            // We are accessing a property that doesn't exist on the promise nor\n            // the underlying searchParams.\n            Reflect.has(target, prop) === false)\n        ) {\n          const expression = describeStringPropertyAccess('searchParams', prop)\n          warnForSyncAccess(expression)\n        }\n      }\n      return ReflectAdapter.get(target, prop, receiver)\n    },\n    set(target, prop, value, receiver) {\n      if (typeof prop === 'string') {\n        proxiedProperties.delete(prop)\n      }\n      return Reflect.set(target, prop, value, receiver)\n    },\n    has(target, prop) {\n      if (typeof prop === 'string') {\n        if (\n          !wellKnownProperties.has(prop) &&\n          (proxiedProperties.has(prop) ||\n            // We are accessing a property that doesn't exist on the promise nor\n            // the underlying searchParams.\n            Reflect.has(target, prop) === false)\n        ) {\n          const expression = describeHasCheckingStringProperty(\n            'searchParams',\n            prop\n          )\n          warnForSyncAccess(expression)\n        }\n      }\n      return Reflect.has(target, prop)\n    },\n    ownKeys(target) {\n      warnForSyncSpread()\n      return Reflect.ownKeys(target)\n    },\n  })\n\n  CachedSearchParams.set(underlyingSearchParams, proxiedPromise)\n  return proxiedPromise\n}\n\n// Similar to `makeUntrackedExoticSearchParamsWithDevWarnings`, but just logging\n// the sync access without actually defining the search params on the promise.\nfunction makeUntrackedSearchParamsWithDevWarnings(\n  underlyingSearchParams: SearchParams\n): Promise<SearchParams> {\n  const cachedSearchParams = CachedSearchParams.get(underlyingSearchParams)\n  if (cachedSearchParams) {\n    return cachedSearchParams\n  }\n\n  const proxiedProperties = new Set<string>()\n  const unproxiedProperties: Array<string> = []\n  const promise = Promise.resolve(underlyingSearchParams)\n\n  Object.keys(underlyingSearchParams).forEach((prop) => {\n    if (wellKnownProperties.has(prop)) {\n      // These properties cannot be shadowed because they need to be the\n      // true underlying value for Promises to work correctly at runtime\n      unproxiedProperties.push(prop)\n    } else {\n      proxiedProperties.add(prop)\n    }\n  })\n\n  const proxiedPromise = new Proxy(promise, {\n    get(target, prop, receiver) {\n      if (typeof prop === 'string') {\n        if (\n          !wellKnownProperties.has(prop) &&\n          (proxiedProperties.has(prop) ||\n            // We are accessing a property that doesn't exist on the promise nor\n            // the underlying searchParams.\n            Reflect.has(target, prop) === false)\n        ) {\n          const expression = describeStringPropertyAccess('searchParams', prop)\n          warnForSyncAccess(expression)\n        }\n      }\n      return ReflectAdapter.get(target, prop, receiver)\n    },\n    set(target, prop, value, receiver) {\n      if (typeof prop === 'string') {\n        proxiedProperties.delete(prop)\n      }\n      return Reflect.set(target, prop, value, receiver)\n    },\n    has(target, prop) {\n      if (typeof prop === 'string') {\n        if (\n          !wellKnownProperties.has(prop) &&\n          (proxiedProperties.has(prop) ||\n            // We are accessing a property that doesn't exist on the promise nor\n            // the underlying searchParams.\n            Reflect.has(target, prop) === false)\n        ) {\n          const expression = describeHasCheckingStringProperty(\n            'searchParams',\n            prop\n          )\n          warnForSyncAccess(expression)\n        }\n      }\n      return Reflect.has(target, prop)\n    },\n    ownKeys(target) {\n      warnForSyncSpread()\n      return Reflect.ownKeys(target)\n    },\n  })\n\n  CachedSearchParams.set(underlyingSearchParams, proxiedPromise)\n  return proxiedPromise\n}\n\nfunction warnForSyncAccess(expression: string) {\n  console.error(\n    `A searchParam property was accessed directly with ${expression}. ` +\n      `\\`searchParams\\` should be unwrapped with \\`React.use()\\` before accessing its properties. ` +\n      `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`\n  )\n}\n\nfunction warnForSyncSpread() {\n  console.error(\n    `The keys of \\`searchParams\\` were accessed directly. ` +\n      `\\`searchParams\\` should be unwrapped with \\`React.use()\\` before accessing its properties. ` +\n      `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`\n  )\n}\n\nexport function createRenderSearchParamsFromClient(\n  underlyingSearchParams: SearchParams\n): Promise<SearchParams> {\n  if (process.env.__NEXT_CACHE_COMPONENTS) {\n    return makeUntrackedSearchParamsWithDevWarnings(underlyingSearchParams)\n  }\n\n  return makeUntrackedExoticSearchParamsWithDevWarnings(underlyingSearchParams)\n}\n"],"names":["createRenderSearchParamsFromClient","CachedSearchParams","WeakMap","makeUntrackedExoticSearchParamsWithDevWarnings","underlyingSearchParams","cachedSearchParams","get","proxiedProperties","Set","unproxiedProperties","promise","Promise","resolve","Object","keys","forEach","prop","wellKnownProperties","has","push","add","proxiedPromise","Proxy","target","receiver","Reflect","expression","describeStringPropertyAccess","warnForSyncAccess","ReflectAdapter","set","value","delete","describeHasCheckingStringProperty","ownKeys","warnForSyncSpread","makeUntrackedSearchParamsWithDevWarnings","console","error","process","env","__NEXT_CACHE_COMPONENTS"],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4482, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Guille/Documents/Arquetype/node_modules/next/src/client/request/search-params.browser.ts"],"sourcesContent":["export const createRenderSearchParamsFromClient =\n  process.env.NODE_ENV === 'development'\n    ? (\n        require('./search-params.browser.dev') as typeof import('./search-params.browser.dev')\n      ).createRenderSearchParamsFromClient\n    : (\n        require('./search-params.browser.prod') as typeof import('./search-params.browser.prod')\n      ).createRenderSearchParamsFromClient\n"],"names":["createRenderSearchParamsFromClient","process","env","NODE_ENV","require"],"mappings":"AACEC,QAAQC,GAAG,CAACC,QAAQ,KAAK;;;;;+BADdH,sCAAAA;;;eAAAA;;;AAAN,MAAMA,4EAGLI,QAAQ,0HACRJ,kCAAkC,GAElCI,QAAQ,gCACRJ,kCAAkC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4505, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Guille/Documents/Arquetype/node_modules/next/src/client/request/params.browser.dev.ts"],"sourcesContent":["import type { Params } from '../../server/request/params'\n\nimport { ReflectAdapter } from '../../server/web/spec-extension/adapters/reflect'\nimport { InvariantError } from '../../shared/lib/invariant-error'\nimport {\n  describeStringPropertyAccess,\n  wellKnownProperties,\n} from '../../shared/lib/utils/reflect-utils'\n\ninterface CacheLifetime {}\nconst CachedParams = new WeakMap<CacheLifetime, Promise<Params>>()\n\nfunction makeDynamicallyTrackedExoticParamsWithDevWarnings(\n  underlyingParams: Params\n): Promise<Params> {\n  const cachedParams = CachedParams.get(underlyingParams)\n  if (cachedParams) {\n    return cachedParams\n  }\n\n  // We don't use makeResolvedReactPromise here because params\n  // supports copying with spread and we don't want to unnecessarily\n  // instrument the promise with spreadable properties of ReactPromise.\n  const promise = Promise.resolve(underlyingParams)\n\n  const proxiedProperties = new Set<string>()\n  const unproxiedProperties: Array<string> = []\n\n  Object.keys(underlyingParams).forEach((prop) => {\n    if (wellKnownProperties.has(prop)) {\n      // These properties cannot be shadowed because they need to be the\n      // true underlying value for Promises to work correctly at runtime\n    } else {\n      proxiedProperties.add(prop)\n      ;(promise as any)[prop] = underlyingParams[prop]\n    }\n  })\n\n  const proxiedPromise = new Proxy(promise, {\n    get(target, prop, receiver) {\n      if (typeof prop === 'string') {\n        if (\n          // We are accessing a property that was proxied to the promise instance\n          proxiedProperties.has(prop)\n        ) {\n          const expression = describeStringPropertyAccess('params', prop)\n          warnForSyncAccess(expression)\n        }\n      }\n      return ReflectAdapter.get(target, prop, receiver)\n    },\n    set(target, prop, value, receiver) {\n      if (typeof prop === 'string') {\n        proxiedProperties.delete(prop)\n      }\n      return ReflectAdapter.set(target, prop, value, receiver)\n    },\n    ownKeys(target) {\n      warnForEnumeration(unproxiedProperties)\n      return Reflect.ownKeys(target)\n    },\n  })\n\n  CachedParams.set(underlyingParams, proxiedPromise)\n  return proxiedPromise\n}\n\n// Similar to `makeDynamicallyTrackedExoticParamsWithDevWarnings`, but just\n// logging the sync access without actually defining the params on the promise.\nfunction makeDynamicallyTrackedParamsWithDevWarnings(\n  underlyingParams: Params\n): Promise<Params> {\n  const cachedParams = CachedParams.get(underlyingParams)\n  if (cachedParams) {\n    return cachedParams\n  }\n\n  // We don't use makeResolvedReactPromise here because params\n  // supports copying with spread and we don't want to unnecessarily\n  // instrument the promise with spreadable properties of ReactPromise.\n  const promise = Promise.resolve(underlyingParams)\n\n  const proxiedProperties = new Set<string>()\n  const unproxiedProperties: Array<string> = []\n\n  Object.keys(underlyingParams).forEach((prop) => {\n    if (wellKnownProperties.has(prop)) {\n      // These properties cannot be shadowed because they need to be the\n      // true underlying value for Promises to work correctly at runtime\n    } else {\n      proxiedProperties.add(prop)\n    }\n  })\n\n  const proxiedPromise = new Proxy(promise, {\n    get(target, prop, receiver) {\n      if (typeof prop === 'string') {\n        if (\n          // We are accessing a property that was proxied to the promise instance\n          proxiedProperties.has(prop)\n        ) {\n          const expression = describeStringPropertyAccess('params', prop)\n          warnForSyncAccess(expression)\n        }\n      }\n      return ReflectAdapter.get(target, prop, receiver)\n    },\n    set(target, prop, value, receiver) {\n      if (typeof prop === 'string') {\n        proxiedProperties.delete(prop)\n      }\n      return ReflectAdapter.set(target, prop, value, receiver)\n    },\n    ownKeys(target) {\n      warnForEnumeration(unproxiedProperties)\n      return Reflect.ownKeys(target)\n    },\n  })\n\n  CachedParams.set(underlyingParams, proxiedPromise)\n  return proxiedPromise\n}\n\nfunction warnForSyncAccess(expression: string) {\n  console.error(\n    `A param property was accessed directly with ${expression}. \\`params\\` is now a Promise and should be unwrapped with \\`React.use()\\` before accessing properties of the underlying params object. In this version of Next.js direct access to param properties is still supported to facilitate migration but in a future version you will be required to unwrap \\`params\\` with \\`React.use()\\`.`\n  )\n}\n\nfunction warnForEnumeration(missingProperties: Array<string>) {\n  if (missingProperties.length) {\n    const describedMissingProperties =\n      describeListOfPropertyNames(missingProperties)\n    console.error(\n      `params are being enumerated incompletely missing these properties: ${describedMissingProperties}. ` +\n        `\\`params\\` should be unwrapped with \\`React.use()\\` before using its value. ` +\n        `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`\n    )\n  } else {\n    console.error(\n      `params are being enumerated. ` +\n        `\\`params\\` should be unwrapped with \\`React.use()\\` before using its value. ` +\n        `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`\n    )\n  }\n}\n\nfunction describeListOfPropertyNames(properties: Array<string>) {\n  switch (properties.length) {\n    case 0:\n      throw new InvariantError(\n        'Expected describeListOfPropertyNames to be called with a non-empty list of strings.'\n      )\n    case 1:\n      return `\\`${properties[0]}\\``\n    case 2:\n      return `\\`${properties[0]}\\` and \\`${properties[1]}\\``\n    default: {\n      let description = ''\n      for (let i = 0; i < properties.length - 1; i++) {\n        description += `\\`${properties[i]}\\`, `\n      }\n      description += `, and \\`${properties[properties.length - 1]}\\``\n      return description\n    }\n  }\n}\n\nexport function createRenderParamsFromClient(\n  clientParams: Params\n): Promise<Params> {\n  if (process.env.__NEXT_CACHE_COMPONENTS) {\n    return makeDynamicallyTrackedParamsWithDevWarnings(clientParams)\n  }\n\n  return makeDynamicallyTrackedExoticParamsWithDevWarnings(clientParams)\n}\n"],"names":["createRenderParamsFromClient","CachedParams","WeakMap","makeDynamicallyTrackedExoticParamsWithDevWarnings","underlyingParams","cachedParams","get","promise","Promise","resolve","proxiedProperties","Set","unproxiedProperties","Object","keys","forEach","prop","wellKnownProperties","has","add","proxiedPromise","Proxy","target","receiver","expression","describeStringPropertyAccess","warnForSyncAccess","ReflectAdapter","set","value","delete","ownKeys","warnForEnumeration","Reflect","makeDynamicallyTrackedParamsWithDevWarnings","console","error","missingProperties","length","describedMissingProperties","describeListOfPropertyNames","properties","InvariantError","description","i","clientParams","process","env","__NEXT_CACHE_COMPONENTS"],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4659, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Guille/Documents/Arquetype/node_modules/next/src/client/request/params.browser.ts"],"sourcesContent":["export const createRenderParamsFromClient =\n  process.env.NODE_ENV === 'development'\n    ? (require('./params.browser.dev') as typeof import('./params.browser.dev'))\n        .createRenderParamsFromClient\n    : (\n        require('./params.browser.prod') as typeof import('./params.browser.prod')\n      ).createRenderParamsFromClient\n"],"names":["createRenderParamsFromClient","process","env","NODE_ENV","require"],"mappings":"AACEC,QAAQC,GAAG,CAACC,QAAQ,KAAK;;;;;+BADdH,gCAAAA;;;eAAAA;;;AAAN,MAAMA,sEAENI,QAAQ,mHACNJ,4BAA4B,GAE7BI,QAAQ,yBACRJ,4BAA4B","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4682, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Guille/Documents/Arquetype/node_modules/next/src/server/create-deduped-by-callsite-server-error-logger.ts"],"sourcesContent":["import * as React from 'react'\n\nconst errorRef: { current: null | Error } = { current: null }\n\n// React.cache is currently only available in canary/experimental React channels.\nconst cache =\n  typeof React.cache === 'function'\n    ? React.cache\n    : (fn: (key: unknown) => void) => fn\n\n// When Cache Components is enabled, we record these as errors so that they\n// are captured by the dev overlay as it's more critical to fix these\n// when enabled.\nconst logErrorOrWarn = process.env.__NEXT_CACHE_COMPONENTS\n  ? console.error\n  : console.warn\n\n// We don't want to dedupe across requests.\n// The developer might've just attempted to fix the warning so we should warn again if it still happens.\nconst flushCurrentErrorIfNew = cache(\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars -- cache key\n  (key: unknown) => {\n    try {\n      logErrorOrWarn(errorRef.current)\n    } finally {\n      errorRef.current = null\n    }\n  }\n)\n\n/**\n * Creates a function that logs an error message that is deduped by the userland\n * callsite.\n * This requires no indirection between the call of this function and the userland\n * callsite i.e. there's only a single library frame above this.\n * Do not use on the Client where sourcemaps and ignore listing might be enabled.\n * Only use that for warnings need a fix independent of the callstack.\n *\n * @param getMessage\n * @returns\n */\nexport function createDedupedByCallsiteServerErrorLoggerDev<Args extends any[]>(\n  getMessage: (...args: Args) => Error\n) {\n  return function logDedupedError(...args: Args) {\n    const message = getMessage(...args)\n\n    if (process.env.NODE_ENV !== 'production') {\n      const callStackFrames = new Error().stack?.split('\\n')\n      if (callStackFrames === undefined || callStackFrames.length < 4) {\n        logErrorOrWarn(message)\n      } else {\n        // Error:\n        //   logDedupedError\n        //   asyncApiBeingAccessedSynchronously\n        //   <userland callsite>\n        // TODO: This breaks if sourcemaps with ignore lists are enabled.\n        const key = callStackFrames[4]\n        errorRef.current = message\n        flushCurrentErrorIfNew(key)\n      }\n    } else {\n      logErrorOrWarn(message)\n    }\n  }\n}\n"],"names":["createDedupedByCallsiteServerErrorLoggerDev","errorRef","current","cache","React","fn","logErrorOrWarn","process","env","__NEXT_CACHE_COMPONENTS","console","error","warn","flushCurrentErrorIfNew","key","getMessage","logDedupedError","args","message","NODE_ENV","callStackFrames","Error","stack","split","undefined","length"],"mappings":"AAauBO,QAAQC,GAAG,CAACC,uBAAuB;;;;;+BA4B1CT,+CAAAA;;;eAAAA;;;+DAzCO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEvB,MAAMC,WAAsC;IAAEC,SAAS;AAAK;AAE5D,iFAAiF;AACjF,MAAMC,QACJ,OAAOC,OAAMD,KAAK,KAAK,aACnBC,OAAMD,KAAK,GACX,CAACE,KAA+BA;AAEtC,2EAA2E;AAC3E,qEAAqE;AACrE,gBAAgB;AAChB,MAAMC,uDACFI,QAAQC,KAAK,aACbD,QAAQE,IAAI;AAEhB,2CAA2C;AAC3C,wGAAwG;AACxG,MAAMC,yBAAyBV,MAC7B,AACA,CAACW,yEADyE;IAExE,IAAI;QACFR,eAAeL,SAASC,OAAO;IACjC,SAAU;QACRD,SAASC,OAAO,GAAG;IACrB;AACF;AAcK,SAASF,4CACde,UAAoC;IAEpC,OAAO,SAASC;;YAAmBC,uBAAH,KAAa;;QAC3C,MAAMC,UAAUH,cAAcE;QAE9B,IAAIV,QAAQC,GAAG,CAACW,QAAQ,KAAK,WAAc;gBACjB;YAAxB,MAAMC,kBAAAA,CAAkB,SAAA,IAAIC,QAAQC,KAAK,KAAA,OAAA,KAAA,IAAjB,OAAmBC,KAAK,CAAC;YACjD,IAAIH,oBAAoBI,aAAaJ,gBAAgBK,MAAM,GAAG,GAAG;gBAC/DnB,eAAeY;YACjB,OAAO;gBACL,SAAS;gBACT,oBAAoB;gBACpB,uCAAuC;gBACvC,wBAAwB;gBACxB,iEAAiE;gBACjE,MAAMJ,MAAMM,eAAe,CAAC,EAAE;gBAC9BnB,SAASC,OAAO,GAAGgB;gBACnBL,uBAAuBC;YACzB;QACF,OAAO;;IAGT;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4782, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Guille/Documents/Arquetype/node_modules/next/src/server/app-render/after-task-async-storage-instance.ts"],"sourcesContent":["import type { AfterTaskAsyncStorage } from './after-task-async-storage.external'\nimport { createAsyncLocalStorage } from './async-local-storage'\n\nexport const afterTaskAsyncStorageInstance: AfterTaskAsyncStorage =\n  createAsyncLocalStorage()\n"],"names":["afterTaskAsyncStorageInstance","createAsyncLocalStorage"],"mappings":";;;+BAGaA,iCAAAA;;;eAAAA;;;mCAF2B;AAEjC,MAAMA,gCACXC,CAAAA,GAAAA,mBAAAA,uBAAuB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4797, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Guille/Documents/Arquetype/node_modules/next/src/server/app-render/after-task-async-storage.external.ts"],"sourcesContent":["import type { AsyncLocalStorage } from 'async_hooks'\n\n// Share the instance module in the next-shared layer\nimport { afterTaskAsyncStorageInstance as afterTaskAsyncStorage } from './after-task-async-storage-instance' with { 'turbopack-transition': 'next-shared' }\nimport type { WorkUnitStore } from './work-unit-async-storage.external'\n\nexport interface AfterTaskStore {\n  /** The phase in which the topmost `after` was called.\n   *\n   * NOTE: Can be undefined when running `generateStaticParams`,\n   * where we only have a `workStore`, no `workUnitStore`.\n   */\n  readonly rootTaskSpawnPhase: WorkUnitStore['phase'] | undefined\n}\n\nexport type AfterTaskAsyncStorage = AsyncLocalStorage<AfterTaskStore>\n\nexport { afterTaskAsyncStorage }\n"],"names":["afterTaskAsyncStorage"],"mappings":";;;+BAiBSA,yBAAAA;;;eAAAA,+BAAAA,6BAAqB;;;+CAdyC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4811, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Guille/Documents/Arquetype/node_modules/next/src/server/request/utils.ts"],"sourcesContent":["import { StaticGenBailoutError } from '../../client/components/static-generation-bailout'\nimport { afterTaskAsyncStorage } from '../app-render/after-task-async-storage.external'\nimport type { WorkStore } from '../app-render/work-async-storage.external'\n\nexport function throwWithStaticGenerationBailoutError(\n  route: string,\n  expression: string\n): never {\n  throw new StaticGenBailoutError(\n    `Route ${route} couldn't be rendered statically because it used ${expression}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`\n  )\n}\n\nexport function throwWithStaticGenerationBailoutErrorWithDynamicError(\n  route: string,\n  expression: string\n): never {\n  throw new StaticGenBailoutError(\n    `Route ${route} with \\`dynamic = \"error\"\\` couldn't be rendered statically because it used ${expression}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`\n  )\n}\n\nexport function throwForSearchParamsAccessInUseCache(\n  workStore: WorkStore,\n  constructorOpt: Function\n): never {\n  const error = new Error(\n    `Route ${workStore.route} used \"searchParams\" inside \"use cache\". Accessing dynamic request data inside a cache scope is not supported. If you need some search params inside a cached function await \"searchParams\" outside of the cached function and pass only the required search params as arguments to the cached function. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`\n  )\n\n  Error.captureStackTrace(error, constructorOpt)\n  workStore.invalidDynamicUsageError ??= error\n\n  throw error\n}\n\nexport function isRequestAPICallableInsideAfter() {\n  const afterTaskStore = afterTaskAsyncStorage.getStore()\n  return afterTaskStore?.rootTaskSpawnPhase === 'action'\n}\n"],"names":["isRequestAPICallableInsideAfter","throwForSearchParamsAccessInUseCache","throwWithStaticGenerationBailoutError","throwWithStaticGenerationBailoutErrorWithDynamicError","route","expression","StaticGenBailoutError","workStore","constructorOpt","error","Error","captureStackTrace","invalidDynamicUsageError","afterTaskStore","afterTaskAsyncStorage","getStore","rootTaskSpawnPhase"],"mappings":";;;;;;;;;;;;;;;;IAoCgBA,+BAA+B,EAAA;eAA/BA;;IAdAC,oCAAoC,EAAA;eAApCA;;IAlBAC,qCAAqC,EAAA;eAArCA;;IASAC,qDAAqD,EAAA;eAArDA;;;yCAbsB;+CACA;AAG/B,SAASD,sCACdE,KAAa,EACbC,UAAkB;IAElB,MAAM,OAAA,cAEL,CAFK,IAAIC,yBAAAA,qBAAqB,CAC7B,AAAC,MAAM,UAAEF,OAAM,iDAAiD,WAAEC,YAAW,0HAA0H,CAAC,KADpM,qBAAA;eAAA;oBAAA;sBAAA;IAEN;AACF;AAEO,SAASF,sDACdC,KAAa,EACbC,UAAkB;IAElB,MAAM,OAAA,cAEL,CAFK,IAAIC,yBAAAA,qBAAqB,CAC7B,AAAC,MAAM,UAAEF,OAAM,4EAA4E,UAAEC,YAAW,0HAA0H,CAAC,KAD/N,qBAAA;eAAA;oBAAA;sBAAA;IAEN;AACF;AAEO,SAASJ,qCACdM,SAAoB,EACpBC,cAAwB;QAOxBD;IALA,MAAME,QAAQ,OAAA,cAEb,CAFa,IAAIC,MAChB,AAAC,MAAM,UAAEH,UAAUH,KAAK,EAAC,uXAAuX,CAAC,KADrY,qBAAA;eAAA;oBAAA;sBAAA;IAEd;IAEAM,MAAMC,iBAAiB,CAACF,OAAOD;;8KACrBI,wBAAwB,GAAKH;IAEvC,MAAMA;AACR;AAEO,SAAST;IACd,MAAMa,iBAAiBC,+BAAAA,qBAAqB,CAACC,QAAQ;IACrD,OAAOF,CAAAA,kBAAAA,OAAAA,KAAAA,IAAAA,eAAgBG,kBAAkB,MAAK;AAChD","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4876, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Guille/Documents/Arquetype/node_modules/next/src/server/request/search-params.ts"],"sourcesContent":["import type { WorkStore } from '../app-render/work-async-storage.external'\n\nimport { ReflectAdapter } from '../web/spec-extension/adapters/reflect'\nimport {\n  throwToInterruptStaticGeneration,\n  postponeWithTracking,\n  trackDynamicDataInDynamicRender,\n  annotateDynamicAccess,\n  trackSynchronousRequestDataAccessInDev,\n  delayUntilRuntimeStage,\n} from '../app-render/dynamic-rendering'\n\nimport {\n  workUnitAsyncStorage,\n  type PrerenderStoreLegacy,\n  type PrerenderStorePPR,\n  type PrerenderStoreModern,\n  type PrerenderStoreModernRuntime,\n  type StaticPrerenderStore,\n  throwInvariantForMissingStore,\n} from '../app-render/work-unit-async-storage.external'\nimport { InvariantError } from '../../shared/lib/invariant-error'\nimport {\n  makeDevtoolsIOAwarePromise,\n  makeHangingPromise,\n} from '../dynamic-rendering-utils'\nimport { createDedupedByCallsiteServerErrorLoggerDev } from '../create-deduped-by-callsite-server-error-logger'\nimport {\n  describeStringPropertyAccess,\n  describeHasCheckingStringProperty,\n  wellKnownProperties,\n} from '../../shared/lib/utils/reflect-utils'\nimport {\n  throwWithStaticGenerationBailoutErrorWithDynamicError,\n  throwForSearchParamsAccessInUseCache,\n} from './utils'\n\nexport type SearchParams = { [key: string]: string | string[] | undefined }\n\n/**\n * In this version of Next.js the `params` prop passed to Layouts, Pages, and other Segments is a Promise.\n * However to facilitate migration to this new Promise type you can currently still access params directly on the Promise instance passed to these Segments.\n * The `UnsafeUnwrappedSearchParams` type is available if you need to temporarily access the underlying params without first awaiting or `use`ing the Promise.\n *\n * In a future version of Next.js the `params` prop will be a plain Promise and this type will be removed.\n *\n * Typically instances of `params` can be updated automatically to be treated as a Promise by a codemod published alongside this Next.js version however if you\n * have not yet run the codemod of the codemod cannot detect certain instances of `params` usage you should first try to refactor your code to await `params`.\n *\n * If refactoring is not possible but you still want to be able to access params directly without typescript errors you can cast the params Promise to this type\n *\n * ```tsx\n * type Props = { searchParams: Promise<{ foo: string }> }\n *\n * export default async function Page(props: Props) {\n *  const { searchParams } = (props.searchParams as unknown as UnsafeUnwrappedSearchParams<typeof props.searchParams>)\n *  return ...\n * }\n * ```\n *\n * This type is marked deprecated to help identify it as target for refactoring away.\n *\n * @deprecated\n */\nexport type UnsafeUnwrappedSearchParams<P> =\n  P extends Promise<infer U> ? Omit<U, 'then' | 'status' | 'value'> : never\n\nexport function createSearchParamsFromClient(\n  underlyingSearchParams: SearchParams,\n  workStore: WorkStore\n): Promise<SearchParams> {\n  const workUnitStore = workUnitAsyncStorage.getStore()\n  if (workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'prerender':\n      case 'prerender-client':\n      case 'prerender-ppr':\n      case 'prerender-legacy':\n        return createStaticPrerenderSearchParams(workStore, workUnitStore)\n      case 'prerender-runtime':\n        throw new InvariantError(\n          'createSearchParamsFromClient should not be called in a runtime prerender.'\n        )\n      case 'cache':\n      case 'private-cache':\n      case 'unstable-cache':\n        throw new InvariantError(\n          'createSearchParamsFromClient should not be called in cache contexts.'\n        )\n      case 'request':\n        return createRenderSearchParams(underlyingSearchParams, workStore)\n      default:\n        workUnitStore satisfies never\n    }\n  }\n  throwInvariantForMissingStore()\n}\n\n// generateMetadata always runs in RSC context so it is equivalent to a Server Page Component\nexport const createServerSearchParamsForMetadata =\n  createServerSearchParamsForServerPage\n\nexport function createServerSearchParamsForServerPage(\n  underlyingSearchParams: SearchParams,\n  workStore: WorkStore\n): Promise<SearchParams> {\n  const workUnitStore = workUnitAsyncStorage.getStore()\n  if (workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'prerender':\n      case 'prerender-client':\n      case 'prerender-ppr':\n      case 'prerender-legacy':\n        return createStaticPrerenderSearchParams(workStore, workUnitStore)\n      case 'cache':\n      case 'private-cache':\n      case 'unstable-cache':\n        throw new InvariantError(\n          'createServerSearchParamsForServerPage should not be called in cache contexts.'\n        )\n      case 'prerender-runtime':\n        return createRuntimePrerenderSearchParams(\n          underlyingSearchParams,\n          workUnitStore\n        )\n      case 'request':\n        return createRenderSearchParams(underlyingSearchParams, workStore)\n      default:\n        workUnitStore satisfies never\n    }\n  }\n  throwInvariantForMissingStore()\n}\n\nexport function createPrerenderSearchParamsForClientPage(\n  workStore: WorkStore\n): Promise<SearchParams> {\n  if (workStore.forceStatic) {\n    // When using forceStatic we override all other logic and always just return an empty\n    // dictionary object.\n    return Promise.resolve({})\n  }\n\n  const workUnitStore = workUnitAsyncStorage.getStore()\n  if (workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'prerender':\n      case 'prerender-client':\n        // We're prerendering in a mode that aborts (cacheComponents) and should stall\n        // the promise to ensure the RSC side is considered dynamic\n        return makeHangingPromise(\n          workUnitStore.renderSignal,\n          workStore.route,\n          '`searchParams`'\n        )\n      case 'prerender-runtime':\n        throw new InvariantError(\n          'createPrerenderSearchParamsForClientPage should not be called in a runtime prerender.'\n        )\n      case 'cache':\n      case 'private-cache':\n      case 'unstable-cache':\n        throw new InvariantError(\n          'createPrerenderSearchParamsForClientPage should not be called in cache contexts.'\n        )\n      case 'prerender-ppr':\n      case 'prerender-legacy':\n      case 'request':\n        return Promise.resolve({})\n      default:\n        workUnitStore satisfies never\n    }\n  }\n  throwInvariantForMissingStore()\n}\n\nfunction createStaticPrerenderSearchParams(\n  workStore: WorkStore,\n  prerenderStore: StaticPrerenderStore\n): Promise<SearchParams> {\n  if (workStore.forceStatic) {\n    // When using forceStatic we override all other logic and always just return an empty\n    // dictionary object.\n    return Promise.resolve({})\n  }\n\n  switch (prerenderStore.type) {\n    case 'prerender':\n    case 'prerender-client':\n      // We are in a cacheComponents (PPR or otherwise) prerender\n      return makeHangingSearchParams(workStore, prerenderStore)\n    case 'prerender-ppr':\n    case 'prerender-legacy':\n      // We are in a legacy static generation and need to interrupt the\n      // prerender when search params are accessed.\n      return makeErroringExoticSearchParams(workStore, prerenderStore)\n    default:\n      return prerenderStore satisfies never\n  }\n}\n\nfunction createRuntimePrerenderSearchParams(\n  underlyingSearchParams: SearchParams,\n  workUnitStore: PrerenderStoreModernRuntime\n): Promise<SearchParams> {\n  return delayUntilRuntimeStage(\n    workUnitStore,\n    process.env.__NEXT_CACHE_COMPONENTS\n      ? makeUntrackedSearchParams(underlyingSearchParams)\n      : makeUntrackedExoticSearchParams(underlyingSearchParams)\n  )\n}\n\nfunction createRenderSearchParams(\n  underlyingSearchParams: SearchParams,\n  workStore: WorkStore\n): Promise<SearchParams> {\n  if (workStore.forceStatic) {\n    // When using forceStatic we override all other logic and always just return an empty\n    // dictionary object.\n    return Promise.resolve({})\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      // Semantically we only need the dev tracking when running in `next dev`\n      // but since you would never use next dev with production NODE_ENV we use this\n      // as a proxy so we can statically exclude this code from production builds.\n      if (process.env.__NEXT_CACHE_COMPONENTS) {\n        return makeUntrackedSearchParamsWithDevWarnings(\n          underlyingSearchParams,\n          workStore\n        )\n      }\n\n      return makeDynamicallyTrackedExoticSearchParamsWithDevWarnings(\n        underlyingSearchParams,\n        workStore\n      )\n    } else {\n      if (process.env.__NEXT_CACHE_COMPONENTS) {\n        return makeUntrackedSearchParams(underlyingSearchParams)\n      }\n\n      return makeUntrackedExoticSearchParams(underlyingSearchParams)\n    }\n  }\n}\n\ninterface CacheLifetime {}\nconst CachedSearchParams = new WeakMap<CacheLifetime, Promise<SearchParams>>()\n\nconst CachedSearchParamsForUseCache = new WeakMap<\n  CacheLifetime,\n  Promise<SearchParams>\n>()\n\nfunction makeHangingSearchParams(\n  workStore: WorkStore,\n  prerenderStore: PrerenderStoreModern\n): Promise<SearchParams> {\n  const cachedSearchParams = CachedSearchParams.get(prerenderStore)\n  if (cachedSearchParams) {\n    return cachedSearchParams\n  }\n\n  const promise = makeHangingPromise<SearchParams>(\n    prerenderStore.renderSignal,\n    workStore.route,\n    '`searchParams`'\n  )\n\n  const proxiedPromise = new Proxy(promise, {\n    get(target, prop, receiver) {\n      if (Object.hasOwn(promise, prop)) {\n        // The promise has this property directly. we must return it.\n        // We know it isn't a dynamic access because it can only be something\n        // that was previously written to the promise and thus not an underlying searchParam value\n        return ReflectAdapter.get(target, prop, receiver)\n      }\n\n      switch (prop) {\n        case 'then': {\n          const expression =\n            '`await searchParams`, `searchParams.then`, or similar'\n          annotateDynamicAccess(expression, prerenderStore)\n          return ReflectAdapter.get(target, prop, receiver)\n        }\n        case 'status': {\n          const expression =\n            '`use(searchParams)`, `searchParams.status`, or similar'\n          annotateDynamicAccess(expression, prerenderStore)\n          return ReflectAdapter.get(target, prop, receiver)\n        }\n\n        default: {\n          return ReflectAdapter.get(target, prop, receiver)\n        }\n      }\n    },\n  })\n\n  CachedSearchParams.set(prerenderStore, proxiedPromise)\n  return proxiedPromise\n}\n\nfunction makeErroringExoticSearchParams(\n  workStore: WorkStore,\n  prerenderStore: PrerenderStoreLegacy | PrerenderStorePPR\n): Promise<SearchParams> {\n  const cachedSearchParams = CachedSearchParams.get(workStore)\n  if (cachedSearchParams) {\n    return cachedSearchParams\n  }\n\n  const underlyingSearchParams = {}\n  // For search params we don't construct a ReactPromise because we want to interrupt\n  // rendering on any property access that was not set from outside and so we only want\n  // to have properties like value and status if React sets them.\n  const promise = Promise.resolve(underlyingSearchParams)\n\n  const proxiedPromise = new Proxy(promise, {\n    get(target, prop, receiver) {\n      if (Object.hasOwn(promise, prop)) {\n        // The promise has this property directly. we must return it.\n        // We know it isn't a dynamic access because it can only be something\n        // that was previously written to the promise and thus not an underlying searchParam value\n        return ReflectAdapter.get(target, prop, receiver)\n      }\n\n      switch (prop) {\n        case 'then': {\n          const expression =\n            '`await searchParams`, `searchParams.then`, or similar'\n          if (workStore.dynamicShouldError) {\n            throwWithStaticGenerationBailoutErrorWithDynamicError(\n              workStore.route,\n              expression\n            )\n          } else if (prerenderStore.type === 'prerender-ppr') {\n            // PPR Prerender (no cacheComponents)\n            postponeWithTracking(\n              workStore.route,\n              expression,\n              prerenderStore.dynamicTracking\n            )\n          } else {\n            // Legacy Prerender\n            throwToInterruptStaticGeneration(\n              expression,\n              workStore,\n              prerenderStore\n            )\n          }\n          return\n        }\n        case 'status': {\n          const expression =\n            '`use(searchParams)`, `searchParams.status`, or similar'\n          if (workStore.dynamicShouldError) {\n            throwWithStaticGenerationBailoutErrorWithDynamicError(\n              workStore.route,\n              expression\n            )\n          } else if (prerenderStore.type === 'prerender-ppr') {\n            // PPR Prerender (no cacheComponents)\n            postponeWithTracking(\n              workStore.route,\n              expression,\n              prerenderStore.dynamicTracking\n            )\n          } else {\n            // Legacy Prerender\n            throwToInterruptStaticGeneration(\n              expression,\n              workStore,\n              prerenderStore\n            )\n          }\n          return\n        }\n        default: {\n          if (typeof prop === 'string' && !wellKnownProperties.has(prop)) {\n            const expression = describeStringPropertyAccess(\n              'searchParams',\n              prop\n            )\n            if (workStore.dynamicShouldError) {\n              throwWithStaticGenerationBailoutErrorWithDynamicError(\n                workStore.route,\n                expression\n              )\n            } else if (prerenderStore.type === 'prerender-ppr') {\n              // PPR Prerender (no cacheComponents)\n              postponeWithTracking(\n                workStore.route,\n                expression,\n                prerenderStore.dynamicTracking\n              )\n            } else {\n              // Legacy Prerender\n              throwToInterruptStaticGeneration(\n                expression,\n                workStore,\n                prerenderStore\n              )\n            }\n          }\n          return ReflectAdapter.get(target, prop, receiver)\n        }\n      }\n    },\n    has(target, prop) {\n      // We don't expect key checking to be used except for testing the existence of\n      // searchParams so we make all has tests trigger dynamic. this means that `promise.then`\n      // can resolve to the then function on the Promise prototype but 'then' in promise will assume\n      // you are testing whether the searchParams has a 'then' property.\n      if (typeof prop === 'string') {\n        const expression = describeHasCheckingStringProperty(\n          'searchParams',\n          prop\n        )\n        if (workStore.dynamicShouldError) {\n          throwWithStaticGenerationBailoutErrorWithDynamicError(\n            workStore.route,\n            expression\n          )\n        } else if (prerenderStore.type === 'prerender-ppr') {\n          // PPR Prerender (no cacheComponents)\n          postponeWithTracking(\n            workStore.route,\n            expression,\n            prerenderStore.dynamicTracking\n          )\n        } else {\n          // Legacy Prerender\n          throwToInterruptStaticGeneration(\n            expression,\n            workStore,\n            prerenderStore\n          )\n        }\n        return false\n      }\n      return ReflectAdapter.has(target, prop)\n    },\n    ownKeys() {\n      const expression =\n        '`{...searchParams}`, `Object.keys(searchParams)`, or similar'\n      if (workStore.dynamicShouldError) {\n        throwWithStaticGenerationBailoutErrorWithDynamicError(\n          workStore.route,\n          expression\n        )\n      } else if (prerenderStore.type === 'prerender-ppr') {\n        // PPR Prerender (no cacheComponents)\n        postponeWithTracking(\n          workStore.route,\n          expression,\n          prerenderStore.dynamicTracking\n        )\n      } else {\n        // Legacy Prerender\n        throwToInterruptStaticGeneration(expression, workStore, prerenderStore)\n      }\n    },\n  })\n\n  CachedSearchParams.set(workStore, proxiedPromise)\n  return proxiedPromise\n}\n\n/**\n * This is a variation of `makeErroringExoticSearchParams` that always throws an\n * error on access, because accessing searchParams inside of `\"use cache\"` is\n * not allowed.\n */\nexport function makeErroringSearchParamsForUseCache(\n  workStore: WorkStore\n): Promise<SearchParams> {\n  const cachedSearchParams = CachedSearchParamsForUseCache.get(workStore)\n  if (cachedSearchParams) {\n    return cachedSearchParams\n  }\n\n  const promise = Promise.resolve({})\n\n  const proxiedPromise = new Proxy(promise, {\n    get: function get(target, prop, receiver) {\n      if (Object.hasOwn(promise, prop)) {\n        // The promise has this property directly. we must return it. We know it\n        // isn't a dynamic access because it can only be something that was\n        // previously written to the promise and thus not an underlying\n        // searchParam value\n        return ReflectAdapter.get(target, prop, receiver)\n      }\n\n      if (\n        typeof prop === 'string' &&\n        (prop === 'then' || !wellKnownProperties.has(prop))\n      ) {\n        throwForSearchParamsAccessInUseCache(workStore, get)\n      }\n\n      return ReflectAdapter.get(target, prop, receiver)\n    },\n    has: function has(target, prop) {\n      // We don't expect key checking to be used except for testing the existence of\n      // searchParams so we make all has tests throw an error. this means that `promise.then`\n      // can resolve to the then function on the Promise prototype but 'then' in promise will assume\n      // you are testing whether the searchParams has a 'then' property.\n      if (\n        typeof prop === 'string' &&\n        (prop === 'then' || !wellKnownProperties.has(prop))\n      ) {\n        throwForSearchParamsAccessInUseCache(workStore, has)\n      }\n\n      return ReflectAdapter.has(target, prop)\n    },\n    ownKeys: function ownKeys() {\n      throwForSearchParamsAccessInUseCache(workStore, ownKeys)\n    },\n  })\n\n  CachedSearchParamsForUseCache.set(workStore, proxiedPromise)\n  return proxiedPromise\n}\n\nfunction makeUntrackedExoticSearchParams(\n  underlyingSearchParams: SearchParams\n): Promise<SearchParams> {\n  const cachedSearchParams = CachedSearchParams.get(underlyingSearchParams)\n  if (cachedSearchParams) {\n    return cachedSearchParams\n  }\n\n  // We don't use makeResolvedReactPromise here because searchParams\n  // supports copying with spread and we don't want to unnecessarily\n  // instrument the promise with spreadable properties of ReactPromise.\n  const promise = Promise.resolve(underlyingSearchParams)\n  CachedSearchParams.set(underlyingSearchParams, promise)\n\n  Object.keys(underlyingSearchParams).forEach((prop) => {\n    if (!wellKnownProperties.has(prop)) {\n      Object.defineProperty(promise, prop, {\n        get() {\n          const workUnitStore = workUnitAsyncStorage.getStore()\n          if (workUnitStore) {\n            trackDynamicDataInDynamicRender(workUnitStore)\n          }\n          return underlyingSearchParams[prop]\n        },\n        set(value) {\n          Object.defineProperty(promise, prop, {\n            value,\n            writable: true,\n            enumerable: true,\n          })\n        },\n        enumerable: true,\n        configurable: true,\n      })\n    }\n  })\n\n  return promise\n}\n\nfunction makeUntrackedSearchParams(\n  underlyingSearchParams: SearchParams\n): Promise<SearchParams> {\n  const cachedSearchParams = CachedSearchParams.get(underlyingSearchParams)\n  if (cachedSearchParams) {\n    return cachedSearchParams\n  }\n\n  const promise = Promise.resolve(underlyingSearchParams)\n  CachedSearchParams.set(underlyingSearchParams, promise)\n\n  return promise\n}\n\nfunction makeDynamicallyTrackedExoticSearchParamsWithDevWarnings(\n  underlyingSearchParams: SearchParams,\n  store: WorkStore\n): Promise<SearchParams> {\n  const cachedSearchParams = CachedSearchParams.get(underlyingSearchParams)\n  if (cachedSearchParams) {\n    return cachedSearchParams\n  }\n\n  const proxiedProperties = new Set<string>()\n  const unproxiedProperties: Array<string> = []\n\n  // We have an unfortunate sequence of events that requires this initialization logic. We want to instrument the underlying\n  // searchParams object to detect if you are accessing values in dev. This is used for warnings and for things like the static prerender\n  // indicator. However when we pass this proxy to our Promise.resolve() below the VM checks if the resolved value is a promise by looking\n  // at the `.then` property. To our dynamic tracking logic this is indistinguishable from a `then` searchParam and so we would normally trigger\n  // dynamic tracking. However we know that this .then is not real dynamic access, it's just how thenables resolve in sequence. So we introduce\n  // this initialization concept so we omit the dynamic check until after we've constructed our resolved promise.\n  let promiseInitialized = false\n  const proxiedUnderlying = new Proxy(underlyingSearchParams, {\n    get(target, prop, receiver) {\n      if (typeof prop === 'string' && promiseInitialized) {\n        if (store.dynamicShouldError) {\n          const expression = describeStringPropertyAccess('searchParams', prop)\n          throwWithStaticGenerationBailoutErrorWithDynamicError(\n            store.route,\n            expression\n          )\n        }\n        const workUnitStore = workUnitAsyncStorage.getStore()\n        if (workUnitStore) {\n          trackDynamicDataInDynamicRender(workUnitStore)\n        }\n      }\n      return ReflectAdapter.get(target, prop, receiver)\n    },\n    has(target, prop) {\n      if (typeof prop === 'string') {\n        if (store.dynamicShouldError) {\n          const expression = describeHasCheckingStringProperty(\n            'searchParams',\n            prop\n          )\n          throwWithStaticGenerationBailoutErrorWithDynamicError(\n            store.route,\n            expression\n          )\n        }\n      }\n      return Reflect.has(target, prop)\n    },\n    ownKeys(target) {\n      if (store.dynamicShouldError) {\n        const expression =\n          '`{...searchParams}`, `Object.keys(searchParams)`, or similar'\n        throwWithStaticGenerationBailoutErrorWithDynamicError(\n          store.route,\n          expression\n        )\n      }\n      return Reflect.ownKeys(target)\n    },\n  })\n\n  // We don't use makeResolvedReactPromise here because searchParams\n  // supports copying with spread and we don't want to unnecessarily\n  // instrument the promise with spreadable properties of ReactPromise.\n  const promise = makeDevtoolsIOAwarePromise(underlyingSearchParams)\n  promise.then(() => {\n    promiseInitialized = true\n  })\n\n  Object.keys(underlyingSearchParams).forEach((prop) => {\n    if (wellKnownProperties.has(prop)) {\n      // These properties cannot be shadowed because they need to be the\n      // true underlying value for Promises to work correctly at runtime\n      unproxiedProperties.push(prop)\n    } else {\n      proxiedProperties.add(prop)\n      Object.defineProperty(promise, prop, {\n        get() {\n          return proxiedUnderlying[prop]\n        },\n        set(newValue) {\n          Object.defineProperty(promise, prop, {\n            value: newValue,\n            writable: true,\n            enumerable: true,\n          })\n        },\n        enumerable: true,\n        configurable: true,\n      })\n    }\n  })\n\n  const proxiedPromise = new Proxy(promise, {\n    get(target, prop, receiver) {\n      if (prop === 'then' && store.dynamicShouldError) {\n        const expression = '`searchParams.then`'\n        throwWithStaticGenerationBailoutErrorWithDynamicError(\n          store.route,\n          expression\n        )\n      }\n      if (typeof prop === 'string') {\n        if (\n          !wellKnownProperties.has(prop) &&\n          (proxiedProperties.has(prop) ||\n            // We are accessing a property that doesn't exist on the promise nor\n            // the underlying searchParams.\n            Reflect.has(target, prop) === false)\n        ) {\n          const expression = describeStringPropertyAccess('searchParams', prop)\n          syncIODev(store.route, expression)\n        }\n      }\n      return ReflectAdapter.get(target, prop, receiver)\n    },\n    set(target, prop, value, receiver) {\n      if (typeof prop === 'string') {\n        proxiedProperties.delete(prop)\n      }\n      return Reflect.set(target, prop, value, receiver)\n    },\n    has(target, prop) {\n      if (typeof prop === 'string') {\n        if (\n          !wellKnownProperties.has(prop) &&\n          (proxiedProperties.has(prop) ||\n            // We are accessing a property that doesn't exist on the promise nor\n            // the underlying searchParams.\n            Reflect.has(target, prop) === false)\n        ) {\n          const expression = describeHasCheckingStringProperty(\n            'searchParams',\n            prop\n          )\n          syncIODev(store.route, expression)\n        }\n      }\n      return Reflect.has(target, prop)\n    },\n    ownKeys(target) {\n      const expression = '`Object.keys(searchParams)` or similar'\n      syncIODev(store.route, expression, unproxiedProperties)\n      return Reflect.ownKeys(target)\n    },\n  })\n\n  CachedSearchParams.set(underlyingSearchParams, proxiedPromise)\n  return proxiedPromise\n}\n\n// Similar to `makeDynamicallyTrackedExoticSearchParamsWithDevWarnings`, but\n// just logging the sync access without actually defining the search params on\n// the promise.\nfunction makeUntrackedSearchParamsWithDevWarnings(\n  underlyingSearchParams: SearchParams,\n  store: WorkStore\n): Promise<SearchParams> {\n  const cachedSearchParams = CachedSearchParams.get(underlyingSearchParams)\n  if (cachedSearchParams) {\n    return cachedSearchParams\n  }\n\n  const proxiedProperties = new Set<string>()\n  const unproxiedProperties: Array<string> = []\n  const promise = makeDevtoolsIOAwarePromise(underlyingSearchParams)\n\n  Object.keys(underlyingSearchParams).forEach((prop) => {\n    if (wellKnownProperties.has(prop)) {\n      // These properties cannot be shadowed because they need to be the\n      // true underlying value for Promises to work correctly at runtime\n      unproxiedProperties.push(prop)\n    } else {\n      proxiedProperties.add(prop)\n    }\n  })\n\n  const proxiedPromise = new Proxy(promise, {\n    get(target, prop, receiver) {\n      if (typeof prop === 'string') {\n        if (\n          !wellKnownProperties.has(prop) &&\n          (proxiedProperties.has(prop) ||\n            // We are accessing a property that doesn't exist on the promise nor\n            // the underlying searchParams.\n            Reflect.has(target, prop) === false)\n        ) {\n          const expression = describeStringPropertyAccess('searchParams', prop)\n          warnForSyncAccess(store.route, expression)\n        }\n      }\n      return ReflectAdapter.get(target, prop, receiver)\n    },\n    set(target, prop, value, receiver) {\n      if (typeof prop === 'string') {\n        proxiedProperties.delete(prop)\n      }\n      return Reflect.set(target, prop, value, receiver)\n    },\n    has(target, prop) {\n      if (typeof prop === 'string') {\n        if (\n          !wellKnownProperties.has(prop) &&\n          (proxiedProperties.has(prop) ||\n            // We are accessing a property that doesn't exist on the promise nor\n            // the underlying searchParams.\n            Reflect.has(target, prop) === false)\n        ) {\n          const expression = describeHasCheckingStringProperty(\n            'searchParams',\n            prop\n          )\n          warnForSyncAccess(store.route, expression)\n        }\n      }\n      return Reflect.has(target, prop)\n    },\n    ownKeys(target) {\n      const expression = '`Object.keys(searchParams)` or similar'\n      warnForIncompleteEnumeration(store.route, expression, unproxiedProperties)\n      return Reflect.ownKeys(target)\n    },\n  })\n\n  CachedSearchParams.set(underlyingSearchParams, proxiedPromise)\n  return proxiedPromise\n}\n\nfunction syncIODev(\n  route: string | undefined,\n  expression: string,\n  missingProperties?: Array<string>\n) {\n  // In all cases we warn normally\n  if (missingProperties && missingProperties.length > 0) {\n    warnForIncompleteEnumeration(route, expression, missingProperties)\n  } else {\n    warnForSyncAccess(route, expression)\n  }\n\n  const workUnitStore = workUnitAsyncStorage.getStore()\n  if (workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'request':\n        if (workUnitStore.prerenderPhase === true) {\n          // When we're rendering dynamically in dev, we need to advance out of\n          // the Prerender environment when we read Request data synchronously.\n          trackSynchronousRequestDataAccessInDev(workUnitStore)\n        }\n        break\n      case 'prerender':\n      case 'prerender-client':\n      case 'prerender-runtime':\n      case 'prerender-ppr':\n      case 'prerender-legacy':\n      case 'cache':\n      case 'private-cache':\n      case 'unstable-cache':\n        break\n      default:\n        workUnitStore satisfies never\n    }\n  }\n}\n\nconst warnForSyncAccess = createDedupedByCallsiteServerErrorLoggerDev(\n  createSearchAccessError\n)\n\nconst warnForIncompleteEnumeration =\n  createDedupedByCallsiteServerErrorLoggerDev(createIncompleteEnumerationError)\n\nfunction createSearchAccessError(\n  route: string | undefined,\n  expression: string\n) {\n  const prefix = route ? `Route \"${route}\" ` : 'This route '\n  return new Error(\n    `${prefix}used ${expression}. ` +\n      `\\`searchParams\\` should be awaited before using its properties. ` +\n      `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`\n  )\n}\n\nfunction createIncompleteEnumerationError(\n  route: string | undefined,\n  expression: string,\n  missingProperties: Array<string>\n) {\n  const prefix = route ? `Route \"${route}\" ` : 'This route '\n  return new Error(\n    `${prefix}used ${expression}. ` +\n      `\\`searchParams\\` should be awaited before using its properties. ` +\n      `The following properties were not available through enumeration ` +\n      `because they conflict with builtin or well-known property names: ` +\n      `${describeListOfPropertyNames(missingProperties)}. ` +\n      `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`\n  )\n}\n\nfunction describeListOfPropertyNames(properties: Array<string>) {\n  switch (properties.length) {\n    case 0:\n      throw new InvariantError(\n        'Expected describeListOfPropertyNames to be called with a non-empty list of strings.'\n      )\n    case 1:\n      return `\\`${properties[0]}\\``\n    case 2:\n      return `\\`${properties[0]}\\` and \\`${properties[1]}\\``\n    default: {\n      let description = ''\n      for (let i = 0; i < properties.length - 1; i++) {\n        description += `\\`${properties[i]}\\`, `\n      }\n      description += `, and \\`${properties[properties.length - 1]}\\``\n      return description\n    }\n  }\n}\n"],"names":["createPrerenderSearchParamsForClientPage","createSearchParamsFromClient","createServerSearchParamsForMetadata","createServerSearchParamsForServerPage","makeErroringSearchParamsForUseCache","underlyingSearchParams","workStore","workUnitStore","workUnitAsyncStorage","getStore","type","createStaticPrerenderSearchParams","InvariantError","createRenderSearchParams","throwInvariantForMissingStore","createRuntimePrerenderSearchParams","forceStatic","Promise","resolve","makeHangingPromise","renderSignal","route","prerenderStore","makeHangingSearchParams","makeErroringExoticSearchParams","delayUntilRuntimeStage","process","env","__NEXT_CACHE_COMPONENTS","makeUntrackedSearchParams","makeUntrackedExoticSearchParams","NODE_ENV","makeUntrackedSearchParamsWithDevWarnings","makeDynamicallyTrackedExoticSearchParamsWithDevWarnings","CachedSearchParams","WeakMap","CachedSearchParamsForUseCache","cachedSearchParams","get","promise","proxiedPromise","Proxy","target","prop","receiver","Object","hasOwn","ReflectAdapter","expression","annotateDynamicAccess","set","dynamicShouldError","throwWithStaticGenerationBailoutErrorWithDynamicError","postponeWithTracking","dynamicTracking","throwToInterruptStaticGeneration","wellKnownProperties","has","describeStringPropertyAccess","describeHasCheckingStringProperty","ownKeys","throwForSearchParamsAccessInUseCache","keys","forEach","defineProperty","trackDynamicDataInDynamicRender","value","writable","enumerable","configurable","store","proxiedProperties","Set","unproxiedProperties","promiseInitialized","proxiedUnderlying","Reflect","makeDevtoolsIOAwarePromise","then","push","add","newValue","syncIODev","delete","warnForSyncAccess","warnForIncompleteEnumeration","missingProperties","length","prerenderPhase","trackSynchronousRequestDataAccessInDev","createDedupedByCallsiteServerErrorLoggerDev","createSearchAccessError","createIncompleteEnumerationError","prefix","Error","describeListOfPropertyNames","properties","description","i"],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 5527, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Guille/Documents/Arquetype/node_modules/next/src/server/app-render/dynamic-access-async-storage-instance.ts"],"sourcesContent":["import { createAsyncLocalStorage } from './async-local-storage'\nimport type { DynamicAccessStorage } from './dynamic-access-async-storage.external'\n\nexport const dynamicAccessAsyncStorageInstance: DynamicAccessStorage =\n  createAsyncLocalStorage()\n"],"names":["dynamicAccessAsyncStorageInstance","createAsyncLocalStorage"],"mappings":";;;+BAGaA,qCAAAA;;;eAAAA;;;mCAH2B;AAGjC,MAAMA,oCACXC,CAAAA,GAAAA,mBAAAA,uBAAuB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 5542, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Guille/Documents/Arquetype/node_modules/next/src/server/app-render/dynamic-access-async-storage.external.ts"],"sourcesContent":["import type { AsyncLocalStorage } from 'async_hooks'\n\n// Share the instance module in the next-shared layer\nimport { dynamicAccessAsyncStorageInstance } from './dynamic-access-async-storage-instance' with { 'turbopack-transition': 'next-shared' }\n\nexport interface DynamicAccessAsyncStore {\n  readonly abortController: AbortController\n}\n\nexport type DynamicAccessStorage = AsyncLocalStorage<DynamicAccessAsyncStore>\nexport { dynamicAccessAsyncStorageInstance as dynamicAccessAsyncStorage }\n"],"names":["dynamicAccessAsyncStorage","dynamicAccessAsyncStorageInstance"],"mappings":";;;+BAU8CA,6BAAAA;;;eAArCC,mCAAAA,iCAAiC;;;mDAPQ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 5556, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Guille/Documents/Arquetype/node_modules/next/src/server/request/params.ts"],"sourcesContent":["import {\n  workAsyncStorage,\n  type WorkStore,\n} from '../app-render/work-async-storage.external'\nimport type { FallbackRouteParams } from './fallback-params'\n\nimport { ReflectAdapter } from '../web/spec-extension/adapters/reflect'\nimport {\n  throwToInterruptStaticGeneration,\n  postponeWithTracking,\n  trackSynchronousRequestDataAccessInDev,\n  delayUntilRuntimeStage,\n} from '../app-render/dynamic-rendering'\n\nimport {\n  workUnitAsyncStorage,\n  type PrerenderStorePPR,\n  type PrerenderStoreLegacy,\n  type StaticPrerenderStoreModern,\n  type StaticPrerenderStore,\n  throwInvariantForMissingStore,\n  type PrerenderStoreModernRuntime,\n} from '../app-render/work-unit-async-storage.external'\nimport { InvariantError } from '../../shared/lib/invariant-error'\nimport {\n  describeStringPropertyAccess,\n  wellKnownProperties,\n} from '../../shared/lib/utils/reflect-utils'\nimport {\n  makeDevtoolsIOAwarePromise,\n  makeHangingPromise,\n} from '../dynamic-rendering-utils'\nimport { createDedupedByCallsiteServerErrorLoggerDev } from '../create-deduped-by-callsite-server-error-logger'\nimport { dynamicAccessAsyncStorage } from '../app-render/dynamic-access-async-storage.external'\n\nexport type ParamValue = string | Array<string> | undefined\nexport type Params = Record<string, ParamValue>\n\n/**\n * In this version of Next.js the `params` prop passed to Layouts, Pages, and other Segments is a Promise.\n * However to facilitate migration to this new Promise type you can currently still access params directly on the Promise instance passed to these Segments.\n * The `UnsafeUnwrappedParams` type is available if you need to temporarily access the underlying params without first awaiting or `use`ing the Promise.\n *\n * In a future version of Next.js the `params` prop will be a plain Promise and this type will be removed.\n *\n * Typically instances of `params` can be updated automatically to be treated as a Promise by a codemod published alongside this Next.js version however if you\n * have not yet run the codemod of the codemod cannot detect certain instances of `params` usage you should first try to refactor your code to await `params`.\n *\n * If refactoring is not possible but you still want to be able to access params directly without typescript errors you can cast the params Promise to this type\n *\n * ```tsx\n * type Props = { params: Promise<{ id: string }>}\n *\n * export default async function Layout(props: Props) {\n *  const directParams = (props.params as unknown as UnsafeUnwrappedParams<typeof props.params>)\n *  return ...\n * }\n * ```\n *\n * This type is marked deprecated to help identify it as target for refactoring away.\n *\n * @deprecated\n */\nexport type UnsafeUnwrappedParams<P> =\n  P extends Promise<infer U> ? Omit<U, 'then' | 'status' | 'value'> : never\n\nexport function createParamsFromClient(\n  underlyingParams: Params,\n  workStore: WorkStore\n): Promise<Params> {\n  const workUnitStore = workUnitAsyncStorage.getStore()\n  if (workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'prerender':\n      case 'prerender-client':\n      case 'prerender-ppr':\n      case 'prerender-legacy':\n        return createStaticPrerenderParams(\n          underlyingParams,\n          workStore,\n          workUnitStore\n        )\n      case 'cache':\n      case 'private-cache':\n      case 'unstable-cache':\n        throw new InvariantError(\n          'createParamsFromClient should not be called in cache contexts.'\n        )\n      case 'prerender-runtime':\n        throw new InvariantError(\n          'createParamsFromClient should not be called in a runtime prerender.'\n        )\n      case 'request':\n        if (process.env.NODE_ENV === 'development') {\n          // Semantically we only need the dev tracking when running in `next dev`\n          // but since you would never use next dev with production NODE_ENV we use this\n          // as a proxy so we can statically exclude this code from production builds.\n          const devFallbackParams = workUnitStore.devFallbackParams\n          return createRenderParamsInDev(\n            underlyingParams,\n            devFallbackParams,\n            workStore\n          )\n        } else {\n          return createRenderParamsInProd(underlyingParams)\n        }\n      default:\n        workUnitStore satisfies never\n    }\n  }\n  throwInvariantForMissingStore()\n}\n\n// generateMetadata always runs in RSC context so it is equivalent to a Server Page Component\nexport type CreateServerParamsForMetadata = typeof createServerParamsForMetadata\nexport const createServerParamsForMetadata = createServerParamsForServerSegment\n\n// routes always runs in RSC context so it is equivalent to a Server Page Component\nexport function createServerParamsForRoute(\n  underlyingParams: Params,\n  workStore: WorkStore\n): Promise<Params> {\n  const workUnitStore = workUnitAsyncStorage.getStore()\n  if (workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'prerender':\n      case 'prerender-client':\n      case 'prerender-ppr':\n      case 'prerender-legacy':\n        return createStaticPrerenderParams(\n          underlyingParams,\n          workStore,\n          workUnitStore\n        )\n      case 'cache':\n      case 'private-cache':\n      case 'unstable-cache':\n        throw new InvariantError(\n          'createServerParamsForRoute should not be called in cache contexts.'\n        )\n      case 'prerender-runtime':\n        return createRuntimePrerenderParams(underlyingParams, workUnitStore)\n      case 'request':\n        if (process.env.NODE_ENV === 'development') {\n          // Semantically we only need the dev tracking when running in `next dev`\n          // but since you would never use next dev with production NODE_ENV we use this\n          // as a proxy so we can statically exclude this code from production builds.\n          const devFallbackParams = workUnitStore.devFallbackParams\n          return createRenderParamsInDev(\n            underlyingParams,\n            devFallbackParams,\n            workStore\n          )\n        } else {\n          return createRenderParamsInProd(underlyingParams)\n        }\n      default:\n        workUnitStore satisfies never\n    }\n  }\n  throwInvariantForMissingStore()\n}\n\nexport function createServerParamsForServerSegment(\n  underlyingParams: Params,\n  workStore: WorkStore\n): Promise<Params> {\n  const workUnitStore = workUnitAsyncStorage.getStore()\n  if (workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'prerender':\n      case 'prerender-client':\n      case 'prerender-ppr':\n      case 'prerender-legacy':\n        return createStaticPrerenderParams(\n          underlyingParams,\n          workStore,\n          workUnitStore\n        )\n      case 'cache':\n      case 'private-cache':\n      case 'unstable-cache':\n        throw new InvariantError(\n          'createServerParamsForServerSegment should not be called in cache contexts.'\n        )\n      case 'prerender-runtime':\n        return createRuntimePrerenderParams(underlyingParams, workUnitStore)\n      case 'request':\n        if (process.env.NODE_ENV === 'development') {\n          // Semantically we only need the dev tracking when running in `next dev`\n          // but since you would never use next dev with production NODE_ENV we use this\n          // as a proxy so we can statically exclude this code from production builds.\n          const devFallbackParams = workUnitStore.devFallbackParams\n          return createRenderParamsInDev(\n            underlyingParams,\n            devFallbackParams,\n            workStore\n          )\n        } else {\n          return createRenderParamsInProd(underlyingParams)\n        }\n      default:\n        workUnitStore satisfies never\n    }\n  }\n  throwInvariantForMissingStore()\n}\n\nexport function createPrerenderParamsForClientSegment(\n  underlyingParams: Params\n): Promise<Params> {\n  const workStore = workAsyncStorage.getStore()\n  if (!workStore) {\n    throw new InvariantError(\n      'Missing workStore in createPrerenderParamsForClientSegment'\n    )\n  }\n\n  const workUnitStore = workUnitAsyncStorage.getStore()\n  if (workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'prerender':\n      case 'prerender-client':\n        const fallbackParams = workUnitStore.fallbackRouteParams\n        if (fallbackParams) {\n          for (let key in underlyingParams) {\n            if (fallbackParams.has(key)) {\n              // This params object has one or more fallback params, so we need\n              // to consider the awaiting of this params object \"dynamic\". Since\n              // we are in cacheComponents mode we encode this as a promise that never\n              // resolves.\n              return makeHangingPromise(\n                workUnitStore.renderSignal,\n                workStore.route,\n                '`params`'\n              )\n            }\n          }\n        }\n        break\n      case 'cache':\n      case 'private-cache':\n      case 'unstable-cache':\n        throw new InvariantError(\n          'createPrerenderParamsForClientSegment should not be called in cache contexts.'\n        )\n      case 'prerender-ppr':\n      case 'prerender-legacy':\n      case 'prerender-runtime':\n      case 'request':\n        break\n      default:\n        workUnitStore satisfies never\n    }\n  }\n  // We're prerendering in a mode that does not abort. We resolve the promise without\n  // any tracking because we're just transporting a value from server to client where the tracking\n  // will be applied.\n  return Promise.resolve(underlyingParams)\n}\n\nfunction createStaticPrerenderParams(\n  underlyingParams: Params,\n  workStore: WorkStore,\n  prerenderStore: StaticPrerenderStore\n): Promise<Params> {\n  switch (prerenderStore.type) {\n    case 'prerender':\n    case 'prerender-client': {\n      const fallbackParams = prerenderStore.fallbackRouteParams\n      if (fallbackParams) {\n        for (const key in underlyingParams) {\n          if (fallbackParams.has(key)) {\n            // This params object has one or more fallback params, so we need\n            // to consider the awaiting of this params object \"dynamic\". Since\n            // we are in cacheComponents mode we encode this as a promise that never\n            // resolves.\n            return makeHangingParams(\n              underlyingParams,\n              workStore,\n              prerenderStore\n            )\n          }\n        }\n      }\n      break\n    }\n    case 'prerender-ppr': {\n      const fallbackParams = prerenderStore.fallbackRouteParams\n      if (fallbackParams) {\n        for (const key in underlyingParams) {\n          if (fallbackParams.has(key)) {\n            return makeErroringExoticParams(\n              underlyingParams,\n              fallbackParams,\n              workStore,\n              prerenderStore\n            )\n          }\n        }\n      }\n      break\n    }\n    case 'prerender-legacy':\n      break\n    default:\n      prerenderStore satisfies never\n  }\n\n  if (process.env.__NEXT_CACHE_COMPONENTS) {\n    return makeUntrackedParams(underlyingParams)\n  } else {\n    return makeUntrackedExoticParams(underlyingParams)\n  }\n}\n\nfunction createRuntimePrerenderParams(\n  underlyingParams: Params,\n  workUnitStore: PrerenderStoreModernRuntime\n): Promise<Params> {\n  return delayUntilRuntimeStage(\n    workUnitStore,\n    process.env.__NEXT_CACHE_COMPONENTS\n      ? makeUntrackedParams(underlyingParams)\n      : makeUntrackedExoticParams(underlyingParams)\n  )\n}\n\nfunction createRenderParamsInProd(underlyingParams: Params): Promise<Params> {\n  if (process.env.__NEXT_CACHE_COMPONENTS) {\n    return makeUntrackedParams(underlyingParams)\n  }\n\n  return makeUntrackedExoticParams(underlyingParams)\n}\n\nfunction createRenderParamsInDev(\n  underlyingParams: Params,\n  devFallbackParams: FallbackRouteParams | null | undefined,\n  workStore: WorkStore\n): Promise<Params> {\n  let hasFallbackParams = false\n  if (devFallbackParams) {\n    for (let key in underlyingParams) {\n      if (devFallbackParams.has(key)) {\n        hasFallbackParams = true\n        break\n      }\n    }\n  }\n  if (process.env.__NEXT_CACHE_COMPONENTS) {\n    return makeDynamicallyTrackedParamsWithDevWarnings(\n      underlyingParams,\n      hasFallbackParams,\n      workStore\n    )\n  }\n\n  return makeDynamicallyTrackedExoticParamsWithDevWarnings(\n    underlyingParams,\n    hasFallbackParams,\n    workStore\n  )\n}\n\ninterface CacheLifetime {}\nconst CachedParams = new WeakMap<CacheLifetime, Promise<Params>>()\n\nconst fallbackParamsProxyHandler: ProxyHandler<Promise<Params>> = {\n  get: function get(target, prop, receiver) {\n    if (prop === 'then' || prop === 'catch' || prop === 'finally') {\n      const originalMethod = ReflectAdapter.get(target, prop, receiver)\n\n      return {\n        [prop]: (...args: unknown[]) => {\n          const store = dynamicAccessAsyncStorage.getStore()\n\n          if (store) {\n            store.abortController.abort(\n              new Error(`Accessed fallback \\`params\\` during prerendering.`)\n            )\n          }\n\n          return new Proxy(\n            originalMethod.apply(target, args),\n            fallbackParamsProxyHandler\n          )\n        },\n      }[prop]\n    }\n\n    return ReflectAdapter.get(target, prop, receiver)\n  },\n}\n\nfunction makeHangingParams(\n  underlyingParams: Params,\n  workStore: WorkStore,\n  prerenderStore: StaticPrerenderStoreModern\n): Promise<Params> {\n  const cachedParams = CachedParams.get(underlyingParams)\n  if (cachedParams) {\n    return cachedParams\n  }\n\n  const promise = new Proxy(\n    makeHangingPromise<Params>(\n      prerenderStore.renderSignal,\n      workStore.route,\n      '`params`'\n    ),\n    fallbackParamsProxyHandler\n  )\n\n  CachedParams.set(underlyingParams, promise)\n\n  return promise\n}\n\nfunction makeErroringExoticParams(\n  underlyingParams: Params,\n  fallbackParams: FallbackRouteParams,\n  workStore: WorkStore,\n  prerenderStore: PrerenderStorePPR | PrerenderStoreLegacy\n): Promise<Params> {\n  const cachedParams = CachedParams.get(underlyingParams)\n  if (cachedParams) {\n    return cachedParams\n  }\n\n  const augmentedUnderlying = { ...underlyingParams }\n\n  // We don't use makeResolvedReactPromise here because params\n  // supports copying with spread and we don't want to unnecessarily\n  // instrument the promise with spreadable properties of ReactPromise.\n  const promise = Promise.resolve(augmentedUnderlying)\n  CachedParams.set(underlyingParams, promise)\n\n  Object.keys(underlyingParams).forEach((prop) => {\n    if (wellKnownProperties.has(prop)) {\n      // These properties cannot be shadowed because they need to be the\n      // true underlying value for Promises to work correctly at runtime\n    } else {\n      if (fallbackParams.has(prop)) {\n        Object.defineProperty(augmentedUnderlying, prop, {\n          get() {\n            const expression = describeStringPropertyAccess('params', prop)\n            // In most dynamic APIs we also throw if `dynamic = \"error\"` however\n            // for params is only dynamic when we're generating a fallback shell\n            // and even when `dynamic = \"error\"` we still support generating dynamic\n            // fallback shells\n            // TODO remove this comment when cacheComponents is the default since there\n            // will be no `dynamic = \"error\"`\n            if (prerenderStore.type === 'prerender-ppr') {\n              // PPR Prerender (no cacheComponents)\n              postponeWithTracking(\n                workStore.route,\n                expression,\n                prerenderStore.dynamicTracking\n              )\n            } else {\n              // Legacy Prerender\n              throwToInterruptStaticGeneration(\n                expression,\n                workStore,\n                prerenderStore\n              )\n            }\n          },\n          enumerable: true,\n        })\n        Object.defineProperty(promise, prop, {\n          get() {\n            const expression = describeStringPropertyAccess('params', prop)\n            // In most dynamic APIs we also throw if `dynamic = \"error\"` however\n            // for params is only dynamic when we're generating a fallback shell\n            // and even when `dynamic = \"error\"` we still support generating dynamic\n            // fallback shells\n            // TODO remove this comment when cacheComponents is the default since there\n            // will be no `dynamic = \"error\"`\n            if (prerenderStore.type === 'prerender-ppr') {\n              // PPR Prerender (no cacheComponents)\n              postponeWithTracking(\n                workStore.route,\n                expression,\n                prerenderStore.dynamicTracking\n              )\n            } else {\n              // Legacy Prerender\n              throwToInterruptStaticGeneration(\n                expression,\n                workStore,\n                prerenderStore\n              )\n            }\n          },\n          set(newValue) {\n            Object.defineProperty(promise, prop, {\n              value: newValue,\n              writable: true,\n              enumerable: true,\n            })\n          },\n          enumerable: true,\n          configurable: true,\n        })\n      } else {\n        ;(promise as any)[prop] = underlyingParams[prop]\n      }\n    }\n  })\n\n  return promise\n}\n\nfunction makeUntrackedExoticParams(underlyingParams: Params): Promise<Params> {\n  const cachedParams = CachedParams.get(underlyingParams)\n  if (cachedParams) {\n    return cachedParams\n  }\n\n  // We don't use makeResolvedReactPromise here because params\n  // supports copying with spread and we don't want to unnecessarily\n  // instrument the promise with spreadable properties of ReactPromise.\n  const promise = Promise.resolve(underlyingParams)\n  CachedParams.set(underlyingParams, promise)\n\n  Object.keys(underlyingParams).forEach((prop) => {\n    if (wellKnownProperties.has(prop)) {\n      // These properties cannot be shadowed because they need to be the\n      // true underlying value for Promises to work correctly at runtime\n    } else {\n      ;(promise as any)[prop] = underlyingParams[prop]\n    }\n  })\n\n  return promise\n}\n\nfunction makeUntrackedParams(underlyingParams: Params): Promise<Params> {\n  const cachedParams = CachedParams.get(underlyingParams)\n  if (cachedParams) {\n    return cachedParams\n  }\n\n  const promise = Promise.resolve(underlyingParams)\n  CachedParams.set(underlyingParams, promise)\n\n  return promise\n}\n\nfunction makeDynamicallyTrackedExoticParamsWithDevWarnings(\n  underlyingParams: Params,\n  hasFallbackParams: boolean,\n  store: WorkStore\n): Promise<Params> {\n  const cachedParams = CachedParams.get(underlyingParams)\n  if (cachedParams) {\n    return cachedParams\n  }\n\n  // We don't use makeResolvedReactPromise here because params\n  // supports copying with spread and we don't want to unnecessarily\n  // instrument the promise with spreadable properties of ReactPromise.\n  const promise = hasFallbackParams\n    ? makeDevtoolsIOAwarePromise(underlyingParams)\n    : // We don't want to force an environment transition when this params is not part of the fallback params set\n      Promise.resolve(underlyingParams)\n\n  const proxiedProperties = new Set<string>()\n  const unproxiedProperties: Array<string> = []\n\n  Object.keys(underlyingParams).forEach((prop) => {\n    if (wellKnownProperties.has(prop)) {\n      // These properties cannot be shadowed because they need to be the\n      // true underlying value for Promises to work correctly at runtime\n      unproxiedProperties.push(prop)\n    } else {\n      proxiedProperties.add(prop)\n      ;(promise as any)[prop] = underlyingParams[prop]\n    }\n  })\n\n  const proxiedPromise = new Proxy(promise, {\n    get(target, prop, receiver) {\n      if (typeof prop === 'string') {\n        if (\n          // We are accessing a property that was proxied to the promise instance\n          proxiedProperties.has(prop)\n        ) {\n          const expression = describeStringPropertyAccess('params', prop)\n          syncIODev(store.route, expression)\n        }\n      }\n      return ReflectAdapter.get(target, prop, receiver)\n    },\n    set(target, prop, value, receiver) {\n      if (typeof prop === 'string') {\n        proxiedProperties.delete(prop)\n      }\n      return ReflectAdapter.set(target, prop, value, receiver)\n    },\n    ownKeys(target) {\n      const expression = '`...params` or similar expression'\n      syncIODev(store.route, expression, unproxiedProperties)\n      return Reflect.ownKeys(target)\n    },\n  })\n\n  CachedParams.set(underlyingParams, proxiedPromise)\n  return proxiedPromise\n}\n\n// Similar to `makeDynamicallyTrackedExoticParamsWithDevWarnings`, but just\n// logging the sync access without actually defining the params on the promise.\nfunction makeDynamicallyTrackedParamsWithDevWarnings(\n  underlyingParams: Params,\n  hasFallbackParams: boolean,\n  store: WorkStore\n): Promise<Params> {\n  const cachedParams = CachedParams.get(underlyingParams)\n  if (cachedParams) {\n    return cachedParams\n  }\n\n  // We don't use makeResolvedReactPromise here because params\n  // supports copying with spread and we don't want to unnecessarily\n  // instrument the promise with spreadable properties of ReactPromise.\n  const promise = hasFallbackParams\n    ? makeDevtoolsIOAwarePromise(underlyingParams)\n    : // We don't want to force an environment transition when this params is not part of the fallback params set\n      Promise.resolve(underlyingParams)\n\n  const proxiedProperties = new Set<string>()\n  const unproxiedProperties: Array<string> = []\n\n  Object.keys(underlyingParams).forEach((prop) => {\n    if (wellKnownProperties.has(prop)) {\n      // These properties cannot be shadowed because they need to be the\n      // true underlying value for Promises to work correctly at runtime\n      unproxiedProperties.push(prop)\n    } else {\n      proxiedProperties.add(prop)\n    }\n  })\n\n  const proxiedPromise = new Proxy(promise, {\n    get(target, prop, receiver) {\n      if (typeof prop === 'string') {\n        if (\n          // We are accessing a property that was proxied to the promise instance\n          proxiedProperties.has(prop)\n        ) {\n          const expression = describeStringPropertyAccess('params', prop)\n          warnForSyncAccess(store.route, expression)\n        }\n      }\n      return ReflectAdapter.get(target, prop, receiver)\n    },\n    set(target, prop, value, receiver) {\n      if (typeof prop === 'string') {\n        proxiedProperties.delete(prop)\n      }\n      return ReflectAdapter.set(target, prop, value, receiver)\n    },\n    ownKeys(target) {\n      const expression = '`...params` or similar expression'\n      warnForIncompleteEnumeration(store.route, expression, unproxiedProperties)\n      return Reflect.ownKeys(target)\n    },\n  })\n\n  CachedParams.set(underlyingParams, proxiedPromise)\n  return proxiedPromise\n}\n\nfunction syncIODev(\n  route: string | undefined,\n  expression: string,\n  missingProperties?: Array<string>\n) {\n  const workUnitStore = workUnitAsyncStorage.getStore()\n  if (workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'request':\n        if (workUnitStore.prerenderPhase === true) {\n          // When we're rendering dynamically in dev, we need to advance out of\n          // the Prerender environment when we read Request data synchronously.\n          trackSynchronousRequestDataAccessInDev(workUnitStore)\n        }\n        break\n      case 'prerender':\n      case 'prerender-client':\n      case 'prerender-runtime':\n      case 'prerender-ppr':\n      case 'prerender-legacy':\n      case 'cache':\n      case 'private-cache':\n      case 'unstable-cache':\n        break\n      default:\n        workUnitStore satisfies never\n    }\n  }\n  // In all cases we warn normally\n  if (missingProperties && missingProperties.length > 0) {\n    warnForIncompleteEnumeration(route, expression, missingProperties)\n  } else {\n    warnForSyncAccess(route, expression)\n  }\n}\n\nconst warnForSyncAccess = createDedupedByCallsiteServerErrorLoggerDev(\n  createParamsAccessError\n)\n\nconst warnForIncompleteEnumeration =\n  createDedupedByCallsiteServerErrorLoggerDev(createIncompleteEnumerationError)\n\nfunction createParamsAccessError(\n  route: string | undefined,\n  expression: string\n) {\n  const prefix = route ? `Route \"${route}\" ` : 'This route '\n  return new Error(\n    `${prefix}used ${expression}. ` +\n      `\\`params\\` should be awaited before using its properties. ` +\n      `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`\n  )\n}\n\nfunction createIncompleteEnumerationError(\n  route: string | undefined,\n  expression: string,\n  missingProperties: Array<string>\n) {\n  const prefix = route ? `Route \"${route}\" ` : 'This route '\n  return new Error(\n    `${prefix}used ${expression}. ` +\n      `\\`params\\` should be awaited before using its properties. ` +\n      `The following properties were not available through enumeration ` +\n      `because they conflict with builtin property names: ` +\n      `${describeListOfPropertyNames(missingProperties)}. ` +\n      `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`\n  )\n}\n\nfunction describeListOfPropertyNames(properties: Array<string>) {\n  switch (properties.length) {\n    case 0:\n      throw new InvariantError(\n        'Expected describeListOfPropertyNames to be called with a non-empty list of strings.'\n      )\n    case 1:\n      return `\\`${properties[0]}\\``\n    case 2:\n      return `\\`${properties[0]}\\` and \\`${properties[1]}\\``\n    default: {\n      let description = ''\n      for (let i = 0; i < properties.length - 1; i++) {\n        description += `\\`${properties[i]}\\`, `\n      }\n      description += `, and \\`${properties[properties.length - 1]}\\``\n      return description\n    }\n  }\n}\n"],"names":["createParamsFromClient","createPrerenderParamsForClientSegment","createServerParamsForMetadata","createServerParamsForRoute","createServerParamsForServerSegment","underlyingParams","workStore","workUnitStore","workUnitAsyncStorage","getStore","type","createStaticPrerenderParams","InvariantError","process","env","NODE_ENV","devFallbackParams","createRenderParamsInDev","createRenderParamsInProd","throwInvariantForMissingStore","createRuntimePrerenderParams","workAsyncStorage","fallbackParams","fallbackRouteParams","key","has","makeHangingPromise","renderSignal","route","Promise","resolve","prerenderStore","makeHangingParams","makeErroringExoticParams","__NEXT_CACHE_COMPONENTS","makeUntrackedParams","makeUntrackedExoticParams","delayUntilRuntimeStage","hasFallbackParams","makeDynamicallyTrackedParamsWithDevWarnings","makeDynamicallyTrackedExoticParamsWithDevWarnings","CachedParams","WeakMap","fallbackParamsProxyHandler","get","target","prop","receiver","originalMethod","ReflectAdapter","args","store","dynamicAccessAsyncStorage","abortController","abort","Error","Proxy","apply","cachedParams","promise","set","augmentedUnderlying","Object","keys","forEach","wellKnownProperties","defineProperty","expression","describeStringPropertyAccess","postponeWithTracking","dynamicTracking","throwToInterruptStaticGeneration","enumerable","newValue","value","writable","configurable","makeDevtoolsIOAwarePromise","proxiedProperties","Set","unproxiedProperties","push","add","proxiedPromise","syncIODev","delete","ownKeys","Reflect","warnForSyncAccess","warnForIncompleteEnumeration","missingProperties","prerenderPhase","trackSynchronousRequestDataAccessInDev","length","createDedupedByCallsiteServerErrorLoggerDev","createParamsAccessError","createIncompleteEnumerationError","prefix","describeListOfPropertyNames","properties","description","i"],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6126, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Guille/Documents/Arquetype/node_modules/next/src/client/components/client-page.tsx"],"sourcesContent":["'use client'\n\nimport type { ParsedUrlQuery } from 'querystring'\nimport { InvariantError } from '../../shared/lib/invariant-error'\n\nimport type { Params } from '../../server/request/params'\n\n/**\n * When the Page is a client component we send the params and searchParams to this client wrapper\n * where they are turned into dynamically tracked values before being passed to the actual Page component.\n *\n * additionally we may send promises representing the params and searchParams. We don't ever use these passed\n * values but it can be necessary for the sender to send a Promise that doesn't resolve in certain situations.\n * It is up to the caller to decide if the promises are needed.\n */\nexport function ClientPageRoot({\n  Component,\n  searchParams,\n  params,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  promises,\n}: {\n  Component: React.ComponentType<any>\n  searchParams: ParsedUrlQuery\n  params: Params\n  promises?: Array<Promise<any>>\n}) {\n  if (typeof window === 'undefined') {\n    const { workAsyncStorage } =\n      require('../../server/app-render/work-async-storage.external') as typeof import('../../server/app-render/work-async-storage.external')\n\n    let clientSearchParams: Promise<ParsedUrlQuery>\n    let clientParams: Promise<Params>\n    // We are going to instrument the searchParams prop with tracking for the\n    // appropriate context. We wrap differently in prerendering vs rendering\n    const store = workAsyncStorage.getStore()\n    if (!store) {\n      throw new InvariantError(\n        'Expected workStore to exist when handling searchParams in a client Page.'\n      )\n    }\n\n    const { createSearchParamsFromClient } =\n      require('../../server/request/search-params') as typeof import('../../server/request/search-params')\n    clientSearchParams = createSearchParamsFromClient(searchParams, store)\n\n    const { createParamsFromClient } =\n      require('../../server/request/params') as typeof import('../../server/request/params')\n    clientParams = createParamsFromClient(params, store)\n\n    return <Component params={clientParams} searchParams={clientSearchParams} />\n  } else {\n    const { createRenderSearchParamsFromClient } =\n      require('../request/search-params.browser') as typeof import('../request/search-params.browser')\n    const clientSearchParams = createRenderSearchParamsFromClient(searchParams)\n    const { createRenderParamsFromClient } =\n      require('../request/params.browser') as typeof import('../request/params.browser')\n    const clientParams = createRenderParamsFromClient(params)\n\n    return <Component params={clientParams} searchParams={clientSearchParams} />\n  }\n}\n"],"names":["ClientPageRoot","Component","searchParams","params","promises","window","workAsyncStorage","require","clientSearchParams","clientParams","store","getStore","InvariantError","createSearchParamsFromClient","createParamsFromClient","createRenderSearchParamsFromClient","createRenderParamsFromClient"],"mappings":";;;+BAegBA,kBAAAA;;;eAAAA;;;;gCAZe;AAYxB,SAASA,eAAe,KAW9B;IAX8B,IAAA,EAC7BC,SAAS,EACTC,YAAY,EACZC,MAAM,EACN,AACAC,QAAQ,EAMT,GAX8B,gDAIgC;IAQ7D,IAAI,OAAOC,WAAW,aAAa;QACjC,MAAM,EAAEC,gBAAgB,EAAE,GACxBC,QAAQ;QAEV,IAAIC;QACJ,IAAIC;QACJ,yEAAyE;QACzE,wEAAwE;QACxE,MAAMC,QAAQJ,iBAAiBK,QAAQ;QACvC,IAAI,CAACD,OAAO;YACV,MAAM,OAAA,cAEL,CAFK,IAAIE,gBAAAA,cAAc,CACtB,6EADI,qBAAA;uBAAA;4BAAA;8BAAA;YAEN;QACF;QAEA,MAAM,EAAEC,4BAA4B,EAAE,GACpCN,QAAQ;QACVC,qBAAqBK,6BAA6BX,cAAcQ;QAEhE,MAAM,EAAEI,sBAAsB,EAAE,GAC9BP,QAAQ;QACVE,eAAeK,uBAAuBX,QAAQO;QAE9C,OAAA,WAAA,GAAO,CAAA,GAAA,YAAA,GAAA,EAACT,WAAAA;YAAUE,QAAQM;YAAcP,cAAcM;;IACxD,OAAO;QACL,MAAM,EAAEO,kCAAkC,EAAE,GAC1CR,QAAQ;QACV,MAAMC,qBAAqBO,mCAAmCb;QAC9D,MAAM,EAAEc,4BAA4B,EAAE,GACpCT,QAAQ;QACV,MAAME,eAAeO,6BAA6Bb;QAElD,OAAA,WAAA,GAAO,CAAA,GAAA,YAAA,GAAA,EAACF,WAAAA;YAAUE,QAAQM;YAAcP,cAAcM;;IACxD;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6183, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Guille/Documents/Arquetype/node_modules/next/src/client/components/client-segment.tsx"],"sourcesContent":["'use client'\n\nimport { InvariantError } from '../../shared/lib/invariant-error'\n\nimport type { Params } from '../../server/request/params'\n\n/**\n * When the Page is a client component we send the params to this client wrapper\n * where they are turned into dynamically tracked values before being passed to the actual Segment component.\n *\n * additionally we may send a promise representing params. We don't ever use this passed\n * value but it can be necessary for the sender to send a Promise that doesn't resolve in certain situations\n * such as when cacheComponents is enabled. It is up to the caller to decide if the promises are needed.\n */\nexport function ClientSegmentRoot({\n  Component,\n  slots,\n  params,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  promise,\n}: {\n  Component: React.ComponentType<any>\n  slots: { [key: string]: React.ReactNode }\n  params: Params\n  promise?: Promise<any>\n}) {\n  if (typeof window === 'undefined') {\n    const { workAsyncStorage } =\n      require('../../server/app-render/work-async-storage.external') as typeof import('../../server/app-render/work-async-storage.external')\n\n    let clientParams: Promise<Params>\n    // We are going to instrument the searchParams prop with tracking for the\n    // appropriate context. We wrap differently in prerendering vs rendering\n    const store = workAsyncStorage.getStore()\n    if (!store) {\n      throw new InvariantError(\n        'Expected workStore to exist when handling params in a client segment such as a Layout or Template.'\n      )\n    }\n\n    const { createParamsFromClient } =\n      require('../../server/request/params') as typeof import('../../server/request/params')\n    clientParams = createParamsFromClient(params, store)\n\n    return <Component {...slots} params={clientParams} />\n  } else {\n    const { createRenderParamsFromClient } =\n      require('../request/params.browser') as typeof import('../request/params.browser')\n    const clientParams = createRenderParamsFromClient(params)\n    return <Component {...slots} params={clientParams} />\n  }\n}\n"],"names":["ClientSegmentRoot","Component","slots","params","promise","window","workAsyncStorage","require","clientParams","store","getStore","InvariantError","createParamsFromClient","createRenderParamsFromClient"],"mappings":";;;+BAcgBA,qBAAAA;;;eAAAA;;;;gCAZe;AAYxB,SAASA,kBAAkB,KAWjC;IAXiC,IAAA,EAChCC,SAAS,EACTC,KAAK,EACLC,MAAM,EAENC,AADA,OACO,EAMR,GAXiC,iDAI6B;IAQ7D,IAAI,OAAOC,WAAW,aAAa;QACjC,MAAM,EAAEC,gBAAgB,EAAE,GACxBC,QAAQ;QAEV,IAAIC;QACJ,yEAAyE;QACzE,wEAAwE;QACxE,MAAMC,QAAQH,iBAAiBI,QAAQ;QACvC,IAAI,CAACD,OAAO;YACV,MAAM,OAAA,cAEL,CAFK,IAAIE,gBAAAA,cAAc,CACtB,uGADI,qBAAA;uBAAA;4BAAA;8BAAA;YAEN;QACF;QAEA,MAAM,EAAEC,sBAAsB,EAAE,GAC9BL,QAAQ;QACVC,eAAeI,uBAAuBT,QAAQM;QAE9C,OAAA,WAAA,GAAO,CAAA,GAAA,YAAA,GAAA,EAACR,WAAAA;YAAW,GAAGC,KAAK;YAAEC,QAAQK;;IACvC,OAAO;QACL,MAAM,EAAEK,4BAA4B,EAAE,GACpCN,QAAQ;QACV,MAAMC,eAAeK,6BAA6BV;QAClD,OAAA,WAAA,GAAO,CAAA,GAAA,YAAA,GAAA,EAACF,WAAAA;YAAW,GAAGC,KAAK;YAAEC,QAAQK;;IACvC;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6235, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Guille/Documents/Arquetype/node_modules/next/src/lib/metadata/generate/icon-mark.tsx"],"sourcesContent":["'use client'\n\n// This is a client component that only renders during SSR,\n// but will be replaced during streaming with an icon insertion script tag.\n// We don't want it to be presented anywhere so it's only visible during streaming,\n// right after the icon meta tags so that browser can pick it up as soon as it's rendered.\n// Note: we don't just emit the script here because we only need the script if it's not in the head,\n// and we need it to be hoistable alongside the other metadata but sync scripts are not hoistable.\nexport const IconMark = () => {\n  if (typeof window !== 'undefined') {\n    return null\n  }\n  return <meta name=\"«nxt-icon»\" />\n}\n"],"names":["IconMark","window","meta","name"],"mappings":";;;+BAQaA,YAAAA;;;eAAAA;;;;AAAN,MAAMA,WAAW;IACtB,IAAI,OAAOC,WAAW,aAAa;QACjC,OAAO;IACT;IACA,OAAA,WAAA,GAAO,CAAA,GAAA,YAAA,GAAA,EAACC,QAAAA;QAAKC,MAAK;;AACpB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6257, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Guille/Documents/Arquetype/node_modules/next/src/client/components/metadata/async-metadata.tsx"],"sourcesContent":["'use client'\n\nimport { Suspense, use } from 'react'\nimport type { StreamingMetadataResolvedState } from './types'\n\nfunction MetadataOutlet({\n  promise,\n}: {\n  promise: Promise<StreamingMetadataResolvedState>\n}) {\n  const { error, digest } = use(promise)\n  if (error) {\n    if (digest) {\n      // The error will lose its original digest after passing from server layer to client layer；\n      // We recover the digest property here to override the React created one if original digest exists.\n      ;(error as any).digest = digest\n    }\n    throw error\n  }\n  return null\n}\n\nexport function AsyncMetadataOutlet({\n  promise,\n}: {\n  promise: Promise<StreamingMetadataResolvedState>\n}) {\n  return (\n    <Suspense fallback={null}>\n      <MetadataOutlet promise={promise} />\n    </Suspense>\n  )\n}\n"],"names":["AsyncMetadataOutlet","MetadataOutlet","promise","error","digest","use","Suspense","fallback"],"mappings":";;;+BAsBgBA,uBAAAA;;;eAAAA;;;;uBApBc;AAG9B,SAASC,eAAe,KAIvB;IAJuB,IAAA,EACtBC,OAAO,EAGR,GAJuB;IAKtB,MAAM,EAAEC,KAAK,EAAEC,MAAM,EAAE,GAAGC,CAAAA,GAAAA,OAAAA,GAAG,EAACH;IAC9B,IAAIC,OAAO;QACT,IAAIC,QAAQ;YACV,2FAA2F;YAC3F,mGAAmG;;YACjGD,MAAcC,MAAM,GAAGA;QAC3B;QACA,MAAMD;IACR;IACA,OAAO;AACT;AAEO,SAASH,oBAAoB,KAInC;IAJmC,IAAA,EAClCE,OAAO,EAGR,GAJmC;IAKlC,OAAA,WAAA,GACE,CAAA,GAAA,YAAA,GAAA,EAACI,OAAAA,QAAQ,EAAA;QAACC,UAAU;kBAClB,WAAA,GAAA,CAAA,GAAA,YAAA,GAAA,EAACN,gBAAAA;YAAeC,SAASA;;;AAG/B","ignoreList":[0],"debugId":null}}]
}